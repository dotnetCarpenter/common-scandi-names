var Ko=Object.defineProperty;var dr=Object.getOwnPropertySymbols;var qr=Object.prototype.hasOwnProperty,Zr=Object.prototype.propertyIsEnumerable;var Qr=(N,c,x)=>c in N?Ko(N,c,{enumerable:!0,configurable:!0,writable:!0,value:x}):N[c]=x,eo=(N,c)=>{for(var x in c||(c={}))qr.call(c,x)&&Qr(N,x,c[x]);if(dr)for(var x of dr(c))Zr.call(c,x)&&Qr(N,x,c[x]);return N};var to=(N,c)=>{var x={};for(var X in N)qr.call(N,X)&&c.indexOf(X)<0&&(x[X]=N[X]);if(N!=null&&dr)for(var X of dr(N))c.indexOf(X)<0&&Zr.call(N,X)&&(x[X]=N[X]);return x};const Jo=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const ge of document.querySelectorAll('link[rel="modulepreload"]'))X(ge);new MutationObserver(ge=>{for(const ie of ge)if(ie.type==="childList")for(const O of ie.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&X(O)}).observe(document,{childList:!0,subtree:!0});function x(ge){const ie={};return ge.integrity&&(ie.integrity=ge.integrity),ge.referrerpolicy&&(ie.referrerPolicy=ge.referrerpolicy),ge.crossorigin==="use-credentials"?ie.credentials="include":ge.crossorigin==="anonymous"?ie.credentials="omit":ie.credentials="same-origin",ie}function X(ge){if(ge.ep)return;ge.ep=!0;const ie=x(ge);fetch(ge.href,ie)}};Jo();var hr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Br={exports:{}},Nr={exports:{}},$r={exports:{}},gr={exports:{}};(function(N){(c=>{N.exports=c()})(()=>{const c="@@show",x=[],X=O=>Ce=>ie(Ce)+": "+ie(O[Ce]),ge=O=>Object.keys(O).sort(),ie=O=>{if(x.indexOf(O)>=0)return"<Circular>";const Ce=Object.prototype.toString.call(O);switch(Ce){case"[object Null]":return"null";case"[object Undefined]":return"undefined";case"[object Boolean]":return typeof O=="object"?"new Boolean ("+ie(O.valueOf())+")":O.toString();case"[object Number]":return typeof O=="object"?"new Number ("+ie(O.valueOf())+")":1/O===-1/0?"-0":O.toString(10);case"[object String]":return typeof O=="object"?"new String ("+ie(O.valueOf())+")":JSON.stringify(O);case"[object RegExp]":return O.toString();case"[object Date]":return"new Date ("+ie(isNaN(O.valueOf())?NaN:O.toISOString())+")";case"[object Error]":return"new "+O.name+" ("+ie(O.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(O,ie).join(", ")+")";case"[object Array]":x.push(O);try{return"["+O.map(ie).concat(ge(O).filter(We=>!/^\d+$/.test(We)).map(X(O))).join(", ")+"]"}finally{x.pop()}case"[object Object]":x.push(O);try{return c in O&&(O.constructor==null||O.constructor.prototype!==O)?O[c]():"{"+ge(O).map(X(O)).join(", ")+"}"}finally{x.pop()}case"[object Set]":x.push(O);try{return"new Set ("+ie(Array.from(O.values()))+")"}finally{x.pop()}case"[object Map]":x.push(O);try{return"new Map ("+ie(Array.from(O.entries()))+")"}finally{x.pop()}default:return Ce.replace(/^\[(.*)\]$/,"<$1>")}};return ie})})(gr);var pr={exports:{}},lo={exports:{}};(function(N){(c=>{N.exports=c()})(()=>{const c="@@type",x=new RegExp("^([\\s\\S]+)/([\\s\\S]+?)(?:@([0-9]+))?$"),X=ge=>ge!=null&&ge.constructor!=null&&ge.constructor.prototype!==ge&&typeof ge[c]=="string"?ge[c]:Object.prototype.toString.call(ge).slice(8,-1);return X.parse=ge=>{const[,ie,O,Ce]=x.exec(ge)||[,null,ge,null];return{namespace:ie,name:O,version:Ce==null?0:Number(Ce)}},X})})(lo);(function(N){(c=>{N.exports=c(lo.exports)})(c=>{typeof __doctest!="undefined"&&(__doctest.require("sanctuary-identity"),__doctest.require("./test/List"),__doctest.require("sanctuary-maybe"),__doctest.require("sanctuary-pair"),__doctest.require("./test/Sum"),__doctest.require("sanctuary-useless"));const x=h=>R=>h.concat(R),X=(h,R)=>Object.prototype.hasOwnProperty.call(R,h),ge=h=>h,ie=h=>R=>[h,R],O=(h,R)=>typeof h==typeof R&&c(h)===c(R),Ce=h=>Object.keys(h).sort(),We=h=>({value:h,done:!1}),Be=h=>({value:h,done:!0});function dt(h){return!0}function He(h){return!0}function Xe(h){return!0}function Ue(h){return!0}function fe(h){return typeof this=="object"?S.equals(this.valueOf(),h.valueOf()):this===h}function It(h){return typeof this=="object"?S.lte(this.valueOf(),h.valueOf()):this===!1||h===!0}function Ie(h){return typeof this=="object"?S.equals(this.valueOf(),h.valueOf()):isNaN(this)&&isNaN(h)||this===h}function ze(h){return typeof this=="object"?S.lte(this.valueOf(),h.valueOf()):isNaN(this)||this<=h}function ht(h){return S.equals(this.valueOf(),h.valueOf())}function ot(h){return S.lte(this.valueOf(),h.valueOf())}function wt(h){return h.source===this.source&&h.global===this.global&&h.ignoreCase===this.ignoreCase&&h.multiline===this.multiline&&h.sticky===this.sticky&&h.unicode===this.unicode}const $t=()=>"";function U(h){return typeof this=="object"?S.equals(this.valueOf(),h.valueOf()):this===h}function se(h){return typeof this=="object"?S.lte(this.valueOf(),h.valueOf()):this<=h}function be(h){return this+h}const te=()=>[],ee=h=>[h],r=(h,R)=>{const P=[],Q={};let ue={head:R,tail:Q};for(;ue!==Q;){let me=Q;const _e=h(We,Be,ue.head);for(let Se=0;Se<_e.length;Se+=1){const Re=_e[Se];Re.done?P.push(Re.value):me={head:Re.value,tail:me}}for(ue=ue.tail;me!==Q;)ue={head:me.head,tail:ue},me=me.tail}return P},s=()=>[];function I(h){if(h.length!==this.length)return!1;for(let R=0;R<this.length;R+=1)if(!S.equals(this[R],h[R]))return!1;return!0}function _(h){for(let R=0;;R+=1){if(R===this.length)return!0;if(R===h.length)return!1;if(!S.equals(this[R],h[R]))return S.lte(this[R],h[R])}}function y(h){return this.concat(h)}function E(h){return this.filter(R=>h(R))}function w(h){return this.map(R=>h(R))}function v(h){const R=[];for(let P=0;P<h.length;P+=1)for(let Q=0;Q<this.length;Q+=1)R.push(h[P](this[Q]));return R}function t(h){const R=[];for(let P=0;P<this.length;P+=1)for(let Q=0,ue=h(this[P]);Q<ue.length;Q+=1)R.push(ue[Q]);return R}const n=y;function e(h,R){let P=R;for(let Q=0;Q<this.length;Q+=1)P=h(P,this[Q]);return P}function o(h,R){const P=(Q,ue)=>{switch(ue){case 0:return S.of(h,[]);case 2:return S.lift2(ie,R(this[Q]),R(this[Q+1]));default:{const me=Math.floor(ue/4)*2;return S.lift2(x,P(Q,me),P(Q+me,ue-me))}}};return this.length%2===1?S.lift2(x,S.map(ee,R(this[0])),P(1,this.length-1)):P(0,this.length)}function a(h){return this.map((R,P,Q)=>h(Q.slice(P)))}function i(h){return I.call(this,h)}function l(h){return _.call(this,h)}function u(h){return S.equals(this.name,h.name)&&S.equals(this.message,h.message)}const f=()=>({}),m=()=>({});function d(h){const R=Ce(this);return S.equals(R,Ce(h))&&R.every(P=>S.equals(this[P],h[P]))}function C(h){const R=Ce(this),P=Ce(h);for(;;){if(R.length===0)return!0;if(P.length===0)return!1;const Q=R.shift(),ue=P.shift();if(Q<ue)return!0;if(Q>ue)return!1;if(!S.equals(this[Q],h[Q]))return S.lte(this[Q],h[Q])}}function p(h){const R={};return Object.keys(this).forEach(P=>{R[P]=this[P]}),Object.keys(h).forEach(P=>{R[P]=h[P]}),R}function B(h){const R={};return Object.keys(this).forEach(P=>{h(this[P])&&(R[P]=this[P])}),R}function j(h){const R={};return Object.keys(this).forEach(P=>{R[P]=h(this[P])}),R}function g(h){const R={};return Object.keys(this).forEach(P=>{X(P,h)&&(R[P]=h[P](this[P]))}),R}const L=p;function G(h,R){return Ce(this).reduce((P,Q)=>h(P,this[Q]),R)}function M(h,R){return Object.keys(this).reduce((P,Q)=>S.lift2(ue=>me=>p.call(ue,{[Q]:me}),P,R(this[Q])),S.of(h,{}))}const K=()=>ge,J=h=>R=>h,ae=(h,R)=>P=>{let Q=We(R);for(;!Q.done;)Q=h(We,Be,Q.value)(P);return Q.value};function ce(h){return h===this}function re(h){return R=>h(this(R))}function Ee(h){return R=>h(this(R))}function $e(h,R){return P=>R(this(h(P)))}function Ae(h){return R=>h(R)(this(R))}function Je(h){return R=>h(this(R))(R)}function ye(h){return R=>h(P=>this(S.concat(R,P)))}function Pe(h){return R=>this(h(R))}const ve=(h,R,P)=>{switch(P){case String:return R.String;case Array:return R.Array;case Object:return R.Object;case Function:return R.Function}const Q="fantasy-land/"+h;if(typeof P[Q]=="function")return P[Q];switch(P.name){case"String":return R.String;case"Array":return R.Array;case"Object":return R.Object;case"Function":return R.Function}},Me=(h,R,P)=>{switch(P){case null:return R.Null!=null;case void 0:return R.Undefined!=null}const Q="fantasy-land/"+h;if((P.constructor==null||P.constructor.prototype!==P)&&typeof P[Q]=="function")return!0;if(typeof P["@@type"]=="string")return!1;if(h==="equals"){if(P.constructor===Array||c(P)==="Array")return P.every(S.Setoid.test);if(P.constructor===Object||c(P)==="Object")return Object.values(P).every(S.Setoid.test)}if(h==="lte"){if(P.constructor===Array||c(P)==="Array")return P.every(S.Ord.test);if(P.constructor===Object||c(P)==="Object")return Object.values(P).every(S.Ord.test)}return V(R,P)!=null},xe=(h,R,P)=>{switch(P){case null:return R.Null;case void 0:return R.Undefined}const Q="fantasy-land/"+h;return(P.constructor==null||P.constructor.prototype!==P)&&typeof P[Q]=="function"?P[Q]:V(R,P)},V=(h,R)=>{switch(R.constructor){case Boolean:return h.Boolean;case Number:return h.Number;case Date:return h.Date;case RegExp:return h.RegExp;case String:return h.String;case Array:return h.Array;case Function:return h.Function}switch(c(R)){case"Arguments":return h.Arguments;case"Error":return h.Error;case"Object":return h.Object;case"Boolean":return h.Boolean;case"Number":return h.Number;case"Date":return h.Date;case"RegExp":return h.RegExp;case"String":return h.String;case"Array":return h.Array;case"Function":return h.Function}},S={};S.TypeClass=(h,R,P,Q)=>({"@@type":"sanctuary-type-classes/TypeClass@1",name:h,url:R,test:ue=>P.every(me=>me.test(ue))&&Q(ue)});const H="Constructor",$="Value",k=(h,R,P)=>{const Q="13.0.0",ue=P.filter(Se=>Se.location===H),me=P.filter(Se=>Se.location===$),_e=S.TypeClass(`sanctuary-type-classes/${h}`,`https://github.com/sanctuary-js/sanctuary-type-classes/tree/v${Q}#${h}`,R,(Se=>Re=>{if(Se.includes(Re))return!0;Se.push(Re);try{return ue.every(({name:Oe,implementations:ke})=>Re!=null&&ve(Oe,ke,Re.constructor)!=null)&&me.every(({name:Oe,implementations:ke})=>Me(Oe,ke,Re))}finally{Se.pop()}})([]));return _e.methods={},ue.forEach(({name:Se,arity:Re,implementations:Oe})=>{_e.methods[Se]=Re===0?ke=>ve(Se,Oe,ke)():Re===1?(ke,Ke)=>ve(Se,Oe,ke)(Ke):(ke,Ke,st)=>ve(Se,Oe,ke)(Ke,st)}),me.forEach(({name:Se,arity:Re,implementations:Oe})=>{_e.methods[Se]=Re===0?ke=>xe(Se,Oe,ke).call(ke):Re===1?(ke,Ke)=>xe(Se,Oe,Ke).call(Ke,ke):(ke,Ke,st)=>xe(Se,Oe,st).call(st,ke,Ke)}),_e};S.Setoid=k("Setoid",[],[{name:"equals",location:$,arity:1,implementations:{Arguments:i,Array:I,Boolean:fe,Date:ht,Error:u,Function:ce,Null:dt,Number:Ie,Object:d,RegExp:wt,String:U,Undefined:Xe}}]),S.Ord=k("Ord",[S.Setoid],[{name:"lte",location:$,arity:1,implementations:{Arguments:l,Array:_,Boolean:It,Date:ot,Null:He,Number:ze,Object:C,String:se,Undefined:Ue}}]),S.Semigroupoid=k("Semigroupoid",[],[{name:"compose",location:$,arity:1,implementations:{Function:re}}]),S.Category=k("Category",[S.Semigroupoid],[{name:"id",location:H,arity:0,implementations:{Function:K}}]),S.Semigroup=k("Semigroup",[],[{name:"concat",location:$,arity:1,implementations:{Array:y,Object:p,String:be}}]),S.Monoid=k("Monoid",[S.Semigroup],[{name:"empty",location:H,arity:0,implementations:{Array:te,Object:f,String:$t}}]),S.Group=k("Group",[S.Monoid],[{name:"invert",location:$,arity:0,implementations:{}}]),S.Filterable=k("Filterable",[],[{name:"filter",location:$,arity:1,implementations:{Array:E,Object:B}}]),S.Functor=k("Functor",[],[{name:"map",location:$,arity:1,implementations:{Array:w,Function:Ee,Object:j}}]),S.Bifunctor=k("Bifunctor",[S.Functor],[{name:"bimap",location:$,arity:2,implementations:{}}]),S.Profunctor=k("Profunctor",[S.Functor],[{name:"promap",location:$,arity:2,implementations:{Function:$e}}]),S.Apply=k("Apply",[S.Functor],[{name:"ap",location:$,arity:1,implementations:{Array:v,Function:Ae,Object:g}}]),S.Applicative=k("Applicative",[S.Apply],[{name:"of",location:H,arity:1,implementations:{Array:ee,Function:J}}]),S.Chain=k("Chain",[S.Apply],[{name:"chain",location:$,arity:1,implementations:{Array:t,Function:Je}}]),S.ChainRec=k("ChainRec",[S.Chain],[{name:"chainRec",location:H,arity:2,implementations:{Array:r,Function:ae}}]),S.Monad=k("Monad",[S.Applicative,S.Chain],[]),S.Alt=k("Alt",[S.Functor],[{name:"alt",location:$,arity:1,implementations:{Array:n,Object:L}}]),S.Plus=k("Plus",[S.Alt],[{name:"zero",location:H,arity:0,implementations:{Array:s,Object:m}}]),S.Alternative=k("Alternative",[S.Applicative,S.Plus],[]),S.Foldable=k("Foldable",[],[{name:"reduce",location:$,arity:2,implementations:{Array:e,Object:G}}]),S.Traversable=k("Traversable",[S.Functor,S.Foldable],[{name:"traverse",location:$,arity:2,implementations:{Array:o,Object:M}}]),S.Extend=k("Extend",[S.Functor],[{name:"extend",location:$,arity:1,implementations:{Array:a,Function:ye}}]),S.Comonad=k("Comonad",[S.Extend],[{name:"extract",location:$,arity:0,implementations:{}}]),S.Contravariant=k("Contravariant",[],[{name:"contramap",location:$,arity:1,implementations:{Function:Pe}}]);{const h=[];S.equals=(R,P)=>{if(!O(R,P))return!1;if(h.some(([Q,ue])=>Q===R&&ue===P))return!0;h.push([R,P]);try{return S.Setoid.test(R)?S.Setoid.methods.equals(P,R):d.call(R,P)}finally{h.pop()}}}S.lt=(h,R)=>O(h,R)&&!S.lte(R,h);{const h=[];S.lte=(R,P)=>{if(!O(R,P))return!1;if(h.some(([Q,ue])=>Q===R&&ue===P))return S.equals(R,P);h.push([R,P]);try{return S.Ord.test(R)&&S.Ord.methods.lte(P,R)}finally{h.pop()}}}return S.gt=(h,R)=>S.lt(R,h),S.gte=(h,R)=>S.lte(R,h),S.min=(h,R)=>S.lte(h,R)?h:R,S.max=(h,R)=>S.lte(h,R)?R:h,S.clamp=(h,R,P)=>S.max(h,S.min(R,P)),S.compose=S.Semigroupoid.methods.compose,S.id=S.Category.methods.id,S.concat=(h,R)=>S.Semigroup.methods.concat(R,h),S.empty=S.Monoid.methods.empty,S.invert=S.Group.methods.invert,S.filter=S.Filterable.methods.filter,S.reject=(h,R)=>S.filter(P=>!h(P),R),S.map=S.Functor.methods.map,S.flip=(h,R)=>S.map(P=>P(R),h),S.bimap=S.Bifunctor.methods.bimap,S.mapLeft=(h,R)=>S.bimap(h,ge,R),S.promap=S.Profunctor.methods.promap,S.ap=S.Apply.methods.ap,S.lift2=(h,R,P)=>S.ap(S.map(h,R),P),S.lift3=(h,R,P,Q)=>S.ap(S.ap(S.map(h,R),P),Q),S.apFirst=(h,R)=>S.lift2(P=>Q=>P,h,R),S.apSecond=(h,R)=>S.lift2(P=>Q=>Q,h,R),S.of=S.Applicative.methods.of,S.append=(h,R)=>S.concat(R,S.of(R.constructor,h)),S.prepend=(h,R)=>S.concat(S.of(R.constructor,h),R),S.chain=S.Chain.methods.chain,S.join=h=>S.chain(ge,h),S.chainRec=S.ChainRec.methods.chainRec,S.alt=(h,R)=>S.Alt.methods.alt(R,h),S.zero=S.Plus.methods.zero,S.reduce=S.Foldable.methods.reduce,S.size=h=>Array.isArray(h)?h.length:S.reduce((R,P)=>R+1,0,h),S.all=(h,R)=>Array.isArray(R)?R.every(P=>h(P)):S.reduce((P,Q)=>P&&h(Q),!0,R),S.any=(h,R)=>Array.isArray(R)?R.some(P=>h(P)):S.reduce((P,Q)=>P||h(Q),!1,R),S.none=(h,R)=>!S.any(h,R),S.elem=(h,R)=>S.any(P=>S.equals(h,P),R),S.intercalate=(h,R)=>S.reduce(({empty:P,value:Q},ue)=>({empty:!1,value:S.concat(Q,P?ue:S.concat(h,ue))}),{empty:!0,value:S.empty(h.constructor)},R).value,S.foldMap=(h,R,P)=>S.reduce((Q,ue)=>S.concat(Q,R(ue)),S.empty(h),P),S.reverse=h=>{if(Array.isArray(h))return h.slice().reverse();const R=h.constructor;return S.reduce((P,Q)=>S.concat(S.of(R,Q),P),S.empty(R),h)},S.sort=h=>S.sortBy(ge,h),S.sortBy=(h,R)=>{const P=S.reduce((_e,Se)=>(_e.push({idx:_e.length,x:Se,fx:h(Se)}),_e),[],R),Q=(_e=>{switch(typeof(_e&&_e.fx)){case"number":return(Se,Re)=>Se<=Re||Se!==Se;case"string":return(Se,Re)=>Se<=Re;default:return S.lte}})(P[0]);if(P.sort((_e,Se)=>Q(_e.fx,Se.fx)?Q(Se.fx,_e.fx)?_e.idx-Se.idx:-1:1),Array.isArray(R)){for(let _e=0;_e<P.length;_e+=1)P[_e]=P[_e].x;return P}const ue=R.constructor;let me=S.empty(ue);for(let _e=0;_e<P.length;_e+=1)me=S.concat(me,S.of(ue,P[_e].x));return me},S.traverse=S.Traversable.methods.traverse,S.sequence=(h,R)=>S.traverse(h,ge,R),S.extend=S.Extend.methods.extend,S.duplicate=h=>S.extend(ge,h),S.extract=S.Comonad.methods.extract,S.contramap=S.Contravariant.methods.contramap,S})})(pr);(function(N){(c=>{N.exports=c(gr.exports,pr.exports)})((c,x)=>{typeof __doctest!="undefined"&&(__doctest.require("sanctuary"),__doctest.require("sanctuary-def"));const X="sanctuary-either/Either@1",ge={},ie={constructor:ge,isLeft:!0,isRight:!1,"@@type":X,"@@show":He,"fantasy-land/map":ot,"fantasy-land/bimap":$t,"fantasy-land/ap":se,"fantasy-land/chain":te,"fantasy-land/alt":r,"fantasy-land/reduce":I,"fantasy-land/traverse":y,"fantasy-land/extend":w},O={constructor:ge,isLeft:!1,isRight:!0,"@@type":X,"@@show":Xe,"fantasy-land/map":wt,"fantasy-land/bimap":U,"fantasy-land/ap":be,"fantasy-land/chain":ee,"fantasy-land/alt":s,"fantasy-land/reduce":_,"fantasy-land/traverse":E,"fantasy-land/extend":v};typeof process!="undefined"&&process!=null&&process.versions!=null&&process.versions.node!=null&&(ie[Symbol.for("nodejs.util.inspect.custom")]=He,O[Symbol.for("nodejs.util.inspect.custom")]=Xe),typeof Deno!="undefined"&&Deno!=null&&typeof Deno.customInspect=="symbol"&&(ie[Deno.customInspect]=He,O[Deno.customInspect]=Xe);const Ce=ge.Left=t=>{const n=Object.create(ie);return x.Setoid.test(t)&&(n["fantasy-land/equals"]=Ue,x.Ord.test(t)&&(n["fantasy-land/lte"]=It)),x.Semigroup.test(t)&&(n["fantasy-land/concat"]=ze),n.value=t,n},We=ge.Right=t=>{const n=Object.create(O);return x.Setoid.test(t)&&(n["fantasy-land/equals"]=fe,x.Ord.test(t)&&(n["fantasy-land/lte"]=Ie)),x.Semigroup.test(t)&&(n["fantasy-land/concat"]=ht),n.value=t,n};ge.either=t=>n=>e=>(e.isLeft?t:n)(e.value),ge["fantasy-land/of"]=We;const Be=t=>({tag:Be,value:t}),dt=t=>({tag:dt,value:t});ge["fantasy-land/chainRec"]=(t,n)=>{let e=Be(n);for(;e.tag===Be;){const o=t(Be,dt,e.value);if(o.isLeft)return o;e=o.value}return We(e.value)};function He(){return"Left ("+c(this.value)+")"}function Xe(){return"Right ("+c(this.value)+")"}function Ue(t){return t.isLeft&&x.equals(this.value,t.value)}function fe(t){return t.isRight&&x.equals(this.value,t.value)}function It(t){return t.isRight||x.lte(this.value,t.value)}function Ie(t){return t.isRight&&x.lte(this.value,t.value)}function ze(t){return t.isLeft?Ce(x.concat(this.value,t.value)):t}function ht(t){return t.isRight?We(x.concat(this.value,t.value)):this}function ot(t){return this}function wt(t){return We(t(this.value))}function $t(t,n){return Ce(t(this.value))}function U(t,n){return We(n(this.value))}function se(t){return t.isLeft?t:this}function be(t){return t.isLeft?t:We(t.value(this.value))}function te(t){return this}function ee(t){return t(this.value)}function r(t){return t}function s(t){return this}function I(t,n){return n}function _(t,n){return t(n,this.value)}function y(t,n){return x.of(t,this)}function E(t,n){return x.map(We,n(this.value))}function w(t){return this}function v(t){return We(t(this))}return ge})})($r);var uo={exports:{}};(function(N){(function(c){N.exports=c()})(function(){var c="@@show",x=[];function X(O){return function(Ce){return ie(Ce)+": "+ie(O[Ce])}}function ge(O){return Object.keys(O).sort()}function ie(O){if(x.indexOf(O)>=0)return"<Circular>";switch(Object.prototype.toString.call(O)){case"[object Boolean]":return typeof O=="object"?"new Boolean ("+ie(O.valueOf())+")":O.toString();case"[object Number]":return typeof O=="object"?"new Number ("+ie(O.valueOf())+")":1/O===-1/0?"-0":O.toString(10);case"[object String]":return typeof O=="object"?"new String ("+ie(O.valueOf())+")":JSON.stringify(O);case"[object Date]":return"new Date ("+ie(isNaN(O.valueOf())?NaN:O.toISOString())+")";case"[object Error]":return"new "+O.name+" ("+ie(O.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(O,ie).join(", ")+")";case"[object Array]":x.push(O);try{return"["+O.map(ie).concat(ge(O).filter(function(Ce){return!/^\d+$/.test(Ce)}).map(X(O))).join(", ")+"]"}finally{x.pop()}case"[object Object]":x.push(O);try{return c in O&&(O.constructor==null||O.constructor.prototype!==O)?O[c]():"{"+ge(O).map(X(O)).join(", ")+"}"}finally{x.pop()}case"[object Set]":x.push(O);try{return"new Set ("+ie(Array.from(O.values()))+")"}finally{x.pop()}case"[object Map]":x.push(O);try{return"new Map ("+ie(Array.from(O.entries()))+")"}finally{x.pop()}default:return String(O)}}return ie})})(uo);var so={exports:{}},nr={exports:{}};(function(N){(function(c){N.exports=c()})(function(){var c="@@type",x=new RegExp("^([\\s\\S]+)/([\\s\\S]+?)(?:@([0-9]+))?$");function X(ge){return ge!=null&&ge.constructor!=null&&ge.constructor.prototype!==ge&&typeof ge[c]=="string"?ge[c]:Object.prototype.toString.call(ge).slice(8,-1)}return X.parse=function(ie){var O=null,Ce=ie,We=0,Be=x.exec(ie);return Be!=null&&(O=Be[1],Ce=Be[2],Be[3]!=null&&(We=Number(Be[3]))),{namespace:O,name:Ce,version:We}},X})})(nr);var Fn=nr.exports;(function(N){(function(c){N.exports=c(nr.exports)})(function(c){if(typeof __doctest!="undefined"){__doctest.require("sanctuary-identity");var x=__doctest.require("./test/List"),X=__doctest.require("sanctuary-maybe");__doctest.require("sanctuary-pair"),__doctest.require("./test/Sum"),x.Nil,x.Cons,X.Nothing,X.Just}function ge(b){return function(A){return b.concat(A)}}function ie(b){return function(A){return b}}function O(b,A){Object.keys(b).forEach(A,b)}function Ce(b,A){return Object.prototype.hasOwnProperty.call(A,b)}function We(b){return b}function Be(b){return function(A){return[b,A]}}function dt(b,A){return typeof b==typeof A&&c(b)===c(A)}function He(b){return Object.keys(b).sort()}function Xe(b){return function(A){return A(b)}}function Ue(b){return function(A){return b(A)}}function fe(b){return{value:b,done:!1}}function It(b){return{value:b,done:!0}}function Ie(b,A,Z,he){if(!(this instanceof Ie))return new Ie(b,A,Z,he);this.name=b,this.url=A,this.test=function(Fe){return Z.every(function(mt){return mt.test(Fe)})&&he(Fe)}}Ie.prototype["@@type"]="sanctuary-type-classes/TypeClass@1";var ze="Constructor",ht="Value";function ot(b,A,Z){for(var he=Z,Fe=0;Fe<A.length;Fe+=1){var mt=A[Fe];if(he==null||!(b||Ce(mt,he)))return null;he=he[mt]}return typeof he=="function"?he:null}function wt(b,A){return ot(!0,b,A)}function $t(b){return ot(!1,b,zt)}var U=Ce("name",function(){})?function(A){return A.name}:function(A){var Z=/function (\w*)/.exec(A);return Z==null?"":Z[1]};function se(b,A,Z){function he(bt){var ut="fantasy-land/"+bt;return Z[bt]===ze?function(kt){var jn=wt([ut],kt);return jn==null&&typeof kt=="function"?$t([U(kt),ut]):jn}:function(kt){var jn=kt!=null&&kt.constructor!=null&&kt.constructor.prototype===kt,Cn=null;return jn||(Cn=wt([ut],kt)),Cn==null&&(Cn=$t([c(kt),"prototype",ut])),Cn&&Cn.bind(kt)}}var Fe="12.1.0",mt=Object.keys(Z),Gt=Ie("sanctuary-type-classes/"+b,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v"+Fe+"#"+b,A,function(bt){return mt.every(function(ut){var kt=Z[ut]===ze?bt.constructor:bt;return he(ut)(kt)!=null})});return Gt.methods=mt.reduce(function(bt,ut){return bt[ut]=he(ut),bt},{}),Gt}var be=se("Setoid",[],{equals:ht}),te=se("Ord",[be],{lte:ht}),ee=se("Semigroupoid",[],{compose:ht}),r=se("Category",[ee],{id:ze}),s=se("Semigroup",[],{concat:ht}),I=se("Monoid",[s],{empty:ze}),_=se("Group",[I],{invert:ht}),y=se("Filterable",[],{filter:ht}),E=se("Functor",[],{map:ht}),w=se("Bifunctor",[E],{bimap:ht}),v=se("Profunctor",[E],{promap:ht}),t=se("Apply",[E],{ap:ht}),n=se("Applicative",[t],{of:ze}),e=se("Chain",[t],{chain:ht}),o=se("ChainRec",[e],{chainRec:ze}),a=se("Monad",[n,e],{}),i=se("Alt",[E],{alt:ht}),l=se("Plus",[i],{zero:ze}),u=se("Alternative",[n,l],{}),f=se("Foldable",[],{reduce:ht}),m=se("Traversable",[E,f],{traverse:ht}),d=se("Extend",[E],{extend:ht}),C=se("Comonad",[d],{extract:ht}),p=se("Contravariant",[],{contramap:ht});function B(b){return!0}function j(b){return!0}function g(b){return!0}function L(b){return!0}function G(b){return typeof this=="object"?jt(this.valueOf(),b.valueOf()):this===b}function M(b){return typeof this=="object"?vt(this.valueOf(),b.valueOf()):this===!1||b===!0}function K(b){return typeof this=="object"?jt(this.valueOf(),b.valueOf()):isNaN(this)&&isNaN(b)||this===b}function J(b){return typeof this=="object"?vt(this.valueOf(),b.valueOf()):isNaN(this)||this<=b}function ae(b){return jt(this.valueOf(),b.valueOf())}function ce(b){return vt(this.valueOf(),b.valueOf())}function re(b){return b.source===this.source&&b.global===this.global&&b.ignoreCase===this.ignoreCase&&b.multiline===this.multiline&&b.sticky===this.sticky&&b.unicode===this.unicode}function Ee(){return""}function $e(b){return typeof this=="object"?jt(this.valueOf(),b.valueOf()):this===b}function Ae(b){return typeof this=="object"?vt(this.valueOf(),b.valueOf()):this<=b}function Je(b){return this+b}function ye(){return[]}function Pe(b){return[b]}function ve(b,A){for(var Z=[],he={},Fe={head:A,tail:he};Fe!==he;){for(var mt=he,Gt=b(fe,It,Fe.head),bt=0;bt<Gt.length;bt+=1){var ut=Gt[bt];ut.done?Z.push(ut.value):mt={head:ut.value,tail:mt}}for(Fe=Fe.tail;mt!==he;)Fe={head:mt.head,tail:Fe},mt=mt.tail}return Z}function Me(){return[]}function xe(b){if(b.length!==this.length)return!1;for(var A=0;A<this.length;A+=1)if(!jt(this[A],b[A]))return!1;return!0}function V(b){for(var A=0;;A+=1){if(A===this.length)return!0;if(A===b.length)return!1;if(!jt(this[A],b[A]))return vt(this[A],b[A])}}function S(b){return this.concat(b)}function H(b){return this.filter(function(A){return b(A)})}function $(b){return this.map(function(A){return b(A)})}function k(b){for(var A=[],Z=0;Z<b.length;Z+=1)for(var he=0;he<this.length;he+=1)A.push(b[Z](this[he]));return A}function h(b){for(var A=[],Z=0;Z<this.length;Z+=1)for(var he=0,Fe=b(this[Z]);he<Fe.length;he+=1)A.push(Fe[he]);return A}var R=S;function P(b,A){for(var Z=A,he=0;he<this.length;he+=1)Z=b(Z,this[he]);return Z}function Q(b,A){var Z=this;function he(Fe,mt){switch(mt){case 0:return nt(b,[]);case 2:return je(Be,A(Z[Fe]),A(Z[Fe+1]));default:var Gt=Math.floor(mt/4)*2;return je(ge,he(Fe,Gt),he(Fe+Gt,mt-Gt))}}return this.length%2===1?je(ge,q(Pe,A(this[0])),he(1,this.length-1)):he(0,this.length)}function ue(b){return this.map(function(A,Z,he){return b(he.slice(Z))})}function me(b){return xe.call(this,b)}function _e(b){return V.call(this,b)}function Se(b){return jt(this.name,b.name)&&jt(this.message,b.message)}function Re(){return{}}function Oe(){return{}}function ke(b){var A=this,Z=He(this);return jt(Z,He(b))&&Z.every(function(he){return jt(A[he],b[he])})}function Ke(b){for(var A=He(this),Z=He(b);;){if(A.length===0)return!0;if(Z.length===0)return!1;var he=A.shift(),Fe=Z.shift();if(he<Fe)return!0;if(he>Fe)return!1;if(!jt(this[he],b[he]))return vt(this[he],b[he])}}function st(b){var A={};function Z(he){A[he]=this[he]}return O(this,Z),O(b,Z),A}function St(b){var A={};return O(this,function(Z){b(this[Z])&&(A[Z]=this[Z])}),A}function yt(b){var A={};return O(this,function(Z){A[Z]=b(this[Z])}),A}function Bt(b){var A={};return O(this,function(Z){Ce(Z,b)&&(A[Z]=b[Z](this[Z]))}),A}var Lt=st;function pt(b,A){var Z=this;function he(Fe,mt){return b(Fe,Z[mt])}return He(this).reduce(he,A)}function Tt(b,A){var Z=this;return Object.keys(this).reduce(function(he,Fe){function mt(Gt){return function(bt){var ut={};return ut[Fe]=bt,st.call(Gt,ut)}}return je(mt,he,A(Z[Fe]))},nt(b,{}))}function Mt(){return We}function Rt(b){return function(A){return b}}function Nt(b,A){return function(Z){for(var he=fe(A);!he.done;)he=b(fe,It,he.value)(Z);return he.value}}function Ht(b){return b===this}function Ut(b){var A=this;return function(Z){return b(A(Z))}}function Wt(b){var A=this;return function(Z){return b(A(Z))}}function Ft(b,A){var Z=this;return function(he){return A(Z(b(he)))}}function un(b){var A=this;return function(Z){return b(Z)(A(Z))}}function en(b){var A=this;return function(Z){return b(A(Z))(Z)}}function sn(b){var A=this;return function(Z){return b(function(he){return A(Qt(Z,he))})}}function on(b){var A=this;return function(Z){return A(b(Z))}}var zt={Null:{prototype:{"fantasy-land/equals":B,"fantasy-land/lte":j}},Undefined:{prototype:{"fantasy-land/equals":g,"fantasy-land/lte":L}},Boolean:{prototype:{"fantasy-land/equals":G,"fantasy-land/lte":M}},Number:{prototype:{"fantasy-land/equals":K,"fantasy-land/lte":J}},Date:{prototype:{"fantasy-land/equals":ae,"fantasy-land/lte":ce}},RegExp:{prototype:{"fantasy-land/equals":re}},String:{"fantasy-land/empty":Ee,prototype:{"fantasy-land/equals":$e,"fantasy-land/lte":Ae,"fantasy-land/concat":Je}},Array:{"fantasy-land/empty":ye,"fantasy-land/of":Pe,"fantasy-land/chainRec":ve,"fantasy-land/zero":Me,prototype:{"fantasy-land/equals":xe,"fantasy-land/lte":V,"fantasy-land/concat":S,"fantasy-land/filter":H,"fantasy-land/map":$,"fantasy-land/ap":k,"fantasy-land/chain":h,"fantasy-land/alt":R,"fantasy-land/reduce":P,"fantasy-land/traverse":Q,"fantasy-land/extend":ue}},Arguments:{prototype:{"fantasy-land/equals":me,"fantasy-land/lte":_e}},Error:{prototype:{"fantasy-land/equals":Se}},Object:{"fantasy-land/empty":Re,"fantasy-land/zero":Oe,prototype:{"fantasy-land/equals":ke,"fantasy-land/lte":Ke,"fantasy-land/concat":st,"fantasy-land/filter":St,"fantasy-land/map":yt,"fantasy-land/ap":Bt,"fantasy-land/alt":Lt,"fantasy-land/reduce":pt,"fantasy-land/traverse":Tt}},Function:{"fantasy-land/id":Mt,"fantasy-land/of":Rt,"fantasy-land/chainRec":Nt,prototype:{"fantasy-land/equals":Ht,"fantasy-land/compose":Ut,"fantasy-land/map":Wt,"fantasy-land/promap":Ft,"fantasy-land/ap":un,"fantasy-land/chain":en,"fantasy-land/extend":sn,"fantasy-land/contramap":on}}},jt=function(){var b=[];return function(Z,he){if(!dt(Z,he))return!1;if(b.some(function(Fe){return Fe[0]===Z&&Fe[1]===he}))return!0;b.push([Z,he]);try{return be.test(Z)&&be.test(he)&&be.methods.equals(Z)(he)}finally{b.pop()}}}();function Ot(b,A){return dt(b,A)&&!vt(A,b)}var vt=function(){var b=[];return function(Z,he){if(!dt(Z,he))return!1;if(b.some(function(Fe){return Fe[0]===Z&&Fe[1]===he}))return jt(Z,he);b.push([Z,he]);try{return te.test(Z)&&te.test(he)&&te.methods.lte(Z)(he)}finally{b.pop()}}}();function nn(b,A){return Ot(A,b)}function tn(b,A){return vt(A,b)}function xt(b,A){return vt(b,A)?b:A}function hn(b,A){return vt(b,A)?A:b}function vn(b,A,Z){return hn(b,xt(A,Z))}function Yt(b,A){return ee.methods.compose(A)(b)}function Bn(b){return r.methods.id(b)()}function Qt(b,A){return s.methods.concat(b)(A)}function gt(b){return I.methods.empty(b)()}function Tn(b){return _.methods.invert(b)()}function D(b,A){return y.methods.filter(A)(b)}function de(b,A){return D(function(Z){return!b(Z)},A)}function q(b,A){return E.methods.map(A)(b)}function Y(b,A){return E.methods.map(b)(Xe(A))}function T(b,A,Z){return w.methods.bimap(Z)(b,A)}function W(b,A){return T(b,We,A)}function oe(b,A,Z){return v.methods.promap(Z)(b,A)}function le(b,A){return t.methods.ap(A)(b)}function je(b,A,Z){return le(q(b,A),Z)}function Te(b,A,Z,he){return le(le(q(b,A),Z),he)}function Ge(b,A){return je(ie,b,A)}function tt(b,A){return je(ie(We),b,A)}function nt(b,A){return n.methods.of(b)(A)}function Ne(b,A){return Qt(A,nt(A.constructor,b))}function Qe(b,A){return Qt(nt(A.constructor,b),A)}function ft(b,A){return e.methods.chain(A)(b)}function ct(b){return ft(We,b)}function At(b,A,Z){return o.methods.chainRec(b)(A,Z)}function Ve(b,A){return i.methods.alt(b)(A)}function Ze(b){return l.methods.zero(b)()}function et(b,A,Z){return f.methods.reduce(Z)(b,A)}function Ct(b){return Array.isArray(b)?b.length:et(function(A,Z){return A+1},0,b)}function Dt(b,A){return Array.isArray(A)?A.every(Ue(b)):et(function(Z,he){return Z&&b(he)},!0,A)}function F(b,A){return Array.isArray(A)?A.some(Ue(b)):et(function(Z,he){return Z||b(he)},!1,A)}function ne(b,A){return!F(b,A)}function we(b,A){return F(function(Z){return jt(b,Z)},A)}function qe(b,A){var Z=et(function(he,Fe){return{empty:!1,value:Qt(he.value,he.empty?Fe:Qt(b,Fe))}},{empty:!0,value:gt(b.constructor)},A);return Z.value}function _t(b,A,Z){return et(function(he,Fe){return Qt(he,A(Fe))},gt(b),Z)}function Kt(b){if(Array.isArray(b))return b.slice().reverse();var A=b.constructor;return et(function(Z,he){return Qt(nt(A,he),Z)},gt(A),b)}function wn(b){return Sn(We,b)}function Sn(b,A){var Z=et(function(bt,ut){return bt.push({idx:bt.length,x:ut,fx:b(ut)}),bt},[],A),he=function(bt){switch(typeof(bt&&bt.fx)){case"number":return function(ut,kt){return ut<=kt||ut!==ut};case"string":return function(ut,kt){return ut<=kt};default:return vt}}(Z[0]);if(Z.sort(function(bt,ut){return he(bt.fx,ut.fx)?he(ut.fx,bt.fx)?bt.idx-ut.idx:-1:1}),Array.isArray(A)){for(var Fe=0;Fe<Z.length;Fe+=1)Z[Fe]=Z[Fe].x;return Z}var mt=A.constructor,Gt=gt(mt);for(Fe=0;Fe<Z.length;Fe+=1)Gt=Qt(Gt,nt(mt,Z[Fe].x));return Gt}function Mn(b,A,Z){return m.methods.traverse(Z)(b,A)}function Hn(b,A){return Mn(b,We,A)}function kn(b,A){return d.methods.extend(A)(b)}function Vn(b){return kn(We,b)}function Xn(b){return C.methods.extract(b)()}function Qn(b,A){return p.methods.contramap(A)(b)}return{TypeClass:Ie,Setoid:be,Ord:te,Semigroupoid:ee,Category:r,Semigroup:s,Monoid:I,Group:_,Filterable:y,Functor:E,Bifunctor:w,Profunctor:v,Apply:t,Applicative:n,Chain:e,ChainRec:o,Monad:a,Alt:i,Plus:l,Alternative:u,Foldable:f,Traversable:m,Extend:d,Comonad:C,Contravariant:p,equals:jt,lt:Ot,lte:vt,gt:nn,gte:tn,min:xt,max:hn,clamp:vn,compose:Yt,id:Bn,concat:Qt,empty:gt,invert:Tn,filter:D,reject:de,map:q,flip:Y,bimap:T,mapLeft:W,promap:oe,ap:le,lift2:je,lift3:Te,apFirst:Ge,apSecond:tt,of:nt,append:Ne,prepend:Qe,chain:ft,join:ct,chainRec:At,alt:Ve,zero:Ze,reduce:et,size:Ct,all:Dt,any:F,none:ne,elem:we,intercalate:qe,foldMap:_t,reverse:Kt,sort:wn,sortBy:Sn,traverse:Mn,sequence:Hn,extend:kn,duplicate:Vn,extract:Xn,contramap:Qn}})})(so);(function(N){(function(c){N.exports=c($r.exports,uo.exports,so.exports,nr.exports)})(function(c,x,X,ge){var ie=Math.pow(2,53)-1,O=-ie,Ce=Array.prototype.slice,We=Object.prototype.hasOwnProperty,Be=Object.prototype.toString,dt=c.Left,He=c.Right;function Xe(z){return function(pe){return function(De){return z(pe(De))}}}function Ue(z){return z}function fe(z){return function(pe){return z}}function It(z){return function(){return z}}function Ie(z){return function(pe,De){return z}}function ze(z){return function(pe){return!z(pe)}}function ht(z){return function(pe){return X.filter(z,pe)}}function ot(z){return z.slice(0,-1)}function wt(z){return X.size(z)===0}function $t(z){return function(pe){if(z.length>pe.length)return!1;for(var De=0;De<z.length;De+=1)if(z[De]!==pe[De])return!1;return!0}}function U(z,pe){return pe.join(z)}function se(z){return z[z.length-1]}function be(z){return function(pe){return z.some(function(De){return X.equals(De,pe)})}}function te(z,pe){return wt(z)?pe:z}function ee(z){return function(pe){return pe[z]}}function r(z){return function(pe){return X.size(pe)===z}}function s(z,pe){return U(z,Array(pe+1))}function I(z){return function(pe){return s(z,pe.length)}}var _=I(" ");function y(z){return Object.keys(z).sort()}function E(z){return Array.isArray(z)?z:X.reduce(function(pe,De){return pe.push(De),pe},[],z)}function w(z,pe,De,Le){return wt(Le)?z:X.reduce(function(Ye,rt){return Ye+"  - "+De(rt)+`
`},pe,Le)}function v(z){return z.replace(/[ ]+$/gm,"")}function t(z){return function(pe){return function(De){return z?pe(De):De}}}function n(z){return function(pe){return function(De){return z+De+pe}}}function e(z){return n(z("("))(z(")"))}var o=n("\u2018")("\u2019");function a(z){return z.name.slice(z.name.indexOf("/")+1)}function i(z){return function(pe){return function De(Le){return Le.supertypes.every(De)&&Le._test(z)(pe)}}}var l={"@@type":"sanctuary-def/Type@1","@@show":function(){return this.format(Ue,fe(Ue))},validate:function(z){var pe=i(z),De=this;return function(Le){if(!pe(Le)(De))return dt({value:Le,propPath:[]});for(var Ye=0;Ye<De.keys.length;Ye+=1)for(var rt=De.keys[Ye],it=De.types[rt],Et=De.extractors[rt](Le),at=0;at<Et.length;at+=1){var lt=it.validate(z)(Et[at]);if(lt.isLeft)return dt({value:lt.value.value,propPath:X.concat([rt],lt.value.propPath)})}return He(Le)}},"fantasy-land/equals":function(z){return X.equals(this.type,z.type)&&X.equals(this.name,z.name)&&X.equals(this.url,z.url)&&X.equals(this.supertypes,z.supertypes)&&this.keys.length===z.keys.length&&this.keys.every(function(pe){return z.keys.includes(pe)})&&X.equals(this.types,z.types)}};function u(z,pe,De,Le,Ye,rt,it,Et){var at=Object.create(l);return at._test=it,at._extractors=Et.reduce(function(lt,Vt){return lt[Vt[0]]=Vt[1],lt},{}),at.arity=Le,at.extractors=X.map(Xe(E),at._extractors),at.format=Ye||function(lt,Vt){return X.reduce(function(rn,an){return rn+lt(" ")+t(an[2].arity>0)(e(lt))(Vt(an[0])(x(an[2])))},lt(pe),Et)},at.keys=Et.map(function(lt){return lt[0]}),at.name=pe,at.supertypes=rt,at.type=z,at.types=Et.reduce(function(lt,Vt){return lt[Vt[0]]=Vt[2],lt},{}),at.url=De,at}var f="BINARY",m="FUNCTION",d="INCONSISTENT",C="NO_ARGUMENTS",p="NULLARY",B="RECORD",j="UNARY",g="UNKNOWN",L="VARIABLE",G=u(d,"","",0,Ie("???"),[],fe(fe(!1)),[]),M=u(C,"","",0,Ie("()"),[],fe(fe(!0)),[]);function K(z){return function(pe){return pe.arity>=z}}function J(z){return function(pe){return ge(pe)===z}}function ae(z){return function(pe){return typeof pe===z}}function ce(z){var pe="0.22.0";return"https://github.com/sanctuary-js/sanctuary-def/tree/v"+pe+"#"+z}var re=X.ap(ft,ce),Ee=X.ap(ct,ce),$e=X.ap(Ve,ce),Ae=u(g,"","",0,Ie("Unknown"),[],fe(fe(!0)),[]),Je=re("Void")([])(fe(!1)),ye=re("Any")([])(fe(!0)),Pe=re("Function")([])(ae("function")),ve=re("Arguments")([])(J("Arguments")),Me=Ee("Array")([])(J("Array"))(Ue),xe=re("Array0")([Me(Ae)])(r(0)),V=Ee("Array1")([Me(Ae)])(r(1))(Ue),S=$e("Array2")([Me(Ae)])(r(2))(function(z){return[z[0]]})(function(z){return[z[1]]}),H=re("Boolean")([])(ae("boolean")),$=re("Buffer")([])(function(z){return typeof Buffer!="undefined"&&Buffer.isBuffer(z)}),k=re("Date")([])(J("Date")),h=re("ValidDate")([k])(Xe(ze(isNaN))(Number)),R=Ee("Descending")([])(J("sanctuary-descending/Descending@1"))(Ue),P=$e("Either")([])(J("sanctuary-either/Either@1"))(function(z){return z.isLeft?[z.value]:[]})(function(z){return z.isLeft?[]:[z.value]}),Q=re("Error")([])(J("Error"));function ue(z){return function(pe){return me([z,pe])}}function me(z){var pe=X.reduce(function(Le,Ye){return Le.push(["$"+x(Le.length+1),fe([]),Ye]),Le},[],z);function De(Le,Ye){return t(pe.length!==2)(e(Le))(U(Le(", "),X.map(function(rt){return t(rt[2].type===m)(e(Le))(Ye(rt[0])(x(rt[2])))},ot(pe))))+Le(" -> ")+Ye(se(pe)[0])(x(se(pe)[2]))}return u(m,"","",z.length,De,[Pe],fe(fe(!0)),pe)}var _e=re("HtmlElement")([])(function(z){return/^\[object HTML.*Element\]$/.test(Be.call(z))}),Se=Ee("Identity")([])(J("sanctuary-identity/Identity@1"))(Ue),Re=$e("JsMap")([])(function(z){return Be.call(z)==="[object Map]"})(function(z){return Array.from(z.keys())})(function(z){return Array.from(z.values())}),Oe=Ee("JsSet")([])(function(z){return Be.call(z)==="[object Set]"})(function(z){return Array.from(z.values())}),ke=Ee("Maybe")([])(J("sanctuary-maybe/Maybe@1"))(Ue),Ke=re("Module")([])(function(z){return Be.call(z)==="[object Module]"}),st=Ee("NonEmpty")([])(function(z){return X.Monoid.test(z)&&X.Setoid.test(z)&&!X.equals(z,X.empty(z.constructor))})(function(z){return[z]}),St=re("Null")([])(J("Null")),yt=Ee("Nullable")([])(fe(!0))(function(z){return z===null?[]:[z]}),Bt=re("Number")([])(ae("number"));function Lt(z){return z!==0}function pt(z){return z>=0}function Tt(z){return z>0}function Mt(z){return z<0}var Rt=re("PositiveNumber")([Bt])(Tt),Nt=re("NegativeNumber")([Bt])(Mt),Ht=re("ValidNumber")([Bt])(ze(isNaN)),Ut=re("NonZeroValidNumber")([Ht])(Lt),Wt=re("FiniteNumber")([Ht])(isFinite),Ft=re("NonZeroFiniteNumber")([Wt])(Lt),un=re("PositiveFiniteNumber")([Wt])(Tt),en=re("NegativeFiniteNumber")([Wt])(Mt),sn=re("Integer")([Ht])(function(z){return Math.floor(z)===z&&z>=O&&z<=ie}),on=re("NonZeroInteger")([sn])(Lt),zt=re("NonNegativeInteger")([sn])(pt),jt=re("PositiveInteger")([sn])(Tt),Ot=re("NegativeInteger")([sn])(Mt),vt=re("Object")([])(J("Object")),nn=$e("Pair")([])(J("sanctuary-pair/Pair@1"))(function(z){return[z.fst]})(function(z){return[z.snd]}),tn=re("RegExp")([])(J("RegExp")),xt=re("GlobalRegExp")([tn])(ee("global")),hn=re("NonGlobalRegExp")([tn])(ze(ee("global"))),vn=Ee("StrMap")([vt])(fe(!0))(Ue),Yt=re("String")([])(ae("string")),Bn=re("RegexFlags")([Yt])(function(z){return/^g?i?m?$/.test(z)}),Qt=re("Symbol")([])(ae("symbol")),gt=re("Type")([])(J("sanctuary-def/Type@1")),Tn=re("TypeClass")([])(J("sanctuary-type-classes/TypeClass@1")),D=re("Undefined")([])(J("Undefined")),de=[Pe,ve,Me(Ae),S(Ae)(Ae),H,$,k,R(Ae),P(Ae)(Ae),Q,ue(Ae)(Ae),_e,Se(Ae),Re(Ae)(Ae),Oe(Ae),ke(Ae),Ke,St,Bt,vt,nn(Ae)(Ae),tn,vn(Ae),Yt,Qt,gt,Tn,D];function q(z){return ft(z)("")([])(fe(!0))}var Y=typeof process!="undefined"&&process!=null&&process.env!=null&&!0,T=["zero","one","two","three","four","five","six","seven","eight","nine"];function W(z){return(z<T.length?T[z]:x(z))+" "+(z===1?"argument":"arguments")}function oe(z){return function(pe){return function(De){return function(Le){return function(Ye){return Ye.type===g?le(z,pe,Le(De)):[Ye]}}}}}function le(z,pe,De){var Le=oe(z);function Ye(rt,it){var Et;if(typeof it=="object"&&it!=null||typeof it=="function"){if(pe.indexOf(it)>=0)return[];Et=X.concat(pe,[it])}else Et=pe;var at=Le(Et)(it);return X.chain(function(lt){return lt.validate(z)(it).isLeft?[]:lt.type===j?X.map(At(lt),at(lt.extractors.$1)(lt.types.$1)):lt.type===f?X.lift2(Ze(lt),at(lt.extractors.$1)(lt.types.$1),at(lt.extractors.$2)(lt.types.$2)):[lt]},rt)}return wt(De)?[Ae]:te(X.reduce(Ye,z,De),[G])}function je(z){return z.type===j?je(z.types.$1):z.type===f?je(z.types.$1)&&je(z.types.$2):z.type!==d}function Te(z,pe){return X.filter(je,le(z,[],pe))}function Ge(z,pe){return X.reject(function(De){return De.type===d},le(z,[],pe))}function tt(z,pe,De,Le,Ye,rt){var it={};for(var Et in pe){var at=pe[Et],lt={types:at.types.slice(),valuesByPath:{}};for(var Vt in at.valuesByPath)lt.valuesByPath[Vt]=at.valuesByPath[Vt].slice();it[Et]=lt}We.call(it,De.name)||(it[De.name]={types:X.filter(K(De.arity),z),valuesByPath:{}});var rn=JSON.stringify(X.concat([Le],Ye));We.call(it[De.name].valuesByPath,rn)||(it[De.name].valuesByPath[rn]=[]);var an=Qe(z),cn=Xe(Xe(Xe(ht(je))))(oe(z)([]));return rt.forEach(function(gn){var yn=cn(gn);it[De.name].valuesByPath[rn].push(gn),it[De.name].types=X.chain(function(Jt){return an(Jt)(gn)?De.arity===0&&Jt.type===j?X.map(At(Jt),yn(Jt.extractors.$1)(Jt.types.$1)):De.arity===0&&Jt.type===f?X.lift2(Ze(Jt),yn(Jt.extractors.$1)(Jt.types.$1),yn(Jt.extractors.$2)(Jt.types.$2)):[Jt]:[]},it[De.name].types)}),it}function nt(z,pe){var De=X.map(JSON.parse,y(pe));return b(z,fe(fe(_)),function(Le){return function(Ye){return function(rt){return function(it){var Et=X.concat([Le],it);return function(at){if(De.some($t(Et))){var lt=JSON.stringify(Et);if(!We.call(pe,lt))return at;if(!wt(pe[lt]))return Ye(at)}return _(at)}}}}})}function Ne(z,pe,De,Le,Ye,rt,it){for(var Et=Ne,at=0;at<it.length;at+=1){var lt=Le.validate(z)(it[at]);if(lt.isLeft)return dt(function(){return Gt(z,pe,Ye,X.concat(rt,lt.value.propPath),lt.value.value)})}switch(Le.type){case L:var Vt=Le.name,rn=pe.constraints;if(We.call(rn,Vt)){var an=rn[Vt];for(at=0;at<it.length;at+=1)for(var cn=0;cn<an.length;cn+=1)if(!an[cn].test(it[at]))return dt(function(){return Fe(z,pe,an[cn],Ye,rt,it[at])})}var gn=tt(z,De,Le,Ye,rt,it),yn=gn[Vt].types;return wt(yn)?dt(function(){return mt(z,pe,Ye,rt,gn[Vt].valuesByPath)}):X.reduce(function(Jt,fn){return X.chain(function(_n){var Rn=fn.arity-Le.arity;return Le.keys.reduce(function(Rr,fr,Vo){var Go=fn.extractors[fn.keys[Rn+Vo]];return X.reduce(function(Wo,zo){return X.chain(function(Uo){return Et(z,pe,Uo.typeVarMap,Le.types[fr],Ye,X.concat(rt,[fr]),[zo])},Wo)},Rr,X.chain(Go,it))},He(_n))},Jt)},He({typeVarMap:gn,types:yn}),yn);case j:return X.map(function(Jt){return{typeVarMap:Jt.typeVarMap,types:X.map(At(Le),te(Jt.types,[Le.types.$1]))}},Et(z,pe,De,Le.types.$1,Ye,X.concat(rt,["$1"]),X.chain(Le.extractors.$1,it)));case f:return X.chain(function(Jt){var fn=Jt.types;return X.map(function(_n){var Rn=_n.types;return{typeVarMap:_n.typeVarMap,types:X.lift2(Ze(Le),te(fn,[Le.types.$1]),te(Rn,[Le.types.$2]))}},Et(z,pe,Jt.typeVarMap,Le.types.$2,Ye,X.concat(rt,["$2"]),X.chain(Le.extractors.$2,it)))},Et(z,pe,De,Le.types.$1,Ye,X.concat(rt,["$1"]),X.chain(Le.extractors.$1,it)));case B:return X.reduce(function(Jt,fn){return X.chain(function(_n){return Et(z,pe,_n.typeVarMap,Le.types[fn],Ye,X.concat(rt,[fn]),X.chain(Le.extractors[fn],it))},Jt)},He({typeVarMap:De,types:[Le]}),Le.keys);default:return He({typeVarMap:De,types:[Le]})}}function Qe(z){return function(pe){return function(De){var Le={name:"name",constraints:{},types:[pe]};return Ne(z,Le,{},pe,0,[],[De]).isRight}}}function ft(z){return function(pe){return function(De){return function(Le){return u(p,z,pe,0,null,De,fe(Le),[])}}}}function ct(z){return function(pe){return function(De){return function(Le){return function(Ye){return function(rt){return u(j,z,pe,1,null,De,fe(Le),[["$1",Ye,rt]])}}}}}}function At(z){return ct(z.name)(z.url)(z.supertypes)(z._test([]))(z._extractors.$1)}function Ve(z){return function(pe){return function(De){return function(Le){return function(Ye){return function(rt){return function(it){return function(Et){return u(f,z,pe,2,null,De,fe(Le),[["$1",Ye,it],["$2",rt,Et]])}}}}}}}}function Ze(z){return Ve(z.name)(z.url)(z.supertypes)(z._test([]))(z._extractors.$1)(z._extractors.$2)}function et(z){return function(pe){return Xe(ft(z)(pe)([]))(be)}}function Ct(z){var pe=Object.keys(z);function De(rt,it){if(wt(pe))return rt("{}");var Et=X.map(function(at){var lt=z[at];return rt(" ")+rt(/^(?!\d)[$\w]+$/.test(at)?at:x(at))+rt(" :: ")+it(at)(x(lt))},pe);return n(rt("{"))(rt(" }"))(U(rt(","),Et))}function Le(rt){return function(it){if(it==null)return!1;var Et={};pe.forEach(function(lt){Et[lt]=lt});for(var at in it)delete Et[at];return wt(Et)}}var Ye=pe.map(function(rt){return[rt,function(it){return[it[rt]]},z[rt]]});return u(B,"","",0,De,[],Le,Ye)}function Dt(z){return function(pe){return function(De){return function(Le){var Ye=y(Le);function rt(at,lt){return at(z)}function it(at){var lt=i(at);return function(Vt){if(Vt==null)return!1;var rn={};Ye.forEach(function(cn){rn[cn]=cn});for(var an in Vt)delete rn[an];return wt(rn)&&Ye.every(function(cn){return lt(Vt[cn])(Le[cn])})}}var Et=Ye.map(function(at){return[at,function(lt){return[lt[at]]},Le[at]]});return u(B,z,pe,0,rt,De,it,Et)}}}}function F(z){var pe=K(z);return function(De){var Le=i(De);return function(Ye){var rt=Le(Ye);return De.some(function(it){return pe(it)&&rt(it)})}}}function ne(z){var pe=[],De=F(pe.length);return u(L,z,"",0,Ie(z),[],De,pe)}function we(z){return function(pe){var De=[["$1",fe([]),pe]],Le=F(De.length);return u(L,z,"",1,null,[],Le,De)}}function qe(z){return function(pe){return function(De){var Le=[["$1",fe([]),pe],["$2",fe([]),De]],Ye=F(Le.length);return u(L,z,"",2,null,[],Ye,Le)}}}function _t(z){return me([z])}function Kt(z){return ue(z)(H)}function wn(z,pe,De,Le){return new TypeError(v(o(z.name)+` applied to the wrong number of arguments

`+b(z,fe(fe(_)),function(Ye){return function(rt){return fe(fe(Ye===pe?rt:_))}})+`
Expected `+W(De)+" but received "+W(Le.length)+w(`.
`,`:

`,x,Le)))}function Sn(z,pe,De){var Le=[];return Object.keys(z).forEach(function(Ye){var rt=De(Ye);z[Ye].forEach(function(it){Le.push(rt(it)(a(it)+" "+Ye))})}),t(Le.length>0)(n("")(pe(" => ")))(t(Le.length>1)(e(pe))(U(pe(", "),Le)))}function Mn(z){return function(pe){var De=pe.length-z.length;return s(" ",Math.floor(De/2))+z+s(" ",Math.ceil(De/2))}}function Hn(z){return X.concat(z.type===L?[z.name]:[],X.chain(function(pe){return Hn(z.types[pe])},z.keys))}function kn(z){var pe=X.chain(Hn,z);return function(De){var Le="a".charCodeAt(0);return t(De.type===m)(e(Ue))(x(De).replace(/\bUnknown\b/g,function(){do var Ye=String.fromCharCode(Le++);while(pe.indexOf(Ye)>=0);return Ye}))}}function Vn(z,pe,De,Le){var Ye=kn(pe.types);return x(Le)+")  "+U(`
    `,X.map(function(rt){return x(rt)+" :: "+U(", ",te(X.map(Ye,Ge(z,[rt])),["(no types)"]))},De))}function Xn(z){return z.name+" :: "+Sn(z.constraints,Ue,fe(fe(Ue)))+U(" -> ",X.map(kn(z.types),z.types))}function Qn(z,pe,De){return De(z)(pe)(z.format(_,function(Le){return fe(Qn(z.types[Le],X.concat(pe,[Le]),De))}))}function b(z,pe,De){var Le=z.types.reduce(function(Ye,rt,it){var Et=Xe(t(rt.type===m)(e(_)))(Xe(function(at){return Qn(rt,[],at)})(De(it)));return Ye.carets.push(Et(I("^"))),Ye.numbers.push(Et(function(at){return Mn(x(Ye.counter+=1))(at)})),Ye},{carets:[],numbers:[],counter:0});return Xn(z)+`
`+_(z.name+" :: ")+Sn(z.constraints,_,pe)+U(_(" -> "),Le.carets)+`
`+_(z.name+" :: ")+Sn(z.constraints,_,fe(fe(_)))+U(_(" -> "),Le.numbers)+`
`}function A(z,pe){return X.reduce(function(De,Le){return De.types[Le]},z,pe)}function Z(z){return function(pe){return function(De){return function(Le){return function(Ye){var rt=X.concat([pe],Ye),it=$t(rt)(z),Et=$t(z)(rt);return it&&Et?De:it?Ue:_}}}}}function he(z,pe){return pe.url==null||pe.url===""?"":`
See `+pe.url+" for information about the "+pe.name+" "+z+`.
`}function Fe(z,pe,De,Le,Ye,rt,it){var Et=A(pe.types[Le],Ye);return new TypeError(v(`Type-class constraint violation

`+b(pe,function(at){return function(lt){return at===Et.name&&lt.name===De.name?I("^"):_}},Z(X.concat([Le],Ye)))+`
`+Vn(z,pe,[rt],1)+`

`+o(pe.name)+" requires "+o(Et.name)+" to satisfy the "+a(De)+` type-class constraint; the value at position 1 does not.
`+he("type class",De)))}function mt(z,pe,De,Le,Ye){var rt=JSON.stringify(X.concat([De],Le)),it=Ye[rt],Et=X.filter(function(lt){var Vt=Ye[lt];return lt===rt||wt(Te(z,X.concat(it,Vt)))},y(Ye)),at=nt(pe,X.reduce(function(lt,Vt){return lt[Vt]=Ye[Vt],lt},{},Et));return new TypeError(v(`Type-variable constraint violation

`+at+`
`+X.reduce(function(lt,Vt){var rn=Ye[Vt];return wt(rn)?lt:{idx:lt.idx+1,s:lt.s+Vn(z,pe,rn,lt.idx+1)+`

`}},{idx:0,s:""},Et).s+`Since there is no type of which all the above values are members, the type-variable constraint has been violated.
`))}function Gt(z,pe,De,Le,Ye){var rt=A(pe.types[De],Le),it=b(pe,fe(fe(_)),Z(X.concat([De],Le)));return new TypeError(v(rt.type===L&&wt(Ge(z,[Ye]))?`Unrecognized value

`+it+`
`+Vn(z,pe,[Ye],1)+`

`+w(`The environment is empty! Polymorphic functions require a non-empty environment.
`,`The value at position 1 is not a member of any type in the environment.

The environment contains the following types:

`,kn(pe.types),z):`Invalid value

`+it+`
`+Vn(z,pe,[Ye],1)+`

The value at position 1 is not a member of `+o(x(rt))+`.
`+he(K(1)(rt)?"type constructor":"type",rt)))}function bt(z,pe,De,Le){return new TypeError(v(o(z.name)+" applied "+o(x(z.types[pe]))+` to the wrong number of arguments

`+b(z,fe(fe(_)),function(Ye){return function(rt){return function(it){return function(Et){return function(at){return Ye===pe?it.format(_,function(lt){return lt==="$1"?rt:_}):_(at)}}}}})+`
Expected `+W(De)+" but received "+W(Le.length)+w(`.
`,`:

`,x,Le)))}function ut(z){if(z.isLeft)throw z.value();return z.value}function kt(z,pe,De){var Le=pe.types.length-1;function Ye(Et,at,lt){var Vt=pe.types[at];if(Vt.type!==m)return lt;function rn(cn,gn,yn,Jt){var fn=[yn],_n=Vt.types[yn];return _n.type===L?X.chain(function(Rn){return wt(Rn[_n.name].types)?dt(function(){return mt(z,pe,gn,fn,Rn[_n.name].valuesByPath)}):He(Rn)},He(tt(z,cn,_n,gn,fn,[Jt]))):X.map(function(Rn){return Rn.typeVarMap},Ne(z,pe,cn,_n,gn,fn,[Jt]))}var an=Et;return function(cn){if(arguments.length!==Vt.arity-1)throw bt(pe,at,Vt.arity-1,Ce.call(arguments));var gn=arguments;an=ut(ot(Vt.keys).reduce(function(fn,_n,Rn){var Rr=gn[Rn];return X.chain(function(fr){return rn(fr,at,_n,Rr)},fn)},He(an)));var yn=lt.apply(this,arguments),Jt=se(Vt.keys);return an=ut(rn(an,at,Jt,yn)),yn}}function rt(Et,at,lt){return function(Vt){var rn=Ce.call(arguments);if(rn.length!==1)throw wn(pe,lt,1,rn);var an=ut(Ne(z,pe,Et,pe.types[lt],lt,[],rn)).typeVarMap,cn=X.concat(at,rn);if(lt+1===Le){var gn=cn.reduce(function(yn,Jt,fn){return yn(Ye(an,fn,Jt))},De);return an=ut(Ne(z,pe,an,pe.types[Le],Le,[],[gn])).typeVarMap,Ye(an,Le,gn)}else return rt(an,cn,lt+1)}}var it=pe.types[0].type===C?function(){if(arguments.length!==0)throw wn(pe,0,0,Ce.call(arguments));var Et=De(),at=ut(Ne(z,pe,{},pe.types[Le],Le,[],[Et])).typeVarMap;return Ye(at,Le,Et)}:rt({},[],0);return it.toString=It(Xn(pe)),typeof process!="undefined"&&process!=null&&process.versions!=null&&process.versions.node!=null&&(it[Symbol.for("nodejs.util.inspect.custom")]=it.toString),typeof Deno!="undefined"&&Deno!=null&&typeof Deno.customInspect=="symbol"&&(it[Deno.customInspect]=it.toString),it}var jn=[Yt,vn(Me(Tn)),st(Me(gt)),Pe,Pe];function Cn(z){function pe(De){return function(Le){return function(Ye){return function(rt){return z.checkTypes?kt(z.env,{name:De,constraints:Le,types:Ye.length===1?X.concat([M],Ye):Ye},rt):rt}}}}return pe(pe.name)({})(jn)(pe)}var ln=Cn({checkTypes:!Y,env:de});function Gn(z){var pe=z(Ae);return ln(pe.name)({})([gt,gt])(At(pe))}function cr(z){var pe=z(Ae)(Ae);return ln(pe.name)({})([gt,gt,gt])(Ze(pe))}return{Any:ye,AnyFunction:Pe,Arguments:ve,Array:Gn(Me),Array0:xe,Array1:Gn(V),Array2:cr(S),Boolean:H,Buffer:$,Date:k,ValidDate:h,Descending:Gn(R),Either:cr(P),Error:Q,Fn:ln("Fn")({})([gt,gt,gt])(ue),Function:ln("Function")({})([st(Me(gt)),gt])(me),HtmlElement:_e,Identity:Gn(Se),JsMap:cr(Re),JsSet:Gn(Oe),Maybe:Gn(ke),Module:Ke,NonEmpty:st,Null:St,Nullable:Gn(yt),Number:Bt,PositiveNumber:Rt,NegativeNumber:Nt,ValidNumber:Ht,NonZeroValidNumber:Ut,FiniteNumber:Wt,NonZeroFiniteNumber:Ft,PositiveFiniteNumber:un,NegativeFiniteNumber:en,Integer:sn,NonZeroInteger:on,NonNegativeInteger:zt,PositiveInteger:jt,NegativeInteger:Ot,Object:vt,Pair:cr(nn),RegExp:tn,GlobalRegExp:xt,NonGlobalRegExp:hn,RegexFlags:Bn,StrMap:Gn(vn),String:Yt,Symbol:Qt,Type:gt,TypeClass:Tn,Undefined:D,Unknown:Ae,Void:Je,env:de,create:ln("create")({})([Ct({checkTypes:H,env:Me(gt)}),q(U(" -> ",X.map(x,jn)))])(Cn),test:ln("test")({})([Me(gt),gt,ye,H])(Qe),NullaryType:ln("NullaryType")({})([Yt,Yt,Me(gt),q("(Any -> Boolean)"),gt])(ft),UnaryType:ln("UnaryType")({f:[X.Foldable]})([Yt,Yt,Me(gt),q("(Any -> Boolean)"),q("(t a -> f a)"),q("Type -> Type")])(function(z){return Xe(Xe(Xe(Xe(ln(z)({})([gt,gt])))))(ct(z))}),BinaryType:ln("BinaryType")({f:[X.Foldable]})([Yt,Yt,Me(gt),q("(Any -> Boolean)"),q("(t a b -> f a)"),q("(t a b -> f b)"),q("Type -> Type -> Type")])(function(z){return Xe(Xe(Xe(Xe(Xe(ln(z)({})([gt,gt,gt]))))))(Ve(z))}),EnumType:ln("EnumType")({})([Yt,Yt,Me(ye),gt])(et),RecordType:ln("RecordType")({})([vn(gt),gt])(Ct),NamedRecordType:ln("NamedRecordType")({})([st(Yt),Yt,Me(gt),vn(gt),gt])(Dt),TypeVariable:ln("TypeVariable")({})([Yt,gt])(ne),UnaryTypeVariable:ln("UnaryTypeVariable")({})([Yt,q("Type -> Type")])(function(z){return ln(z)({})([gt,gt])(we(z))}),BinaryTypeVariable:ln("BinaryTypeVariable")({})([Yt,q("Type -> Type -> Type")])(function(z){return ln(z)({})([gt,gt,gt])(qe(z))}),Thunk:ln("Thunk")({})([gt,gt])(_t),Predicate:ln("Predicate")({})([gt,gt])(Kt)}})})(Nr);var An=Nr.exports,co={exports:{}};(function(N){(c=>{N.exports=c(gr.exports,pr.exports)})((c,x)=>{typeof __doctest!="undefined"&&(__doctest.require("sanctuary"),__doctest.require("sanctuary-def"));const X="sanctuary-maybe/Maybe@1",ge={},ie={constructor:ge,isNothing:!0,isJust:!1,"@@type":X,"@@show":He,"fantasy-land/equals":Ue,"fantasy-land/lte":It,"fantasy-land/concat":ze,"fantasy-land/filter":ot,"fantasy-land/map":$t,"fantasy-land/ap":se,"fantasy-land/chain":te,"fantasy-land/alt":r,"fantasy-land/reduce":I,"fantasy-land/traverse":y,"fantasy-land/extend":w},O={constructor:ge,isNothing:!1,isJust:!0,"@@type":X,"@@show":Xe,"fantasy-land/filter":wt,"fantasy-land/map":U,"fantasy-land/ap":be,"fantasy-land/chain":ee,"fantasy-land/alt":s,"fantasy-land/reduce":_,"fantasy-land/traverse":E,"fantasy-land/extend":v};typeof process!="undefined"&&process!=null&&process.versions!=null&&process.versions.node!=null&&(ie[Symbol.for("nodejs.util.inspect.custom")]=He,O[Symbol.for("nodejs.util.inspect.custom")]=Xe),typeof Deno!="undefined"&&Deno!=null&&typeof Deno.customInspect=="symbol"&&(ie[Deno.customInspect]=He,O[Deno.customInspect]=Xe);const Ce=ge.Nothing=Object.create(ie),We=ge.Just=t=>{const n=Object.create(O);return x.Setoid.test(t)&&(n["fantasy-land/equals"]=fe,x.Ord.test(t)&&(n["fantasy-land/lte"]=Ie)),x.Semigroup.test(t)&&(n["fantasy-land/concat"]=ht),n.value=t,n};ge.maybe=t=>n=>e=>e.isNothing?t:n(e.value),ge["fantasy-land/empty"]=()=>Ce,ge["fantasy-land/of"]=We;const Be=t=>({tag:Be,value:t}),dt=t=>({tag:dt,value:t});ge["fantasy-land/chainRec"]=(t,n)=>{let e=Be(n);for(;e.tag===Be;){const o=t(Be,dt,e.value);if(o.isNothing)return o;e=o.value}return We(e.value)},ge["fantasy-land/zero"]=()=>Ce;function He(){return"Nothing"}function Xe(){return"Just ("+c(this.value)+")"}function Ue(t){return t.isNothing}function fe(t){return t.isJust&&x.equals(this.value,t.value)}function It(t){return!0}function Ie(t){return t.isJust&&x.lte(this.value,t.value)}function ze(t){return t}function ht(t){return t.isJust?We(x.concat(this.value,t.value)):this}function ot(t){return this}function wt(t){return t(this.value)?this:Ce}function $t(t){return this}function U(t){return We(t(this.value))}function se(t){return this}function be(t){return t.isJust?We(t.value(this.value)):t}function te(t){return this}function ee(t){return t(this.value)}function r(t){return t}function s(t){return this}function I(t,n){return n}function _(t,n){return t(n,this.value)}function y(t,n){return x.of(t,this)}function E(t,n){return x.map(We,n(this.value))}function w(t){return this}function v(t){return We(t(this))}return ge})})(co);var fo={exports:{}};(function(N){(c=>{N.exports=c(gr.exports,pr.exports)})((c,x)=>{typeof __doctest!="undefined"&&(__doctest.require("sanctuary"),__doctest.require("sanctuary-def"));const ge={constructor:ie,"@@type":"sanctuary-pair/Pair@1","@@show":O,"fantasy-land/compose":Be,"fantasy-land/map":He,"fantasy-land/bimap":Xe,"fantasy-land/reduce":It,"fantasy-land/traverse":Ie,"fantasy-land/extend":ze,"fantasy-land/extract":ht};typeof process!="undefined"&&process!=null&&process.versions!=null&&process.versions.node!=null&&(ge[Symbol.for("nodejs.util.inspect.custom")]=O),typeof Deno!="undefined"&&Deno!=null&&typeof Deno.customInspect=="symbol"&&(ge[Deno.customInspect]=O),typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(ge[Symbol.iterator]=function(){return[this.fst,this.snd][Symbol.iterator]()});function ie(ot){return wt=>{const $t=Object.create(ge);return x.Setoid.test(ot)&&x.Setoid.test(wt)&&($t["fantasy-land/equals"]=Ce,x.Ord.test(ot)&&x.Ord.test(wt)&&($t["fantasy-land/lte"]=We)),x.Semigroup.test(ot)&&(x.Semigroup.test(wt)&&($t["fantasy-land/concat"]=dt),$t["fantasy-land/ap"]=Ue,$t["fantasy-land/chain"]=fe),$t.fst=ot,$t.snd=wt,$t}}ie.pair=ot=>wt=>ot(wt.fst)(wt.snd),ie.fst=ot=>ot.fst,ie.snd=ot=>ot.snd,ie.swap=ot=>ie(ot.snd)(ot.fst);function O(){return"Pair ("+c(this.fst)+") ("+c(this.snd)+")"}function Ce(ot){return x.equals(this.fst,ot.fst)&&x.equals(this.snd,ot.snd)}function We(ot){return x.equals(this.fst,ot.fst)?x.lte(this.snd,ot.snd):x.lte(this.fst,ot.fst)}function Be(ot){return ie(this.fst)(ot.snd)}function dt(ot){return ie(x.concat(this.fst,ot.fst))(x.concat(this.snd,ot.snd))}function He(ot){return ie(this.fst)(ot(this.snd))}function Xe(ot,wt){return ie(ot(this.fst))(wt(this.snd))}function Ue(ot){return ie(x.concat(ot.fst,this.fst))(ot.snd(this.snd))}function fe(ot){const wt=ot(this.snd);return ie(x.concat(this.fst,wt.fst))(wt.snd)}function It(ot,wt){return ot(wt,this.snd)}function Ie(ot,wt){return x.map(ie(this.fst),wt(this.snd))}function ze(ot){return ie(this.fst)(ot(this))}function ht(){return this.snd}return ie})})(fo);var ho={exports:{}};(function(N){(function(c){N.exports=c()})(function(){var c="@@show",x=[];function X(O){return function(Ce){return ie(Ce)+": "+ie(O[Ce])}}function ge(O){return Object.keys(O).sort()}function ie(O){if(x.indexOf(O)>=0)return"<Circular>";switch(Object.prototype.toString.call(O)){case"[object Boolean]":return typeof O=="object"?"new Boolean ("+ie(O.valueOf())+")":O.toString();case"[object Number]":return typeof O=="object"?"new Number ("+ie(O.valueOf())+")":1/O===-1/0?"-0":O.toString(10);case"[object String]":return typeof O=="object"?"new String ("+ie(O.valueOf())+")":JSON.stringify(O);case"[object Date]":return"new Date ("+ie(isNaN(O.valueOf())?NaN:O.toISOString())+")";case"[object Error]":return"new "+O.name+" ("+ie(O.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(O,ie).join(", ")+")";case"[object Array]":x.push(O);try{return"["+O.map(ie).concat(ge(O).filter(function(Ce){return!/^\d+$/.test(Ce)}).map(X(O))).join(", ")+"]"}finally{x.pop()}case"[object Object]":x.push(O);try{return c in O&&(O.constructor==null||O.constructor.prototype!==O)?O[c]():"{"+ge(O).map(X(O)).join(", ")+"}"}finally{x.pop()}case"[object Set]":x.push(O);try{return"new Set ("+ie(Array.from(O.values()))+")"}finally{x.pop()}case"[object Map]":x.push(O);try{return"new Map ("+ie(Array.from(O.entries()))+")"}finally{x.pop()}default:return String(O)}}return ie})})(ho);var vo={exports:{}};(function(N){(function(c){N.exports=c(nr.exports)})(function(c){if(typeof __doctest!="undefined"){__doctest.require("sanctuary-identity");var x=__doctest.require("./test/List"),X=__doctest.require("sanctuary-maybe");__doctest.require("sanctuary-pair"),__doctest.require("./test/Sum"),x.Nil,x.Cons,X.Nothing,X.Just}function ge(b){return function(A){return b.concat(A)}}function ie(b){return function(A){return b}}function O(b,A){Object.keys(b).forEach(A,b)}function Ce(b,A){return Object.prototype.hasOwnProperty.call(A,b)}function We(b){return b}function Be(b){return function(A){return[b,A]}}function dt(b,A){return typeof b==typeof A&&c(b)===c(A)}function He(b){return Object.keys(b).sort()}function Xe(b){return function(A){return A(b)}}function Ue(b){return function(A){return b(A)}}function fe(b){return{value:b,done:!1}}function It(b){return{value:b,done:!0}}function Ie(b,A,Z,he){if(!(this instanceof Ie))return new Ie(b,A,Z,he);this.name=b,this.url=A,this.test=function(Fe){return Z.every(function(mt){return mt.test(Fe)})&&he(Fe)}}Ie.prototype["@@type"]="sanctuary-type-classes/TypeClass@1";var ze="Constructor",ht="Value";function ot(b,A,Z){for(var he=Z,Fe=0;Fe<A.length;Fe+=1){var mt=A[Fe];if(he==null||!(b||Ce(mt,he)))return null;he=he[mt]}return typeof he=="function"?he:null}function wt(b,A){return ot(!0,b,A)}function $t(b){return ot(!1,b,zt)}var U=Ce("name",function(){})?function(A){return A.name}:function(A){var Z=/function (\w*)/.exec(A);return Z==null?"":Z[1]};function se(b,A,Z){function he(bt){var ut="fantasy-land/"+bt;return Z[bt]===ze?function(kt){var jn=wt([ut],kt);return jn==null&&typeof kt=="function"?$t([U(kt),ut]):jn}:function(kt){var jn=kt!=null&&kt.constructor!=null&&kt.constructor.prototype===kt,Cn=null;return jn||(Cn=wt([ut],kt)),Cn==null&&(Cn=$t([c(kt),"prototype",ut])),Cn&&Cn.bind(kt)}}var Fe="12.1.0",mt=Object.keys(Z),Gt=Ie("sanctuary-type-classes/"+b,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v"+Fe+"#"+b,A,function(bt){return mt.every(function(ut){var kt=Z[ut]===ze?bt.constructor:bt;return he(ut)(kt)!=null})});return Gt.methods=mt.reduce(function(bt,ut){return bt[ut]=he(ut),bt},{}),Gt}var be=se("Setoid",[],{equals:ht}),te=se("Ord",[be],{lte:ht}),ee=se("Semigroupoid",[],{compose:ht}),r=se("Category",[ee],{id:ze}),s=se("Semigroup",[],{concat:ht}),I=se("Monoid",[s],{empty:ze}),_=se("Group",[I],{invert:ht}),y=se("Filterable",[],{filter:ht}),E=se("Functor",[],{map:ht}),w=se("Bifunctor",[E],{bimap:ht}),v=se("Profunctor",[E],{promap:ht}),t=se("Apply",[E],{ap:ht}),n=se("Applicative",[t],{of:ze}),e=se("Chain",[t],{chain:ht}),o=se("ChainRec",[e],{chainRec:ze}),a=se("Monad",[n,e],{}),i=se("Alt",[E],{alt:ht}),l=se("Plus",[i],{zero:ze}),u=se("Alternative",[n,l],{}),f=se("Foldable",[],{reduce:ht}),m=se("Traversable",[E,f],{traverse:ht}),d=se("Extend",[E],{extend:ht}),C=se("Comonad",[d],{extract:ht}),p=se("Contravariant",[],{contramap:ht});function B(b){return!0}function j(b){return!0}function g(b){return!0}function L(b){return!0}function G(b){return typeof this=="object"?jt(this.valueOf(),b.valueOf()):this===b}function M(b){return typeof this=="object"?vt(this.valueOf(),b.valueOf()):this===!1||b===!0}function K(b){return typeof this=="object"?jt(this.valueOf(),b.valueOf()):isNaN(this)&&isNaN(b)||this===b}function J(b){return typeof this=="object"?vt(this.valueOf(),b.valueOf()):isNaN(this)||this<=b}function ae(b){return jt(this.valueOf(),b.valueOf())}function ce(b){return vt(this.valueOf(),b.valueOf())}function re(b){return b.source===this.source&&b.global===this.global&&b.ignoreCase===this.ignoreCase&&b.multiline===this.multiline&&b.sticky===this.sticky&&b.unicode===this.unicode}function Ee(){return""}function $e(b){return typeof this=="object"?jt(this.valueOf(),b.valueOf()):this===b}function Ae(b){return typeof this=="object"?vt(this.valueOf(),b.valueOf()):this<=b}function Je(b){return this+b}function ye(){return[]}function Pe(b){return[b]}function ve(b,A){for(var Z=[],he={},Fe={head:A,tail:he};Fe!==he;){for(var mt=he,Gt=b(fe,It,Fe.head),bt=0;bt<Gt.length;bt+=1){var ut=Gt[bt];ut.done?Z.push(ut.value):mt={head:ut.value,tail:mt}}for(Fe=Fe.tail;mt!==he;)Fe={head:mt.head,tail:Fe},mt=mt.tail}return Z}function Me(){return[]}function xe(b){if(b.length!==this.length)return!1;for(var A=0;A<this.length;A+=1)if(!jt(this[A],b[A]))return!1;return!0}function V(b){for(var A=0;;A+=1){if(A===this.length)return!0;if(A===b.length)return!1;if(!jt(this[A],b[A]))return vt(this[A],b[A])}}function S(b){return this.concat(b)}function H(b){return this.filter(function(A){return b(A)})}function $(b){return this.map(function(A){return b(A)})}function k(b){for(var A=[],Z=0;Z<b.length;Z+=1)for(var he=0;he<this.length;he+=1)A.push(b[Z](this[he]));return A}function h(b){for(var A=[],Z=0;Z<this.length;Z+=1)for(var he=0,Fe=b(this[Z]);he<Fe.length;he+=1)A.push(Fe[he]);return A}var R=S;function P(b,A){for(var Z=A,he=0;he<this.length;he+=1)Z=b(Z,this[he]);return Z}function Q(b,A){var Z=this;function he(Fe,mt){switch(mt){case 0:return nt(b,[]);case 2:return je(Be,A(Z[Fe]),A(Z[Fe+1]));default:var Gt=Math.floor(mt/4)*2;return je(ge,he(Fe,Gt),he(Fe+Gt,mt-Gt))}}return this.length%2===1?je(ge,q(Pe,A(this[0])),he(1,this.length-1)):he(0,this.length)}function ue(b){return this.map(function(A,Z,he){return b(he.slice(Z))})}function me(b){return xe.call(this,b)}function _e(b){return V.call(this,b)}function Se(b){return jt(this.name,b.name)&&jt(this.message,b.message)}function Re(){return{}}function Oe(){return{}}function ke(b){var A=this,Z=He(this);return jt(Z,He(b))&&Z.every(function(he){return jt(A[he],b[he])})}function Ke(b){for(var A=He(this),Z=He(b);;){if(A.length===0)return!0;if(Z.length===0)return!1;var he=A.shift(),Fe=Z.shift();if(he<Fe)return!0;if(he>Fe)return!1;if(!jt(this[he],b[he]))return vt(this[he],b[he])}}function st(b){var A={};function Z(he){A[he]=this[he]}return O(this,Z),O(b,Z),A}function St(b){var A={};return O(this,function(Z){b(this[Z])&&(A[Z]=this[Z])}),A}function yt(b){var A={};return O(this,function(Z){A[Z]=b(this[Z])}),A}function Bt(b){var A={};return O(this,function(Z){Ce(Z,b)&&(A[Z]=b[Z](this[Z]))}),A}var Lt=st;function pt(b,A){var Z=this;function he(Fe,mt){return b(Fe,Z[mt])}return He(this).reduce(he,A)}function Tt(b,A){var Z=this;return Object.keys(this).reduce(function(he,Fe){function mt(Gt){return function(bt){var ut={};return ut[Fe]=bt,st.call(Gt,ut)}}return je(mt,he,A(Z[Fe]))},nt(b,{}))}function Mt(){return We}function Rt(b){return function(A){return b}}function Nt(b,A){return function(Z){for(var he=fe(A);!he.done;)he=b(fe,It,he.value)(Z);return he.value}}function Ht(b){return b===this}function Ut(b){var A=this;return function(Z){return b(A(Z))}}function Wt(b){var A=this;return function(Z){return b(A(Z))}}function Ft(b,A){var Z=this;return function(he){return A(Z(b(he)))}}function un(b){var A=this;return function(Z){return b(Z)(A(Z))}}function en(b){var A=this;return function(Z){return b(A(Z))(Z)}}function sn(b){var A=this;return function(Z){return b(function(he){return A(Qt(Z,he))})}}function on(b){var A=this;return function(Z){return A(b(Z))}}var zt={Null:{prototype:{"fantasy-land/equals":B,"fantasy-land/lte":j}},Undefined:{prototype:{"fantasy-land/equals":g,"fantasy-land/lte":L}},Boolean:{prototype:{"fantasy-land/equals":G,"fantasy-land/lte":M}},Number:{prototype:{"fantasy-land/equals":K,"fantasy-land/lte":J}},Date:{prototype:{"fantasy-land/equals":ae,"fantasy-land/lte":ce}},RegExp:{prototype:{"fantasy-land/equals":re}},String:{"fantasy-land/empty":Ee,prototype:{"fantasy-land/equals":$e,"fantasy-land/lte":Ae,"fantasy-land/concat":Je}},Array:{"fantasy-land/empty":ye,"fantasy-land/of":Pe,"fantasy-land/chainRec":ve,"fantasy-land/zero":Me,prototype:{"fantasy-land/equals":xe,"fantasy-land/lte":V,"fantasy-land/concat":S,"fantasy-land/filter":H,"fantasy-land/map":$,"fantasy-land/ap":k,"fantasy-land/chain":h,"fantasy-land/alt":R,"fantasy-land/reduce":P,"fantasy-land/traverse":Q,"fantasy-land/extend":ue}},Arguments:{prototype:{"fantasy-land/equals":me,"fantasy-land/lte":_e}},Error:{prototype:{"fantasy-land/equals":Se}},Object:{"fantasy-land/empty":Re,"fantasy-land/zero":Oe,prototype:{"fantasy-land/equals":ke,"fantasy-land/lte":Ke,"fantasy-land/concat":st,"fantasy-land/filter":St,"fantasy-land/map":yt,"fantasy-land/ap":Bt,"fantasy-land/alt":Lt,"fantasy-land/reduce":pt,"fantasy-land/traverse":Tt}},Function:{"fantasy-land/id":Mt,"fantasy-land/of":Rt,"fantasy-land/chainRec":Nt,prototype:{"fantasy-land/equals":Ht,"fantasy-land/compose":Ut,"fantasy-land/map":Wt,"fantasy-land/promap":Ft,"fantasy-land/ap":un,"fantasy-land/chain":en,"fantasy-land/extend":sn,"fantasy-land/contramap":on}}},jt=function(){var b=[];return function(Z,he){if(!dt(Z,he))return!1;if(b.some(function(Fe){return Fe[0]===Z&&Fe[1]===he}))return!0;b.push([Z,he]);try{return be.test(Z)&&be.test(he)&&be.methods.equals(Z)(he)}finally{b.pop()}}}();function Ot(b,A){return dt(b,A)&&!vt(A,b)}var vt=function(){var b=[];return function(Z,he){if(!dt(Z,he))return!1;if(b.some(function(Fe){return Fe[0]===Z&&Fe[1]===he}))return jt(Z,he);b.push([Z,he]);try{return te.test(Z)&&te.test(he)&&te.methods.lte(Z)(he)}finally{b.pop()}}}();function nn(b,A){return Ot(A,b)}function tn(b,A){return vt(A,b)}function xt(b,A){return vt(b,A)?b:A}function hn(b,A){return vt(b,A)?A:b}function vn(b,A,Z){return hn(b,xt(A,Z))}function Yt(b,A){return ee.methods.compose(A)(b)}function Bn(b){return r.methods.id(b)()}function Qt(b,A){return s.methods.concat(b)(A)}function gt(b){return I.methods.empty(b)()}function Tn(b){return _.methods.invert(b)()}function D(b,A){return y.methods.filter(A)(b)}function de(b,A){return D(function(Z){return!b(Z)},A)}function q(b,A){return E.methods.map(A)(b)}function Y(b,A){return E.methods.map(b)(Xe(A))}function T(b,A,Z){return w.methods.bimap(Z)(b,A)}function W(b,A){return T(b,We,A)}function oe(b,A,Z){return v.methods.promap(Z)(b,A)}function le(b,A){return t.methods.ap(A)(b)}function je(b,A,Z){return le(q(b,A),Z)}function Te(b,A,Z,he){return le(le(q(b,A),Z),he)}function Ge(b,A){return je(ie,b,A)}function tt(b,A){return je(ie(We),b,A)}function nt(b,A){return n.methods.of(b)(A)}function Ne(b,A){return Qt(A,nt(A.constructor,b))}function Qe(b,A){return Qt(nt(A.constructor,b),A)}function ft(b,A){return e.methods.chain(A)(b)}function ct(b){return ft(We,b)}function At(b,A,Z){return o.methods.chainRec(b)(A,Z)}function Ve(b,A){return i.methods.alt(b)(A)}function Ze(b){return l.methods.zero(b)()}function et(b,A,Z){return f.methods.reduce(Z)(b,A)}function Ct(b){return Array.isArray(b)?b.length:et(function(A,Z){return A+1},0,b)}function Dt(b,A){return Array.isArray(A)?A.every(Ue(b)):et(function(Z,he){return Z&&b(he)},!0,A)}function F(b,A){return Array.isArray(A)?A.some(Ue(b)):et(function(Z,he){return Z||b(he)},!1,A)}function ne(b,A){return!F(b,A)}function we(b,A){return F(function(Z){return jt(b,Z)},A)}function qe(b,A){var Z=et(function(he,Fe){return{empty:!1,value:Qt(he.value,he.empty?Fe:Qt(b,Fe))}},{empty:!0,value:gt(b.constructor)},A);return Z.value}function _t(b,A,Z){return et(function(he,Fe){return Qt(he,A(Fe))},gt(b),Z)}function Kt(b){if(Array.isArray(b))return b.slice().reverse();var A=b.constructor;return et(function(Z,he){return Qt(nt(A,he),Z)},gt(A),b)}function wn(b){return Sn(We,b)}function Sn(b,A){var Z=et(function(bt,ut){return bt.push({idx:bt.length,x:ut,fx:b(ut)}),bt},[],A),he=function(bt){switch(typeof(bt&&bt.fx)){case"number":return function(ut,kt){return ut<=kt||ut!==ut};case"string":return function(ut,kt){return ut<=kt};default:return vt}}(Z[0]);if(Z.sort(function(bt,ut){return he(bt.fx,ut.fx)?he(ut.fx,bt.fx)?bt.idx-ut.idx:-1:1}),Array.isArray(A)){for(var Fe=0;Fe<Z.length;Fe+=1)Z[Fe]=Z[Fe].x;return Z}var mt=A.constructor,Gt=gt(mt);for(Fe=0;Fe<Z.length;Fe+=1)Gt=Qt(Gt,nt(mt,Z[Fe].x));return Gt}function Mn(b,A,Z){return m.methods.traverse(Z)(b,A)}function Hn(b,A){return Mn(b,We,A)}function kn(b,A){return d.methods.extend(A)(b)}function Vn(b){return kn(We,b)}function Xn(b){return C.methods.extract(b)()}function Qn(b,A){return p.methods.contramap(A)(b)}return{TypeClass:Ie,Setoid:be,Ord:te,Semigroupoid:ee,Category:r,Semigroup:s,Monoid:I,Group:_,Filterable:y,Functor:E,Bifunctor:w,Profunctor:v,Apply:t,Applicative:n,Chain:e,ChainRec:o,Monad:a,Alt:i,Plus:l,Alternative:u,Foldable:f,Traversable:m,Extend:d,Comonad:C,Contravariant:p,equals:jt,lt:Ot,lte:vt,gt:nn,gte:tn,min:xt,max:hn,clamp:vn,compose:Yt,id:Bn,concat:Qt,empty:gt,invert:Tn,filter:D,reject:de,map:q,flip:Y,bimap:T,mapLeft:W,promap:oe,ap:le,lift2:je,lift3:Te,apFirst:Ge,apSecond:tt,of:nt,append:Ne,prepend:Qe,chain:ft,join:ct,chainRec:At,alt:Ve,zero:Ze,reduce:et,size:Ct,all:Dt,any:F,none:ne,elem:we,intercalate:qe,foldMap:_t,reverse:Kt,sort:wn,sortBy:Sn,traverse:Mn,sequence:Hn,extend:kn,duplicate:Vn,extract:Xn,contramap:Qn}})})(vo);(function(N){(function(c){N.exports=c(Nr.exports,$r.exports,co.exports,fo.exports,ho.exports,vo.exports,nr.exports)})(function(c,x,X,ge,ie,O,Ce){if(typeof __doctest!="undefined"){__doctest.require("sanctuary-descending"),__doctest.require("./test/internal/List").Nil,__doctest.require("./test/internal/List").Cons;var We=__doctest.require("./test/internal/Sum");(function(F){var ne=F.create({checkTypes:!0,env:F.env.concat([__doctest.require("./test/internal/List").Type(c.Unknown),We.Type])});return ne.env=F.env,ne})(Br.exports)}var Be=x.Left,dt=x.Right,He=X.Nothing,Xe=X.Just;function Ue(F){return function(ne){return function(we){return F(ne(we))}}}function fe(F){return function(ne){return function(we){return F(we)(ne)}}}function It(F){return function(ne){return function(we){return F(ne,we)}}}function Ie(F){return function(ne){return function(we){return function(qe){return F(ne,we,qe)}}}}function ze(F){return function(ne){return function(we){return function(qe){return function(_t){return F(ne,we,qe,_t)}}}}}function ht(F){return Ue(function(ne){return F in ne?Xe(ne[F]):He})($t)}function ot(F){return function(ne){return ne[F]()}}function wt(F){return function(ne){return function(we){return we[F](ne)}}}function $t(F){return F==null?Object.create(null):Object(F)}var U=c.TypeVariable("a"),se=c.TypeVariable("b"),be=c.TypeVariable("c"),te=c.TypeVariable("d"),ee=c.TypeVariable("e"),r=c.TypeVariable("g"),s=c.UnaryTypeVariable("f"),I=c.UnaryTypeVariable("m"),_=c.UnaryTypeVariable("t"),y=c.UnaryTypeVariable("w"),E=c.BinaryTypeVariable("p"),w=c.BinaryTypeVariable("s");function v(F){return function(ne){return function(we){var qe=c.Fn(ne)(we);return qe.format=function(_t,Kt){return _t("Throwing "+ie(F))+_t(" ")+Kt("$1")(ie(ne))+_t(" ")+Kt("$2")(ie(we))},qe}}}var t=c.UnaryType("TypeRep")("https://github.com/fantasyland/fantasy-land#type-representatives")([])(K(!0))(K([])),n=c.RecordType({checkTypes:c.Boolean,env:c.Array(c.Any)}),e={};function o(F){var ne=c.create(F),we={env:F.env,is:ne("is")({})([c.Type,c.Any,c.Boolean])(c.test(F.env)),Maybe:X,Nothing:He,Either:x};return Object.keys(e).forEach(function(qe){we[qe]=ne(qe)(e[qe].consts)(e[qe].types)(e[qe].impl)}),we.unchecked=F.checkTypes?o({checkTypes:!1,env:F.env}):we,we}e.create={consts:{},types:[n,c.Object],impl:o};function a(F){var ne=Ce.parse(Ce(F));return ne.namespace=O.reject(i(null),Xe(ne.namespace)),ne}e.type={consts:{},types:[c.Any,c.RecordType({namespace:c.Maybe(c.String),name:c.String,version:c.NonNegativeInteger})],impl:a},e.show={consts:{},types:[c.Any,c.String],impl:ie};function i(F){return function(ne){return O.equals(F,ne)}}e.equals={consts:{a:[O.Setoid]},types:[U,U,c.Boolean],impl:i};function l(F){return function(ne){return O.lt(ne,F)}}e.lt={consts:{a:[O.Ord]},types:[U,U,c.Boolean],impl:l};function u(F){return function(ne){return O.lte(ne,F)}}e.lte={consts:{a:[O.Ord]},types:[U,U,c.Boolean],impl:u};function f(F){return function(ne){return O.gt(ne,F)}}e.gt={consts:{a:[O.Ord]},types:[U,U,c.Boolean],impl:f};function m(F){return function(ne){return O.gte(ne,F)}}e.gte={consts:{a:[O.Ord]},types:[U,U,c.Boolean],impl:m},e.min={consts:{a:[O.Ord]},types:[U,U,U],impl:It(O.min)},e.max={consts:{a:[O.Ord]},types:[U,U,U],impl:It(O.max)},e.clamp={consts:{a:[O.Ord]},types:[U,U,U,U],impl:Ie(O.clamp)},e.id={consts:{c:[O.Category]},types:[t(be),be],impl:O.id},e.concat={consts:{a:[O.Semigroup]},types:[U,U,U],impl:It(O.concat)},e.empty={consts:{a:[O.Monoid]},types:[t(U),U],impl:O.empty},e.invert={consts:{g:[O.Group]},types:[r,r],impl:O.invert};function d(F){return function(ne){return O.filter(F,ne)}}e.filter={consts:{f:[O.Filterable]},types:[c.Predicate(U),s(U),s(U)],impl:d};function C(F){return function(ne){return O.reject(F,ne)}}e.reject={consts:{f:[O.Filterable]},types:[c.Predicate(U),s(U),s(U)],impl:C};function p(F){return function(ne){return O.map(F,ne)}}e.map={consts:{f:[O.Functor]},types:[c.Fn(U)(se),s(U),s(se)],impl:p};function B(F){return function(ne){return O.flip(F,ne)}}e.flip={consts:{f:[O.Functor]},types:[s(c.Fn(U)(se)),U,s(se)],impl:B},e.bimap={consts:{p:[O.Bifunctor]},types:[c.Fn(U)(se),c.Fn(be)(te),E(U)(be),E(se)(te)],impl:Ie(O.bimap)},e.mapLeft={consts:{p:[O.Bifunctor]},types:[c.Fn(U)(se),E(U)(be),E(se)(be)],impl:It(O.mapLeft)},e.promap={consts:{p:[O.Profunctor]},types:[c.Fn(U)(se),c.Fn(be)(te),E(se)(be),E(U)(te)],impl:Ie(O.promap)};function j(F){return function(ne){return O.alt(ne,F)}}e.alt={consts:{f:[O.Alt]},types:[s(U),s(U),s(U)],impl:j},e.zero={consts:{f:[O.Plus]},types:[t(s(U)),s(U)],impl:O.zero};function g(F){return function(ne){return function(we){return O.reduce(function(qe,_t){return F(qe)(_t)},ne,we)}}}e.reduce={consts:{f:[O.Foldable]},types:[c.Fn(se)(c.Fn(U)(se)),se,s(U),se],impl:g},e.reduce_={consts:{f:[O.Foldable]},types:[c.Fn(U)(c.Fn(se)(se)),se,s(U),se],impl:Ue(g)(B)},e.traverse={consts:{f:[O.Applicative],t:[O.Traversable]},types:[t(s(se)),c.Fn(U)(s(se)),_(U),s(_(se))],impl:Ie(O.traverse)},e.sequence={consts:{f:[O.Applicative],t:[O.Traversable]},types:[t(s(U)),_(s(U)),s(_(U))],impl:It(O.sequence)},e.ap={consts:{f:[O.Apply]},types:[s(c.Fn(U)(se)),s(U),s(se)],impl:It(O.ap)},e.lift2={consts:{f:[O.Apply]},types:[c.Fn(U)(c.Fn(se)(be)),s(U),s(se),s(be)],impl:Ie(O.lift2)},e.lift3={consts:{f:[O.Apply]},types:[c.Fn(U)(c.Fn(se)(c.Fn(be)(te))),s(U),s(se),s(be),s(te)],impl:ze(O.lift3)},e.apFirst={consts:{f:[O.Apply]},types:[s(U),s(se),s(U)],impl:It(O.apFirst)},e.apSecond={consts:{f:[O.Apply]},types:[s(U),s(se),s(se)],impl:It(O.apSecond)};function L(F){return function(ne){return O.of(F,ne)}}e.of={consts:{f:[O.Applicative]},types:[t(s(U)),U,s(U)],impl:L},e.chain={consts:{m:[O.Chain]},types:[c.Fn(U)(I(se)),I(U),I(se)],impl:It(O.chain)},e.join={consts:{m:[O.Chain]},types:[I(I(U)),I(U)],impl:O.join};function G(F){return function(ne){return function(qe){return O.chainRec(F,we,qe)};function we(qe,_t,Kt){return O.map(V(qe)(_t),ne(Kt))}}}e.chainRec={consts:{m:[O.ChainRec]},types:[t(I(se)),c.Fn(U)(I(c.Either(U)(se))),U,I(se)],impl:G},e.extend={consts:{w:[O.Extend]},types:[c.Fn(y(U))(se),y(U),y(se)],impl:It(O.extend)},e.duplicate={consts:{w:[O.Extend]},types:[y(U),y(y(U))],impl:O.duplicate},e.extract={consts:{w:[O.Comonad]},types:[y(U),U],impl:O.extract},e.contramap={consts:{f:[O.Contravariant]},types:[c.Fn(se)(U),s(U),s(se)],impl:It(O.contramap)};function M(F){return F}e.I={consts:{},types:[U,U],impl:M};function K(F){return function(ne){return F}}e.K={consts:{},types:[U,se,U],impl:K};function J(F){return function(ne){return ne(F)}}e.T={consts:{},types:[U,c.Fn(U)(se),se],impl:J},e.compose={consts:{s:[O.Semigroupoid]},types:[w(se)(be),w(U)(se),w(U)(be)],impl:It(O.compose)};function ae(F){return function(ne){return g(J)(ne)(F)}}e.pipe={consts:{f:[O.Foldable]},types:[s(c.Fn(c.Any)(c.Any)),U,se],impl:ae};function ce(F){return function(ne){return O.reduce(function(we,qe){return O.chain(qe,we)},ne,F)}}e.pipeK={consts:{f:[O.Foldable],m:[O.Chain]},types:[s(c.Fn(c.Any)(I(c.Any))),I(U),I(se)],impl:ce};function re(F){return function(ne){return function(we){return function(qe){return F(ne(we))(ne(qe))}}}}e.on={consts:{},types:[c.Fn(se)(c.Fn(se)(be)),c.Fn(U)(se),U,U,be],impl:re},e.Pair={consts:{},types:[U,se,c.Pair(U)(se)],impl:ge};function Ee(F){return function(ne){return F(ne.fst)(ne.snd)}}e.pair={consts:{},types:[c.Fn(U)(c.Fn(se)(be)),c.Pair(U)(se),be],impl:Ee},e.fst={consts:{},types:[c.Pair(U)(se),U],impl:Ee(K)},e.snd={consts:{},types:[c.Pair(U)(se),se],impl:Ee(fe(K))},e.swap={consts:{},types:[c.Pair(U)(se),c.Pair(se)(U)],impl:Ee(fe(ge))},e.Just={consts:{},types:[U,c.Maybe(U)],impl:Xe};function $e(F){return F.isNothing}e.isNothing={consts:{},types:[c.Maybe(U),c.Boolean],impl:$e};function Ae(F){return F.isJust}e.isJust={consts:{},types:[c.Maybe(U),c.Boolean],impl:Ae};function Je(F){return function(ne){return function(we){return we.isJust?ne(we.value):F}}}e.maybe={consts:{},types:[se,c.Fn(U)(se),c.Maybe(U),se],impl:Je};function ye(F){return function(ne){return function(we){return we.isJust?ne(we.value):F()}}}e.maybe_={consts:{},types:[c.Thunk(se),c.Fn(U)(se),c.Maybe(U),se],impl:ye},e.fromMaybe={consts:{},types:[U,c.Maybe(U),U],impl:fe(Je)(M)},e.fromMaybe_={consts:{},types:[c.Thunk(U),c.Maybe(U),U],impl:fe(ye)(M)};function Pe(F){return p(en("value"))(d(Ae)(F))}e.justs={consts:{f:[O.Filterable,O.Functor]},types:[s(c.Maybe(U)),s(U)],impl:Pe},e.mapMaybe={consts:{f:[O.Filterable,O.Functor]},types:[c.Fn(U)(c.Maybe(se)),s(U),s(se)],impl:Ue(Ue(Pe))(p)};function ve(F){return F.isJust?F.value:null}e.maybeToNullable={consts:{},types:[c.Maybe(U),c.Nullable(U)],impl:ve},e.Left={consts:{},types:[U,c.Either(U)(se)],impl:Be},e.Right={consts:{},types:[se,c.Either(U)(se)],impl:dt};function Me(F){return F.isLeft}e.isLeft={consts:{},types:[c.Either(U)(se),c.Boolean],impl:Me};function xe(F){return F.isRight}e.isRight={consts:{},types:[c.Either(U)(se),c.Boolean],impl:xe};function V(F){return function(ne){return function(we){return(we.isLeft?F:ne)(we.value)}}}e.either={consts:{},types:[c.Fn(U)(be),c.Fn(se)(be),c.Either(U)(se),be],impl:V};function S(F){return V(M)(K(F))}e.fromLeft={consts:{},types:[U,c.Either(U)(se),U],impl:S};function H(F){return V(K(F))(M)}e.fromRight={consts:{},types:[se,c.Either(U)(se),se],impl:H},e.fromEither={consts:{},types:[c.Either(U)(U),U],impl:V(M)(M)},e.lefts={consts:{f:[O.Filterable,O.Functor]},types:[s(c.Either(U)(se)),s(U)],impl:Ue(p(en("value")))(d(Me))},e.rights={consts:{f:[O.Filterable,O.Functor]},types:[s(c.Either(U)(se)),s(se)],impl:Ue(p(en("value")))(d(xe))};function $(F){return ue(F)(dt)(Be)}e.tagBy={consts:{},types:[c.Predicate(U),U,c.Either(U)(U)],impl:$};function k(F){return function(ne){try{return dt(F(ne))}catch(we){return Be(we)}}}e.encase={consts:{},types:[v(ee)(U)(se),U,c.Either(ee)(se)],impl:k};function h(F){return function(ne){return F&&ne}}e.and={consts:{},types:[c.Boolean,c.Boolean,c.Boolean],impl:h};function R(F){return function(ne){return F||ne}}e.or={consts:{},types:[c.Boolean,c.Boolean,c.Boolean],impl:R};function P(F){return!F}e.not={consts:{},types:[c.Boolean,c.Boolean],impl:P},e.complement={consts:{},types:[c.Predicate(U),U,c.Boolean],impl:Ue(P)};function Q(F){return function(ne){return function(we){return we?ne:F}}}e.boolean={consts:{},types:[U,U,c.Boolean,U],impl:Q};function ue(F){return function(ne){return function(we){return function(qe){return(F(qe)?ne:we)(qe)}}}}e.ifElse={consts:{},types:[c.Predicate(U),c.Fn(U)(se),c.Fn(U)(se),U,se],impl:ue};function me(F){return fe(ue(F))(M)}e.when={consts:{},types:[c.Predicate(U),c.Fn(U)(U),U,U],impl:me};function _e(F){return ue(F)(M)}e.unless={consts:{},types:[c.Predicate(U),c.Fn(U)(U),U,U],impl:_e};function Se(F){return function(ne){return function(we){return we.length===0?F:ne(we[0])(we.slice(1))}}}e.array={consts:{},types:[se,c.Fn(U)(c.Fn(c.Array(U))(se)),c.Array(U),se],impl:Se};function Re(F){return Array.isArray(F)?F.length>0?Xe(F[0]):He:O.reduce(function(ne,we){return ne.isJust?ne:Xe(we)},He,F)}e.head={consts:{f:[O.Foldable]},types:[s(U),c.Maybe(U)],impl:Re};function Oe(F){return Array.isArray(F)?F.length>0?Xe(F[F.length-1]):He:O.reduce(function(ne,we){return Xe(we)},He,F)}e.last={consts:{f:[O.Foldable]},types:[s(U),c.Maybe(U)],impl:Oe};function ke(F){if(Array.isArray(F))return F.length>0?Xe(F.slice(1)):He;var ne=O.empty(F.constructor);return O.reduce(function(we,qe){return Xe(Je(ne)(Mt(qe))(we))},He,F)}e.tail={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[s(U),c.Maybe(s(U))],impl:ke};function Ke(F){if(Array.isArray(F))return F.length>0?Xe(F.slice(0,-1)):He;var ne=O.empty(F.constructor);return O.map(ge.snd,O.reduce(function(we,qe){return Xe(ge(qe)(Je(ne)(Ee(Mt))(we)))},He,F))}e.init={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[s(U),c.Maybe(s(U))],impl:Ke};function st(F,ne){return function(we){return function(qe){if(we<0)return He;if(Array.isArray(qe))return we<=qe.length?Xe(F(we,qe)):He;var _t=O.reduce(function(Kt,wn){return O.map(function(Sn){var Mn=Sn.fst,Hn=Sn.snd;return ge(Mn-1)(ne(Mn,Hn,wn))},Kt)},Xe(ge(we)(O.empty(qe.constructor))),qe);return O.map(ge.snd,O.reject(Ue(f(0))(ge.fst),_t))}}}var St=st(function(F,ne){return ne.slice(0,F)},function(F,ne,we){return F>0?O.append(we,ne):ne});e.take={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[c.Integer,s(U),c.Maybe(s(U))],impl:St};var yt=st(function(F,ne){return ne.slice(F)},function(F,ne,we){return F>0?ne:O.append(we,ne)});e.drop={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[c.Integer,s(U),c.Maybe(s(U))],impl:yt};function Bt(F){return function(ne){return O.map(O.reverse,St(F)(O.reverse(ne)))}}e.takeLast={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[c.Integer,s(U),c.Maybe(s(U))],impl:Bt};function Lt(F){return function(ne){return O.map(O.reverse,yt(F)(O.reverse(ne)))}}e.dropLast={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[c.Integer,s(U),c.Maybe(s(U))],impl:Lt};function pt(F){return function(ne){for(var we=0;we<ne.length&&F(ne[we]);)we+=1;return ne.slice(0,we)}}e.takeWhile={consts:{},types:[c.Predicate(U),c.Array(U),c.Array(U)],impl:pt};function Tt(F){return function(ne){for(var we=0;we<ne.length&&F(ne[we]);)we+=1;return ne.slice(we)}}e.dropWhile={consts:{},types:[c.Predicate(U),c.Array(U),c.Array(U)],impl:Tt},e.size={consts:{f:[O.Foldable]},types:[s(U),c.NonNegativeInteger],impl:O.size},e.all={consts:{f:[O.Foldable]},types:[c.Predicate(U),s(U),c.Boolean],impl:It(O.all)},e.any={consts:{f:[O.Foldable]},types:[c.Predicate(U),s(U),c.Boolean],impl:It(O.any)},e.none={consts:{f:[O.Foldable]},types:[c.Predicate(U),s(U),c.Boolean],impl:It(O.none)};function Mt(F){return function(ne){return O.append(F,ne)}}e.append={consts:{f:[O.Applicative,O.Semigroup]},types:[U,s(U),s(U)],impl:Mt},e.prepend={consts:{f:[O.Applicative,O.Semigroup]},types:[U,s(U),s(U)],impl:It(O.prepend)},e.joinWith={consts:{},types:[c.String,c.Array(c.String),c.String],impl:wt("join")};var Rt=It(O.elem);e.elem={consts:{a:[O.Setoid],f:[O.Foldable]},types:[U,s(U),c.Boolean],impl:Rt},e.elem_={consts:{a:[O.Setoid],f:[O.Foldable]},types:[s(U),U,c.Boolean],impl:fe(Rt)};function Nt(F){return Ht(function(ne){return F(ne)?Xe(ne):He})}e.find={consts:{f:[O.Foldable]},types:[c.Predicate(U),s(U),c.Maybe(U)],impl:Nt};function Ht(F){return function(ne){return O.reduce(function(we,qe){return we.isJust?we:F(qe)},He,ne)}}e.findMap={consts:{f:[O.Foldable]},types:[c.Fn(U)(c.Maybe(se)),s(U),c.Maybe(se)],impl:Ht},e.intercalate={consts:{a:[O.Monoid],f:[O.Foldable]},types:[U,s(U),U],impl:It(O.intercalate)},e.foldMap={consts:{b:[O.Monoid],f:[O.Foldable]},types:[t(se),c.Fn(U)(se),s(U),se],impl:Ie(O.foldMap)};function Ut(F){return function(ne){for(var we=[],qe=F(ne);qe.isJust;qe=F(qe.value.snd))we.push(qe.value.fst);return we}}e.unfold={consts:{},types:[c.Fn(se)(c.Maybe(c.Pair(U)(se))),se,c.Array(U)],impl:Ut};function Wt(F){return function(ne){for(var we=[],qe=F;qe<ne;qe+=1)we.push(qe);return we}}e.range={consts:{},types:[c.Integer,c.Integer,c.Array(c.Integer)],impl:Wt};function Ft(F){return function(ne){if(ne.length===0)return[];for(var we=ne[0],qe=[we],_t=[qe],Kt=1;Kt<ne.length;Kt+=1){var wn=ne[Kt];F(we)(wn)?qe.push(wn):_t.push(qe=[we=wn])}return _t}}e.groupBy={consts:{},types:[c.Fn(U)(c.Predicate(U)),c.Array(U),c.Array(c.Array(U))],impl:Ft},e.reverse={consts:{f:[O.Applicative,O.Foldable,O.Monoid]},types:[s(U),s(U)],impl:O.reverse},e.sort={consts:{a:[O.Ord],m:[O.Applicative,O.Foldable,O.Monoid]},types:[I(U),I(U)],impl:O.sort},e.sortBy={consts:{b:[O.Ord],m:[O.Applicative,O.Foldable,O.Monoid]},types:[c.Fn(U)(se),I(U),I(U)],impl:It(O.sortBy)},e.zip={consts:{},types:[c.Array(U),c.Array(se),c.Array(c.Pair(U)(se))],impl:un(ge)};function un(F){return function(ne){return function(we){for(var qe=[],_t=Math.min(ne.length,we.length),Kt=0;Kt<_t;Kt+=1)qe.push(F(ne[Kt])(we[Kt]));return qe}}}e.zipWith={consts:{},types:[c.Fn(U)(c.Fn(se)(be)),c.Array(U),c.Array(se),c.Array(be)],impl:un};function en(F){return function(ne){var we=$t(ne);if(F in we)return we[F];throw new TypeError("\u2018prop\u2019 expected object to have a property named \u2018"+F+"\u2019; "+ie(ne)+" does not")}}e.prop={consts:{},types:[c.String,U,se],impl:en};function sn(F){return function(ne){return F.reduce(function(we,qe){var _t=$t(we);if(qe in _t)return _t[qe];throw new TypeError("\u2018props\u2019 expected object to have a property at "+ie(F)+"; "+ie(we)+" does not")},ne)}}e.props={consts:{},types:[c.Array(c.String),U,se],impl:sn};function on(F){return Ue(Ue(d(F)))(ht)}e.get={consts:{},types:[c.Predicate(c.Any),c.String,U,c.Maybe(se)],impl:on};function zt(F){return function(ne){return function(we){return O.filter(F,ne.reduce(function(qe,_t){return O.chain(ht(_t),qe)},Xe(we)))}}}e.gets={consts:{},types:[c.Predicate(c.Any),c.Array(c.String),U,c.Maybe(se)],impl:zt};function jt(F){return function(ne){return Object.prototype.propertyIsEnumerable.call(ne,F)?Xe(ne[F]):He}}e.value={consts:{},types:[c.String,c.StrMap(U),c.Maybe(U)],impl:jt};function Ot(F){return function(ne){var we={};return we[F]=ne,we}}e.singleton={consts:{},types:[c.String,U,c.StrMap(U)],impl:Ot};function vt(F){return function(ne){return function(we){return O.concat(we,Ot(F)(ne))}}}e.insert={consts:{},types:[c.String,U,c.StrMap(U),c.StrMap(U)],impl:vt};function nn(F){return function(ne){var we=O.concat(ne,{});return delete we[F],we}}e.remove={consts:{},types:[c.String,c.StrMap(U),c.StrMap(U)],impl:nn},e.keys={consts:{},types:[c.StrMap(U),c.Array(c.String)],impl:Object.keys};function tn(F){return O.map(function(ne){return F[ne]},Object.keys(F))}e.values={consts:{},types:[c.StrMap(U),c.Array(U)],impl:tn};function xt(F){return O.map(function(ne){return ge(ne)(F[ne])},Object.keys(F))}e.pairs={consts:{},types:[c.StrMap(U),c.Array(c.Pair(c.String)(U))],impl:xt};function hn(F){return O.reduce(function(ne,we){return ne[we.fst]=we.snd,ne},{},F)}e.fromPairs={consts:{f:[O.Foldable]},types:[s(c.Pair(c.String)(U)),c.StrMap(U)],impl:hn};function vn(F){return-F}e.negate={consts:{},types:[c.ValidNumber,c.ValidNumber],impl:vn};function Yt(F){return function(ne){return F+ne}}e.add={consts:{},types:[c.FiniteNumber,c.FiniteNumber,c.FiniteNumber],impl:Yt},e.sum={consts:{f:[O.Foldable]},types:[s(c.FiniteNumber),c.FiniteNumber],impl:g(Yt)(0)};function Bn(F){return function(ne){return ne-F}}e.sub={consts:{},types:[c.FiniteNumber,c.FiniteNumber,c.FiniteNumber],impl:Bn};function Qt(F){return function(ne){return F*ne}}e.mult={consts:{},types:[c.FiniteNumber,c.FiniteNumber,c.FiniteNumber],impl:Qt},e.product={consts:{f:[O.Foldable]},types:[s(c.FiniteNumber),c.FiniteNumber],impl:g(Qt)(1)};function gt(F){return function(ne){return ne/F}}e.div={consts:{},types:[c.NonZeroFiniteNumber,c.FiniteNumber,c.FiniteNumber],impl:gt};function Tn(F){return function(ne){return Math.pow(ne,F)}}e.pow={consts:{},types:[c.FiniteNumber,c.FiniteNumber,c.FiniteNumber],impl:Tn};function D(F){return F%2===0}e.even={consts:{},types:[c.Integer,c.Boolean],impl:D};function de(F){return F%2!==0}e.odd={consts:{},types:[c.Integer,c.Boolean],impl:de};function q(F){var ne=new Date(F);return isNaN(ne.valueOf())?He:Xe(ne)}e.parseDate={consts:{},types:[c.String,c.Maybe(c.ValidDate)],impl:q};function Y(F){return"(?:"+F.join("|")+")"}function T(F){return Y(F)+"?"}var W=new RegExp("^\\s*[+-]?"+Y(["Infinity","NaN",Y(["[0-9]+","[0-9]+[.][0-9]+","[0-9]+[.]","[.][0-9]+"])+T(["[Ee][+-]?[0-9]+"])])+"\\s*$");function oe(F){return W.test(F)?Xe(parseFloat(F)):He}e.parseFloat={consts:{},types:[c.String,c.Maybe(c.Number)],impl:oe};var le=c.NullaryType("Radix")("")([c.Integer])(function(F){return F>=2&&F<=36});function je(F){return function(ne){var we="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".slice(0,F),qe=new RegExp("^["+we+"]+$","i"),_t=ne.replace(/^[+-]/,"");if(qe.test(F===16?_t.replace(/^0x/i,""):_t)){var Kt=parseInt(ne,F);if(c.test([])(c.Integer)(Kt))return Xe(Kt)}return He}}e.parseInt={consts:{},types:[le,c.String,c.Maybe(c.Integer)],impl:je};function Te(F){return Ue(d(F))(Ue(V(K(He))(Xe))(k(JSON.parse)))}e.parseJson={consts:{},types:[c.Predicate(c.Any),c.String,c.Maybe(U)],impl:Te};function Ge(F,ne){var we=F.lastIndex,qe=ne();return F.lastIndex=we,qe}function tt(F){return function(ne){return new RegExp(ne,F)}}e.regex={consts:{},types:[c.RegexFlags,c.String,c.RegExp],impl:tt};function nt(F){return F.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.regexEscape={consts:{},types:[c.String,c.String],impl:nt};function Ne(F){return function(ne){return Ge(F,function(){return F.test(ne)})}}e.test={consts:{},types:[c.RegExp,c.String,c.Boolean],impl:Ne};function Qe(F){return function(we){return O.map(function(qe){return O.map(ne,qe.slice(1))},ne(we.match(F)))};function ne(we){return we==null?He:Xe(we)}}e.match={consts:{},types:[c.NonGlobalRegExp,c.String,c.Maybe(c.Array(c.Maybe(c.String)))],impl:Qe};function ft(F){return function(we){return Ge(F,function(){return Ut(function(qe){return O.map(function(_t){return ge(O.map(ne,_t.slice(1)))(null)},O.reject(i(null),Xe(F.exec(we))))})([])})};function ne(we){return we==null?He:Xe(we)}}e.matchAll={consts:{},types:[c.GlobalRegExp,c.String,c.Array(c.Array(c.Maybe(c.String)))],impl:ft};function ct(F){return function(ne){return function(we){return we.replace(ne,function(){for(var qe=[],_t,Kt=1;typeof(_t=arguments[Kt++])!="number";)qe.push(_t==null?He:Xe(_t));return F(qe)})}}}e.replace={consts:{},types:[c.Fn(c.Array(c.Maybe(c.String)))(c.String),c.RegExp,c.String,c.String],impl:ct},e.toUpper={consts:{},types:[c.String,c.String],impl:ot("toUpperCase")},e.toLower={consts:{},types:[c.String,c.String],impl:ot("toLowerCase")},e.trim={consts:{},types:[c.String,c.String],impl:ot("trim")};function At(F){return function(ne){var we=F.length;return ne.slice(0,we)===F?Xe(ne.slice(we)):He}}e.stripPrefix={consts:{},types:[c.String,c.String,c.Maybe(c.String)],impl:At};function Ve(F){return function(ne){var we=ne.length-F.length;return ne.slice(we)===F?Xe(ne.slice(0,we)):He}}e.stripSuffix={consts:{},types:[c.String,c.String,c.Maybe(c.String)],impl:Ve};function Ze(F){var ne=F.split(/\s+/),we=ne.length;return ne.slice(ne[0]===""?1:0,ne[we-1]===""?we-1:we)}e.words={consts:{},types:[c.String,c.Array(c.String)],impl:Ze},e.unwords={consts:{},types:[c.Array(c.String),c.String],impl:wt("join")(" ")};function et(F){return F===""?[]:F.replace(/\r\n?/g,`
`).match(/^(?=[\s\S]).*/gm)}e.lines={consts:{},types:[c.String,c.Array(c.String)],impl:et};function Ct(F){return F.reduce(function(ne,we){return ne+we+`
`},"")}e.unlines={consts:{},types:[c.Array(c.String),c.String],impl:Ct},e.splitOn={consts:{},types:[c.String,c.String,c.Array(c.String)],impl:wt("split")};function Dt(F){return function(ne){return Ge(F,function(){for(var we=[],qe=0,_t;(_t=F.exec(ne))!=null;)if(F.lastIndex===qe&&_t[0]===""){if(F.lastIndex===ne.length)return we;F.lastIndex+=1}else we.push(ne.slice(qe,_t.index)),qe=_t.index+_t[0].length;return we.push(ne.slice(qe)),we})}}return e.splitOnRegex={consts:{},types:[c.GlobalRegExp,c.String,c.Array(c.String)],impl:Dt},o({checkTypes:typeof process=="undefined"||process==null||process.env==null||!1,env:c.env})})})(Br);var no=Br.exports,In={alt:"fantasy-land/alt",ap:"fantasy-land/ap",bimap:"fantasy-land/bimap",chain:"fantasy-land/chain",chainRec:"fantasy-land/chainRec",map:"fantasy-land/map",of:"fantasy-land/of",zero:"fantasy-land/zero"},or=["first","second","third","fourth","fifth"],qn="fluture",go="Future",yr=5,lr=qn+"/"+go+"@"+yr;function Hr(N,c){this.head=N,this.tail=c}Hr.prototype.toJSON=function(){return po(this)};var Zt=new Hr(null,null);Zt.tail=Zt;function mr(N){return N.tail===N}function Zn(N,c){return new Hr(N,c)}function Vr(N){for(var c=Zt,x=N;!mr(x);)c=Zn(x.head,c),x=x.tail;return c}function xo(N,c){for(var x=c,X=Vr(N);!mr(X);)x=Zn(X.head,x),X=X.tail;return x}function po(N){for(var c=N,x=[];!mr(c);)x.push(c.head),c=c.tail;return x}var yo=Error.captureStackTrace||qo,Yo=Xo;function Xo(N){return N}function mo(N,c,x,X,ge){return Yo(N)}function Wn(N,c,x){return mo(N)}function Qo(N,c,x){return mo(N)}function qo(N){var c=new Error;typeof c.stack=="string"?N.stack=N.name+`
`+c.stack.split(`
`).slice(1).join(`
`):N.stack=N.name}var Co={exports:{}};(function(N){(function(c){N.exports=c()})(function(){var c="@@show",x=[];function X(O){return function(Ce){return ie(Ce)+": "+ie(O[Ce])}}function ge(O){return Object.keys(O).sort()}function ie(O){if(x.indexOf(O)>=0)return"<Circular>";switch(Object.prototype.toString.call(O)){case"[object Boolean]":return typeof O=="object"?"new Boolean ("+ie(O.valueOf())+")":O.toString();case"[object Number]":return typeof O=="object"?"new Number ("+ie(O.valueOf())+")":1/O===-1/0?"-0":O.toString(10);case"[object String]":return typeof O=="object"?"new String ("+ie(O.valueOf())+")":JSON.stringify(O);case"[object Date]":return"new Date ("+ie(isNaN(O.valueOf())?NaN:O.toISOString())+")";case"[object Error]":return"new "+O.name+" ("+ie(O.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(O,ie).join(", ")+")";case"[object Array]":x.push(O);try{return"["+O.map(ie).concat(ge(O).filter(function(Ce){return!/^\d+$/.test(Ce)}).map(X(O))).join(", ")+"]"}finally{x.pop()}case"[object Object]":x.push(O);try{return c in O&&(O.constructor==null||O.constructor.prototype!==O)?O[c]():"{"+ge(O).map(X(O)).join(", ")+"}"}finally{x.pop()}case"[object Set]":x.push(O);try{return"new Set ("+ie(Array.from(O.values()))+")"}finally{x.pop()}case"[object Map]":x.push(O);try{return"new Map ("+ie(Array.from(O.entries()))+")"}finally{x.pop()}default:return String(O)}}return ie})})(Co);var dn=Co.exports,Mr=typeof Mr=="undefined"?ea:Mr;function Pt(){}function Zo(){return this}function On(N,c){return N(c)}function ea(N,c){return setTimeout(N,0,c)}function _o(N){Mr(function(){throw N})}function bo(N){return dn(N)+" :: "+Fn.parse(Fn(N)).name}function Eo(N){return new Error(N)}function Jn(N){return new TypeError(N)}function Gr(N,c,x,X){return Jn(N+"() expects its "+or[c]+" argument to "+x+`.
  Actual: `+bo(X))}function Wr(N){return function(c,x,X){return Gr(c,x,N,X)}}function ta(N,c){return new TypeError(N.name+`() expects to be called with a single argument per invocation
  Saw: `+c.length+" arguments"+Array.prototype.slice.call(c).map(function(x,X){return`
  `+(or[X]?or[X].charAt(0).toUpperCase()+or[X].slice(1):"Argument "+String(X+1))+": "+bo(x)}).join(""))}function na(N,c){return"The Future was not created by "+qn+". Make sure you transform other Futures to "+qn+" Futures. Got "+(c?"a Future from "+c:"an unscoped Future")+`.
  See: https://github.com/fluture-js/Fluture#casting-futures`}function ra(N,c){return"The Future was created by "+(c<yr?"an older":"a newer")+" version of "+qn+`. This means that one of the sources which creates Futures is outdated. Update this source, or transform its created Futures to be compatible.
  See: https://github.com/fluture-js/Fluture#casting-futures`}function ur(N,c,x){var X=Fn.parse(Fn(c)),ge=X.name===go?`
`+(X.namespace!==qn?na(c,X.namespace):X.version!==yr?ra(c,X.version):"Nothing seems wrong. Contact the Fluture maintainers."):"";return Jn(N+" to be a valid Future."+ge+`
  Actual: `+dn(c)+" :: "+X.name+(x||""))}function wo(N,c,x,X){return ur(N+"() expects its "+or[c]+" argument",x,X)}function oa(N,c){var x;try{if(N instanceof Error)return N;x="A Non-Error was thrown from a Future: "+dn(N)}catch{x="Something was thrown from a Future, but it could not be converted to String"}var X=Eo(x);return yo(X,c),X}function ar(N,c,x){Object.defineProperty(N,c,{value:x,writable:!0,configurable:!0})}function Pn(N,c){var x=oa(N,Pn),X=xo(x.context||Zt,c.context),ge=Eo(x.message);return ar(ge,"future",x.future||c),ar(ge,"reason",x.reason||x),ar(ge,"stack",ge.reason.stack),So(ge,X)}function So(N,c){return ar(N,"context",c),ar(N,"stack",N.stack+aa(c)),N}function aa(N){for(var c="",x=N;x!==Zt;)c=c+`
`+x.head.stack,x=x.tail;return c}function xn(N){return typeof N=="function"}function ia(N){return N instanceof Promise||N!=null&&xn(N.then)}function la(N){return typeof N=="boolean"}function jo(N){return N!==null&&typeof N=="object"}function ua(N){return jo(N)&&xn(N.next)}function ro(N){return{done:!1,value:N}}function sa(N){return{done:!0,value:N}}function ca(N){return jo(N)&&la(N.done)}function fa(){return!0}function Cr(N){for(var c=new Array(N.arity),x=1;x<=N.arity;x++)c[x-1]=N["$"+String(x)];return c}function Io(N){return" ("+dn(N)+")"}var _r={pred:fa,error:Wr("be anything")},er={pred:xn,error:Wr("be a Function")},br={pred:Kn,error:wo};function tr(N,c,x,X,ge){if(X.length<2&&x.pred(X[0]))return Qo(ge);var ie=X.length>1?ta(c,X):x.error(c.name,N-1,X[0]);throw yo(ie,c),So(ie,ge)}function Dn(N,c,x){return tr(1,N,c,x,Zt)}function Xt(N){var c=Dn(Xt,er,arguments);return new da(c,N)}function Kn(N){return N instanceof Xt||Fn(N)===lr}Xt["@@type"]=lr;Xt.constructor={prototype:Xt};Xt[In.of]=Nn;Xt[In.chainRec]=ha;Xt.prototype["@@type"]=lr;Xt.prototype["@@show"]=function(){return this.toString()};Xt.prototype.pipe=function(c){if(!xn(c))throw Gr("Future#pipe",0,"be a Function",c);return c(this)};Xt.prototype[In.ap]=function(c){var x=Wn(Zt);return c._transform(new ma(x,this))};Xt.prototype[In.map]=function(c){var x=Wn(Zt);return this._transform(new wr(x,c))};Xt.prototype[In.bimap]=function(c,x){var X=Wn(Zt);return this._transform(new _a(X,c,x))};Xt.prototype[In.chain]=function(c){var x=Wn(Zt);return this._transform(new Pr(x,c))};Xt.prototype[In.alt]=function(c){var x=Wn(Zt);return this._transform(new Ca(x,c))};Xt.prototype.extractLeft=function(){return[]};Xt.prototype.extractRight=function(){return[]};Xt.prototype._transform=function(c){return new ir(c.context,this,Zn(c,Zt))};Xt.prototype.isTransformer=!1;Xt.prototype.context=Zt;Xt.prototype.arity=0;Xt.prototype.name="future";Xt.prototype.toString=function(){return this.name+Cr(this).map(Io).join("")};Xt.prototype.toJSON=function(){return{$:lr,kind:"interpreter",type:this.name,args:Cr(this)}};function mn(N,c,x){var X=function(ge,ie,O,Ce){this.context=ge,this.$1=ie,this.$2=O,this.$3=Ce};return X.prototype=Object.create(Xt.prototype),X.prototype.arity=N,X.prototype.name=c,X.prototype._interpret=x,X}var da=mn(1,"Future",function(c,x,X){var ge=this.$1,ie=!1,O=Pt,Ce=function(){ie=!0};try{O=ge(function(Be){Ce=function(){ie=!1,x(Be)},ie&&Ce()},function(Be){Ce=function(){ie=!1,X(Be)},ie&&Ce()})}catch(We){return c(Pn(We,this)),Pt}return xn(O)&&O.length===0?(Ce(),function(){ie&&(ie=!1,O&&O())}):(c(Pn(Jn(`The computation was expected to return a nullary cancellation function
  Actual: `+dn(O)),this)),Pt)}),To=mn(0,"never",function(){return Pt});To.prototype._isNever=!0;var Ro=new To(Zt),Ar=mn(1,"crash",function(c){return c(this.$1),Pt});function Oo(N){return new Ar(Dn(Oo,_r,arguments),N)}var Yn=mn(1,"reject",function(c,x){return x(this.$1),Pt});Yn.prototype.extractLeft=function(){return[this.$1]};function Er(N){return new Yn(Dn(Er,_r,arguments),N)}var Ln=mn(1,"resolve",function(c,x,X){return X(this.$1),Pt});Ln.prototype.extractRight=function(){return[this.$1]};function Nn(N){return new Ln(Dn(Nn,_r,arguments),N)}function ha(N,c){return Nn(ro(c))._transform(new Pr(Zt,function x(X){return X.done?Nn(X.value):N(ro,sa,X.value)._transform(new Pr(Zt,x))}))}var ir=mn(2,"transform",function(c,x,X){var ge=Zt,ie=Zt,O,Ce,We=Pt,Be,dt=!0,He;function Xe(){var U=ie.head;return ie=ie.tail,U}function Ue(){var U=ge.head;return ge=ge.tail,U}function fe(U){if(Be=!0,O=U,O.isTransformer){for(var se=O.$2;!mr(se);)ge=Zn(se.head,ge),se=se.tail;O=O.$1}dt&&$t()}function It(U){fe(Ce.rejected(U))}function Ie(U){fe(Ce.resolved(U))}function ze(U,se){if(We(),ge=Zt,dt&&Ce!==se)for(Ce.cancel();(He=Xe())&&He!==se;)He.cancel();fe(U)}function ht(){for(We(),Ce&&Ce.cancel();He=Xe();)He.cancel()}function ot(U){ht(),Be=!0,ge=ie=Zt;var se=Pn(U,O);O=Ro,c(se)}function wt(){for(ge=Vr(ge);ge!==Zt;){if(He=ge.head.run(ze),Be)return;ie=Zn(He,ie),ge=ge.tail}Ce=Ce.run(ze)}function $t(){for(dt=!1;;){if(Be=!1,Ce=Ue())We=O._interpret(ot,It,Ie),Be||wt();else if(Ce=Xe())We=O._interpret(ot,It,Ie);else break;if(!Be){dt=!0;return}}We=O._interpret(ot,x,X)}return fe(this),ht});ir.prototype.isTransformer=!0;ir.prototype._transform=function(c){return new ir(c.context,this.$1,Zn(c,this.$2))};ir.prototype.toString=function(){return po(Vr(this.$2)).reduce(function(c,x){return x.name+Cr(x).map(Io).join("")+" ("+c+")"},this.$1.toString())};function va(N){return this.cancel(),new Yn(this.context,N)}function ga(N){return this.cancel(),new Ln(this.context,N)}function pa(){return{$:lr,kind:"transformation",type:this.name,args:Cr(this)}}var ya={rejected:va,resolved:ga,run:Zo,cancel:Pt,context:Zt,arity:0,name:"transform",toJSON:pa};function oo(N){return function(x){var X;try{X=N.call(this,x)}catch(ge){return new Ar(this.context,ge)}return Kn(X)?X:new Ar(this.context,ur(this.name+" expects the return value from the function it's given",X,`
  When called with: `+dn(x)))}}function bn(N,c,x){var X=function(ge,ie,O){this.context=ge,this.$1=ie,this.$2=O};return X.prototype=Object.create(ya),X.prototype.arity=N,X.prototype.name=c,typeof x.rejected=="function"&&(X.prototype.rejected=oo(x.rejected)),typeof x.resolved=="function"&&(X.prototype.resolved=oo(x.resolved)),typeof x.run=="function"&&(X.prototype.run=x.run),X}var ma=bn(1,"ap",{resolved:function(c){if(xn(c))return this.$1._transform(new wr(this.context,c));throw Jn(`ap expects the second Future to resolve to a Function
  Actual: `+dn(c))}}),Ca=bn(1,"alt",{rejected:function(){return this.$1}}),wr=bn(1,"map",{resolved:function(c){return new Ln(this.context,On(this.$1,c))}}),_a=bn(2,"bimap",{rejected:function(c){return new Yn(this.context,On(this.$1,c))},resolved:function(c){return new Ln(this.context,On(this.$2,c))}}),Pr=bn(1,"chain",{resolved:function(c){return On(this.$1,c)}}),ba=mn(2,"after",function(c,x,X){var ge=setTimeout(X,this.$1,this.$2);return function(){clearTimeout(ge)}});ba.prototype.extractRight=function(){return[this.$2]};var ao=bn(1,"and",{resolved:function(){return this.$1}});function Ea(N,c,x){return Jn(`encaseP() expects the function it's given to return a Promise/Thenable
  Actual: `+dn(N)+`
  From calling: `+dn(c)+`
  With: `+dn(x))}var wa=mn(2,"encaseP",function(c,x,X){var ge=!0,ie=this.$1,O=this.$2,Ce;try{Ce=ie(O)}catch(We){return c(Pn(We,this)),Pt}return ia(Ce)?(Ce.then(function(Be){ge&&(ge=!1,X(Be))},function(Be){ge&&(ge=!1,x(Be))}),function(){ge=!1}):(c(Pn(Ea(Ce,ie,O),this)),Pt)});function Bo(N){var c=Dn(Bo,er,arguments);return function x(X){var ge=tr(2,x,_r,arguments,c);return new wa(ge,N,X)}}mn(2,"encase",function(c,x,X){var ge=this.$1,ie;try{ie=ge(this.$2)}catch(O){return x(O),Pt}return X(ie),Pt});bn(2,"bichain",{rejected:function(c){return On(this.$1,c)},resolved:function(c){return On(this.$2,c)}});function zr(N){var c=this;c.rec=Pt,c.rej=Pt,c.res=Pt,c.crashed=!1,c.rejected=!1,c.resolved=!1,c.value=null,c.cancel=N._interpret(function(X){c.value=X,c.crashed=!0,c.cancel=Pt,c.rec(X)},function(X){c.value=X,c.rejected=!0,c.cancel=Pt,c.rej(X)},function(X){c.value=X,c.resolved=!0,c.cancel=Pt,c.res(X)})}zr.prototype=Object.create(Xt.prototype);zr.prototype._interpret=function(c,x,X){return this.crashed?c(this.value):this.rejected?x(this.value):this.resolved?X(this.value):(this.rec=c,this.rej=x,this.res=X),this.cancel};function Ur(N,c){N(Oo(c))}function Kr(N,c){N(Er(c))}function Sa(N,c){N(Nn(c))}function Jr(N,c,x,X,ge){var ie=bn(1,N,Object.assign({run:function(Ce){var We=new zr(this.$1),Be=new ie(this.context,We);function dt(He){Ce(He,Be)}return Be.cancel=We._interpret(function(Xe){c(dt,Xe)},function(Xe){x(dt,Xe)},function(Xe){X(dt,Xe)}),Be}},ge));return ie}var ja=bn(1,"pair",{resolved:function(c){return new Ln(this.context,[c,this.$1])}});Jr("both",Ur,Kr,Pt,{resolved:function(c){return this.$1._transform(new ja(this.context,c))}});var vr=0,$n=1,xr=2,Sr=3,jr=4;function Ia(N,c,x){this[xr]=N,this[Sr]=c,this[jr]=x}var En=mn(1,"cache",function(c,x,X){var ge=Pt;switch(this._state){case $n:ge=this._addToQueue(c,x,X);break;case xr:c(this._value);break;case Sr:x(this._value);break;case jr:X(this._value);break;default:this._queue=[],ge=this._addToQueue(c,x,X),this.run()}return ge});En.prototype._cancel=Pt;En.prototype._queue=null;En.prototype._queued=0;En.prototype._value=void 0;En.prototype._state=vr;En.prototype.extractLeft=function(){return this._state===Sr?[this._value]:[]};En.prototype.extractRight=function(){return this._state===jr?[this._value]:[]};En.prototype._addToQueue=function(c,x,X){var ge=this;if(ge._state>$n)return Pt;var ie=ge._queue.push(new Ia(c,x,X))-1;return ge._queued=ge._queued+1,function(){ge._state>$n||(ge._queue[ie]=void 0,ge._queued=ge._queued-1,ge._queued===0&&ge.reset())}};En.prototype._drainQueue=function(){if(!(this._state<=$n)&&this._queued!==0){for(var c=this._queue,x=c.length,X=this._state,ge=this._value,ie=0;ie<x;ie++)c[ie]&&c[ie][X](ge),c[ie]=void 0;this._queue=void 0,this._queued=0}};En.prototype.crash=function(c){this._state>$n||(this._value=c,this._state=xr,this._drainQueue())};En.prototype.reject=function(c){this._state>$n||(this._value=c,this._state=Sr,this._drainQueue())};En.prototype.resolve=function(c){this._state>$n||(this._value=c,this._state=jr,this._drainQueue())};En.prototype.run=function(){var c=this;c._state>vr||(c._state=$n,c._cancel=c.$1._interpret(function(X){c.crash(X)},function(X){c.reject(X)},function(X){c.resolve(X)}))};En.prototype.reset=function(){this._state!==vr&&(this._state===$n&&this._cancel(),this._cancel=Pt,this._queue=[],this._queued=0,this._value=void 0,this._state=vr)};bn(1,"chainRej",{rejected:function(c){return On(this.$1,c)}});function Mo(N){return Dn(Mo,br,arguments),N.extractLeft()}function Ao(N){return Dn(Ao,br,arguments),N.extractRight()}var Ta=bn(2,"coalesce",{rejected:function(c){return new Ln(this.context,On(this.$1,c))},resolved:function(c){return new Ln(this.context,On(this.$2,c))}});function Po(N){var c=Dn(Po,er,arguments);return function x(X){var ge=tr(2,x,er,arguments,c);return function ie(O){var Ce=tr(3,ie,br,arguments,ge);return O._transform(new Ta(Ce,N,X))}}}function Lo(N){var c=Dn(Lo,er,arguments);return function x(X){var ge=tr(2,x,er,arguments,c);return function ie(O){return tr(3,ie,br,arguments,ge),O._interpret(_o,N,X)}}}var Or=0,Ra=1,io=2;function Oa(N){return Jn(`The iterator did not return a valid iteration from iterator.next()
  Actual: `+dn(N))}function Ba(N){return ur("go() expects the value produced by the iterator",N,`
  Tip: If you're using a generator, make sure you always yield a Future`)}mn(1,"go",function(c,x,X){var ge=this,ie=Or,O=Pt,Ce,We,Be;function dt(Ue){c(Pn(Ue,ge))}try{Be=ge.$1()}catch(Ue){return dt(Ue),Pt}if(!ua(Be))return dt(Gr("go",0,'return an iterator, maybe you forgot the "*"',Be)),Pt;function He(Ue){if(We=Ue,ie===io)return Xe();ie=Ra}function Xe(){for(;;){try{Ce=Be.next(We)}catch(Ue){return dt(Ue)}if(!ca(Ce))return dt(Oa(Ce));if(Ce.done)break;if(!Kn(Ce.value))return dt(Ba(Ce.value));if(ie=Or,O=Ce.value._interpret(dt,x,He),ie===Or)return ie=io}X(Ce.value)}return Xe(),function(){O()}});function Ma(N,c,x){return ur("hook() expects the return value from the first function it's given",N,`
  From calling: `+dn(c)+`
  With: `+dn(x))}function Aa(N,c,x){return ur("hook() expects the return value from the second function it's given",N,`
  From calling: `+dn(c)+`
  With: `+dn(x))}mn(3,"hook",function(c,x,X){var ge=this,ie=this.$1,O=this.$2,Ce=this.$3,We,Be=Pt,dt,He,Xe=Pt;function Ue(){Xe(He)}function fe(be){c(Pn(be,ge))}function It(){var be;try{be=O(dt)}catch(te){return fe(te)}if(!Kn(be))return fe(Ma(be,O,dt));We=ze,be._interpret(fe,ht,Ue)}function Ie(){Be(),It(),ze()}function ze(){Xe=Pt}function ht(be){fe(new Error("The disposal Future rejected with "+dn(be)))}function ot(be){Xe=fe,He=be,It()}function wt(be){Xe=x,He=be,It()}function $t(be){Xe=X,He=be,It()}function U(be){dt=be;var te;try{te=Ce(dt)}catch(ee){return ot(ee)}if(!Kn(te))return ot(Aa(te,Ce,dt));We=Ie,Be=te._interpret(ot,wt,$t)}var se=ie._interpret(fe,x,U);return We=We||se,function(){c=_o,We()}});bn(1,"lastly",{rejected:function(c){return this.$1._transform(new ao(this.context,new Yn(this.context,c)))},resolved:function(c){return this.$1._transform(new ao(this.context,new Ln(this.context,c)))}});bn(1,"mapRej",{rejected:function(c){return new Yn(this.context,On(this.$1,c))}});mn(1,"node",function(c,x,X){function ge(Ce,We){O=Ce?function(){ie=!1,x(Ce)}:function(){ie=!1,X(We)},ie&&O()}var ie=!1,O=function(){ie=!0};try{On(this.$1,ge)}catch(Ce){return c(Pn(Ce,this)),ie=!1,Pt}return O(),function(){ie=!1}});var Pa=Jr("pap",Ur,Kr,Pt,{resolved:function(c){if(xn(c))return this.$1._transform(new wr(this.context,c));throw Jn(`pap expects the second Future to resolve to a Function
  Actual: `+dn(c))}});mn(2,"parallel",function(c,x,X){var ge=this,ie=this.$2,O=ie.length,Ce=Math.min(this.$1,O),We=new Array(O),Be=new Array(O),dt=0,He=0,Xe=!1,Ue=Pt;function fe(){c=Pt,x=Pt,X=Pt,dt=O;for(var ze=0;ze<O;ze++)We[ze]&&We[ze]()}function It(ze){He++,We[ze]=ie[ze]._interpret(function(ot){Ue=c,We[ze]=Pt,fe(),Ue(Pn(ot,ge))},function(ot){Ue=x,We[ze]=Pt,fe(),Ue(ot)},function(ot){We[ze]=Pt,Be[ze]=ot,He--,dt===O&&He===0?X(Be):Xe&&Ie()})}function Ie(){for(Xe=!1;dt<O&&He<Ce;)It(dt++);Xe=!0}return Ie(),fe});Nn([]);var La=Jr("race",Ur,Kr,Sa,{});function zn(N){this.sequential=N}zn.prototype=Object.create(pn.prototype);function pn(N){if(!Kn(N))throw wo(pn.name,0,N);return new zn(N)}var Yr=qn+"/ConcurrentFuture@"+yr,Da=new zn(Ro);pn["@@type"]=Yr;pn.constructor={prototype:pn};pn[In.of]=function(c){return new zn(Nn(c))};pn[In.zero]=function(){return Da};pn.prototype["@@type"]=Yr;pn.prototype["@@show"]=function(){return this.toString()};pn.prototype.toString=function(){return"Par ("+this.sequential.toString()+")"};pn.prototype[In.map]=function(c){var x=Wn(Zt);return new zn(this.sequential._transform(new wr(x,c)))};pn.prototype[In.ap]=function(c){var x=Wn(Zt);return new zn(c.sequential._transform(new Pa(x,this.sequential)))};pn.prototype[In.alt]=function(c){var x=Wn(Zt);return new zn(c.sequential._transform(new La(x,this.sequential)))};function ka(N){return N instanceof zn||Fn(N)===Yr}var Fa=mn(2,"rejectAfter",function(c,x){var X=setTimeout(x,this.$1,this.$2);return function(){clearTimeout(X)}});Fa.prototype.extractLeft=function(){return[this.$2]};var Na={pred:ka,error:Wr("be a ConcurrentFuture")};function Lr(N){return Dn(Lr,Na,arguments),N.sequential}bn(0,"swap",{resolved:function(c){return new Yn(this.context,c)},rejected:function(c){return new Ln(this.context,c)}});var Dr="@@type",$a=An.BinaryType(Fn.parse(Xt[Dr]).name)("https://github.com/fluture-js/Fluture#readme")([])(Kn)(Mo)(Ao),Ha=An.BinaryType(Fn.parse(pn[Dr]).name)("https://github.com/fluture-js/Fluture#concurrentfuture")([])(function(N){return Fn(N)===pn[Dr]&&N!==pn})(function(N){return Lr(N).extractLeft()})(function(N){return Lr(N).extractRight()}),Va=[$a(An.Unknown)(An.Unknown),Ha(An.Unknown)(An.Unknown)];const Ir=Object.prototype.toString,Ga=An.NullaryType("Event")("https://devdocs.io/dom/event")([])(N=>Ir.call(N)==="[object Event]"),Wa=An.NullaryType("Response")("https://devdocs.io/dom/response")([])(N=>Ir.call(N)==="[object Response]"),za=An.NullaryType("Response")("https://devdocs.io/dom/headers")([])(N=>Ir.call(N)==="[object Headers]"),Ua=An.NullaryType("Response")("https://devdocs.io/dom/pointerevent")([])(N=>Ir.call(N)==="[object PointerEvent]"),qt=no.create({checkTypes:!1,env:no.env.concat(Va).concat([Ga,Wa,za,Ua])});var kr={exports:{}};/*! Cheetah Grid v1.6.2 | license MIT */(function(N,c){(function(){function x(be,te,ee,r){return typeof Reflect!="undefined"&&Reflect.set?x=Reflect.set:x=function(I,_,y,E){var w=O(I,_),v;if(w){if(v=Object.getOwnPropertyDescriptor(w,_),v.set)return v.set.call(E,y),!0;if(!v.writable)return!1}if(v=Object.getOwnPropertyDescriptor(E,_),v){if(!v.writable)return!1;v.value=y,Object.defineProperty(E,_,v)}else ge(E,_,y);return!0},x(be,te,ee,r)}function X(be,te,ee,r,s){var I=x(be,te,ee,r||be);if(!I&&s)throw new Error("failed to set property");return ee}function ge(be,te,ee){return te in be?Object.defineProperty(be,te,{value:ee,enumerable:!0,configurable:!0,writable:!0}):be[te]=ee,be}function ie(be,te,ee){return typeof Reflect!="undefined"&&Reflect.get?ie=Reflect.get:ie=function(s,I,_){var y=O(s,I);if(!!y){var E=Object.getOwnPropertyDescriptor(y,I);return E.get?E.get.call(_):E.value}},ie(be,te,ee||be)}function O(be,te){for(;!Object.prototype.hasOwnProperty.call(be,te)&&(be=Ue(be),be!==null););return be}function Ce(be,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(te&&te.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),te&&We(be,te)}function We(be,te){return We=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},We(be,te)}function Be(be){var te=Xe();return function(){var r=Ue(be),s;if(te){var I=Ue(this).constructor;s=Reflect.construct(r,arguments,I)}else s=r.apply(this,arguments);return dt(this,s)}}function dt(be,te){return te&&(se(te)==="object"||typeof te=="function")?te:He(be)}function He(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function Xe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ue(be){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},Ue(be)}function fe(be,te){if(!(be instanceof te))throw new TypeError("Cannot call a class as a function")}function It(be,te){for(var ee=0;ee<te.length;ee++){var r=te[ee];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(be,r.key,r)}}function Ie(be,te,ee){return te&&It(be.prototype,te),ee&&It(be,ee),be}function ze(be){return $t(be)||wt(be)||ot(be)||ht()}function ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(be,te){if(!!be){if(typeof be=="string")return U(be,te);var ee=Object.prototype.toString.call(be).slice(8,-1);if(ee==="Object"&&be.constructor&&(ee=be.constructor.name),ee==="Map"||ee==="Set")return Array.from(be);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return U(be,te)}}function wt(be){if(typeof Symbol!="undefined"&&be[Symbol.iterator]!=null||be["@@iterator"]!=null)return Array.from(be)}function $t(be){if(Array.isArray(be))return U(be)}function U(be,te){(te==null||te>be.length)&&(te=be.length);for(var ee=0,r=new Array(te);ee<te;ee++)r[ee]=be[ee];return r}function se(be){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?se=function(ee){return typeof ee}:se=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},se(be)}(function(be){(function(ee,r){se(c)==="object"&&se(N)==="object"?N.exports=r():se(c)==="object"?c.cheetahGrid=r():ee.cheetahGrid=r()})(be,function(){return function(te){var ee={};function r(s){if(ee[s])return ee[s].exports;var I=ee[s]={i:s,l:!1,exports:{}};return te[s].call(I.exports,I,I.exports,r),I.l=!0,I.exports}return r.m=te,r.c=ee,r.d=function(s,I,_){r.o(s,I)||Object.defineProperty(s,I,{enumerable:!0,get:_})},r.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,I){if(I&1&&(s=r(s)),I&8||I&4&&se(s)==="object"&&s&&s.__esModule)return s;var _=Object.create(null);if(r.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:s}),I&2&&typeof s!="string")for(var y in s)r.d(_,y,function(E){return s[E]}.bind(null,y));return _},r.n=function(s){var I=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(I,"a",I),I},r.o=function(s,I){return Object.prototype.hasOwnProperty.call(s,I)},r.p="",r(r.s="./main.js")}({"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineInputElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}",""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineMenuElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,'.cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}',""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/SmallDialogInputElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,'.cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:"";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}',""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/ErrorMessageElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}",""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/MessageElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}",""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/WarningMessageElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}",""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/internal/style.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}",""]),r.default=y},"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/tooltip/internal/TooltipElement.css":function(ee,r,s){s.r(r);var I=s("../node_modules/css-loader/dist/runtime/api.js"),_=s.n(I),y=_()(!1);y.push([ee.i,"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}",""]),r.default=y},"../node_modules/css-loader/dist/runtime/api.js":function(ee,r,s){ee.exports=function(y){var E=[];return E.toString=function(){return this.map(function(v){var t=I(v,y);return v[2]?"@media ".concat(v[2]," {").concat(t,"}"):t}).join("")},E.i=function(w,v,t){typeof w=="string"&&(w=[[null,w,""]]);var n={};if(t)for(var e=0;e<this.length;e++){var o=this[e][0];o!=null&&(n[o]=!0)}for(var a=0;a<w.length;a++){var i=[].concat(w[a]);t&&n[i[0]]||(v&&(i[2]?i[2]="".concat(v," and ").concat(i[2]):i[2]=v),E.push(i))}},E};function I(y,E){var w=y[1]||"",v=y[3];if(!v)return w;if(E&&typeof btoa=="function"){var t=_(v),n=v.sources.map(function(e){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(e," */")});return[w].concat(n).concat([t]).join(`
`)}return[w].join(`
`)}function _(y){var E=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),w="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E);return"/*# ".concat(w," */")}},"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(ee,r,s){var I=function(){var f;return function(){return typeof f=="undefined"&&(f=Boolean(be&&document&&document.all&&!be.atob)),f}}(),_=function(){var f={};return function(d){if(typeof f[d]=="undefined"){var C=document.querySelector(d);if(be.HTMLIFrameElement&&C instanceof be.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}f[d]=C}return f[d]}}(),y=[];function E(u){for(var f=-1,m=0;m<y.length;m++)if(y[m].identifier===u){f=m;break}return f}function w(u,f){for(var m={},d=[],C=0;C<u.length;C++){var p=u[C],B=f.base?p[0]+f.base:p[0],j=m[B]||0,g="".concat(B," ").concat(j);m[B]=j+1;var L=E(g),G={css:p[1],media:p[2],sourceMap:p[3]};L!==-1?(y[L].references++,y[L].updater(G)):y.push({identifier:g,updater:l(G,f),references:1}),d.push(g)}return d}function v(u){var f=document.createElement("style"),m=u.attributes||{};if(typeof m.nonce=="undefined"){var d=s.nc;d&&(m.nonce=d)}if(Object.keys(m).forEach(function(p){f.setAttribute(p,m[p])}),typeof u.insert=="function")u.insert(f);else{var C=_(u.insert||"head");if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");C.appendChild(f)}return f}function t(u){if(u.parentNode===null)return!1;u.parentNode.removeChild(u)}var n=function(){var f=[];return function(d,C){return f[d]=C,f.filter(Boolean).join(`
`)}}();function e(u,f,m,d){var C=m?"":d.media?"@media ".concat(d.media," {").concat(d.css,"}"):d.css;if(u.styleSheet)u.styleSheet.cssText=n(f,C);else{var p=document.createTextNode(C),B=u.childNodes;B[f]&&u.removeChild(B[f]),B.length?u.insertBefore(p,B[f]):u.appendChild(p)}}function o(u,f,m){var d=m.css,C=m.media,p=m.sourceMap;if(C?u.setAttribute("media",C):u.removeAttribute("media"),p&&typeof btoa!="undefined"&&(d+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(p))))," */")),u.styleSheet)u.styleSheet.cssText=d;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(d))}}var a=null,i=0;function l(u,f){var m,d,C;if(f.singleton){var p=i++;m=a||(a=v(f)),d=e.bind(null,m,p,!1),C=e.bind(null,m,p,!0)}else m=v(f),d=o.bind(null,m,f),C=function(){t(m)};return d(u),function(j){if(j){if(j.css===u.css&&j.media===u.media&&j.sourceMap===u.sourceMap)return;d(u=j)}else C()}}ee.exports=function(u,f){f=f||{},!f.singleton&&typeof f.singleton!="boolean"&&(f.singleton=I()),u=u||[];var m=w(u,f);return function(C){if(C=C||[],Object.prototype.toString.call(C)==="[object Array]"){for(var p=0;p<m.length;p++){var B=m[p],j=E(B);y[j].references--}for(var g=w(C,f),L=0;L<m.length;L++){var G=m[L],M=E(G);y[M].references===0&&(y[M].updater(),y.splice(M,1))}m=g}}}},"../node_modules/webpack/buildin/global.js":function(ee,r){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{se(be)==="object"&&(s=be)}ee.exports=s},"../src/js/columns/action/internal/InlineInputElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineInputElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/columns/action/internal/InlineMenuElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineMenuElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/columns/action/internal/SmallDialogInputElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/SmallDialogInputElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/columns/message/internal/ErrorMessageElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/ErrorMessageElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/columns/message/internal/MessageElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/MessageElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/columns/message/internal/WarningMessageElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/WarningMessageElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/internal/style.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/internal/style.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"../src/js/tooltip/internal/TooltipElement.css":function(ee,r,s){var I=s("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=s("../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/tooltip/internal/TooltipElement.css");_=_.__esModule?_.default:_,typeof _=="string"&&(_=[[ee.i,_,""]]);var y={};y.insert="head",y.singleton=!1,I(_,y),ee.exports=_.locals||{}},"./GridCanvasHelper.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(V,S,H,$){$===void 0&&($=H),Object.defineProperty(V,$,{enumerable:!0,get:function(){return S[H]}})}:function(V,S,H,$){$===void 0&&($=H),V[$]=S[H]}),_=this&&this.__setModuleDefault||(Object.create?function(V,S){Object.defineProperty(V,"default",{enumerable:!0,value:S})}:function(V,S){V.default=S}),y=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var S={};if(V!=null)for(var H in V)H!=="default"&&Object.prototype.hasOwnProperty.call(V,H)&&I(S,V,H);return _(S,V),S};Object.defineProperty(r,"__esModule",{value:!0}),r.GridCanvasHelper=void 0;var E=y(s("./internal/calc.js")),w=y(s("./tools/canvashelper.js")),v=y(s("./internal/fonts.js")),t=y(s("./element/inlines.js")),n=y(s("./themes.js")),e=s("./internal/canvases.js"),o=s("./internal/utils.js"),a=s("./element/InlineDrawer.js"),i=s("./internal/Rect.js"),l=s("./internal/color.js"),u=o.style.toBoxArray,f=t.of("\u2026"),m=2,d=m+1;function C(V,S){var H=V.col,$=V.row;S.invalidateCell(H,$)}function p(V,S,H,$,k){return(0,o.getOrApply)(V,{col:S,row:H,grid:$,context:k})}function B(V,S,H,$,k){if(V!=null)return(0,o.getOrApply)(V,{col:S,row:H,grid:$,context:k})}function j(V){for(var S=arguments.length,H=new Array(S>1?S-1:0),$=1;$<S;$++)H[$-1]=arguments[$];var k=o.getChainSafe.apply(void 0,[V.theme].concat(H));if(k==null)return o.getChainSafe.apply(void 0,[n.getDefault()].concat(H));if(typeof k!="function")return k;var h;return function(R){var P=k(R);return P!=null?P:(h=h||o.getChainSafe.apply(void 0,[n.getDefault()].concat(H)),(0,o.getOrApply)(h,R))}}function g(V,S,H,$){return V&&!v.check(V,S)?(v.load(V,S,function(){return C(H,$)}),!1):!0}function L(V,S,H,$,k,h,R,P,Q){function ue(Oe,ke,Ke){if(Oe.canDraw()){V.save();try{V.fillStyle=p(Oe.color()||V.fillStyle,R,P,Q,V),V.font=Oe.font()||V.font,Oe.draw({ctx:V,canvashelper:w,rect:H,offset:$,offsetLeft:ke,offsetRight:Ke,offsetTop:k,offsetBottom:h})}finally{V.restore()}}else Oe.onReady(function(){return Q.invalidateCell(R,P)})}if(S.length===1){var me=S[0];ue(me,0,0)}else{var _e=S.map(function(Oe){return(Oe.width({ctx:V})||0)-0}),Se=_e.reduce(function(Oe,ke){return Oe+ke}),Re=0;S.forEach(function(Oe,ke){var Ke=_e[ke];Se-=Ke,ue(Oe,Re,Se),Re+=Ke})}}function G(V,S){return t.buildInlines(V,S||"")}function M(V){return t.string(V)}function K(V){return!J(V)||V==="ellipsis"?f:(V=V.trim(),V.length===1?t.of(V[0]):f)}function J(V){return Boolean(V&&V!=="clip"&&typeof V=="string")}function ae(V,S,H){for(var $=H-3,k=0,h=0;h<S.length;h++){var R=S[h],P=(R.width({ctx:V})||0)-0;if(k+P>$)return{index:h,lineWidth:k,remWidth:$-k};k+=P}return null}function ce(V,S,H){return!!ae(V,S,H)}function re(V,S,H){var $=ae(V,S,H);if(!$)return{beforeInlines:S,overflow:!1,afterInlines:[]};var k=$.index,h=$.remWidth,R=S[k],P=S.slice(0,k),Q=[];if(R.canBreak()){var ue=R.breakWord(V,h),me=ue.before,_e=ue.after;if(!me&&!P.length){var Se=R.breakAll(V,h);me=Se.before,_e=Se.after}if(!me&&!P.length){var Re=R.splitIndex(1);me=Re.before,_e=Re.after}me&&P.push(me),_e&&Q.push(_e),Q.push.apply(Q,ze(S.slice(k+1)))}else P.length||P.push(R),Q.push.apply(Q,ze(S.slice(P.length)));return{beforeInlines:P,overflow:!0,afterInlines:Q}}function Ee(V,S,H,$){var k=ae(V,S,H);if(!k)return{inlines:S,overflow:!1};var h=k.index,R=k.lineWidth,P=S[h],Q=K($),ue=Q.width({ctx:V}),me=H-R-ue,_e=S.slice(0,h);if(P.canBreak()){var Se=P.breakAll(V,me),Re=Se.before;Re&&_e.push(Re)}return _e.push(Q),{inlines:_e,overflow:!0}}function $e(V,S,H,$,k,h,R){var P=R.offset,Q=R.color,ue=R.textAlign,me=R.textBaseline,_e=R.font,Se=R.textOverflow,Re=R.icons,Oe=R.trailingIcon;S.fillStyle=p(Q||S.fillStyle,k,h,V,S),S.textAlign=ue,S.textBaseline=me,S.font=_e||S.font;var ke=G(Re,H),Ke=Oe?t.iconOf(Oe):null,st=$.width,St=0;if(Ke&&(St=Ke.width({ctx:S}),st-=St),J(Se)&&ce(S,ke,st)){var yt=Ee(S,ke,st,Se),Bt=yt.inlines,Lt=yt.overflow;ke=Bt,V.setCellOverflowText(k,h,Lt&&M(H))}else V.setCellOverflowText(k,h,!1);if(L(S,ke,$,P,0,0,k,h,V),Ke){var pt=0;ke.forEach(function(Rt){pt+=Rt.width({ctx:S})});var Tt=new i.Rect($.left,$.top,$.width,$.height),Mt=Tt.copy();st<pt?Mt.left=Mt.right-St-P:Mt.left+=pt,Mt.right=Tt.right,L(S,[Ke],Mt,P,0,0,k,h,V)}}function Ae(V,S,H,$,k,h,R){var P=R.offset,Q=R.color,ue=R.textAlign,me=R.textBaseline,_e=R.font,Se=R.lineHeight,Re=R.autoWrapText,Oe=R.lineClamp,ke=R.textOverflow,Ke=R.icons,st=R.trailingIcon;if(S.fillStyle=p(Q||S.fillStyle,k,h,V,S),S.textAlign=ue,S.textBaseline=me,S.font=_e||S.font,Oe==="auto"){var St=$.height-P*2-2;Oe=Math.max(Math.floor(St/Se),1)}var yt=st?t.iconOf(st):null,Bt=$.width,Lt=0;yt&&(Lt=yt.width({ctx:S}),Bt-=Lt);var pt;if(Re||Oe>0||J(ke)){pt=[];var Tt=Oe>0?function(Ot,vt){if(pt.length+1>=Oe){if(Ot.length===0&&vt)pt.push([K(ke)]),V.setCellOverflowText(k,h,H.map(M).join(`
`));else{var nn=Ee(S,Ot,Bt,ke),tn=nn.inlines,xt=nn.overflow;pt.push(vt&&!xt?tn.concat([K(ke)]):tn),(xt||vt)&&V.setCellOverflowText(k,h,H.map(M).join(`
`))}return!1}return!0}:function(){return!0},Mt=Re?function(Ot,vt){if(!Tt(Ot,vt))return!1;for(;Ot.length;){if(!Tt(Ot,vt))return!1;var nn=re(S,Ot,Bt),tn=nn.beforeInlines,xt=nn.afterInlines;pt.push(tn),Ot=xt}return!0}:J(ke)?function(Ot,vt){if(!Tt(Ot,vt))return!1;var nn=Ee(S,Ot,Bt,ke),tn=nn.inlines,xt=nn.overflow;return pt.push(tn),xt&&V.setCellOverflowText(k,h,H.map(M).join(`
`)),!0}:function(Ot,vt){return Tt(Ot,vt)?(pt.push(Ot),!0):!1};V.setCellOverflowText(k,h,!1);for(var Rt=0;Rt<H.length;Rt++){var Nt=H[Rt],Ht=G(Rt===0?Ke:void 0,Nt);if(!Mt(Ht,Rt+1<H.length))break}}else V.setCellOverflowText(k,h,!1),pt=H.map(function(Ot,vt){return G(vt===0?Ke:void 0,Ot)});var Ut=0,Wt=Se*(pt.length-1);if(S.textBaseline==="top"||S.textBaseline==="hanging"){var Ft=(0,e.getFontSize)(S,S.font).height,un=(Se-Ft)/2;Ut+=un,Wt-=un}else if(S.textBaseline==="bottom"||S.textBaseline==="alphabetic"||S.textBaseline==="ideographic"){var en=(0,e.getFontSize)(S,S.font).height,sn=(Se-en)/2;Ut-=sn,Wt+=sn}if(pt.forEach(function(Ot){L(S,Ot,$,P,Ut,Wt,k,h,V),Ut+=Se,Wt-=Se}),yt){var on=0;pt.forEach(function(Ot){var vt=0;Ot.forEach(function(nn){vt+=nn.width({ctx:S})}),on=Math.max(on,vt)});var zt=new i.Rect($.left,$.top,$.width,$.height),jt=zt.copy();Bt<on?jt.left=jt.right-Lt-P:jt.left+=on,jt.right=zt.right,L(S,[yt],jt,P,0,0,k,h,V)}}function Je(V,S,H){var $=(0,l.colorToRGB)(V),k=(0,l.colorToRGB)(S),h=function(P){var Q=$[P],ue=k[P];if(H>=1)return ue;if(H<=0)return Q;var me=Q-ue;return Math.ceil(Q-me*H)};return"rgb(".concat(h("r"),", ").concat(h("g"),", ").concat(h("b"),")")}function ye(V,S,H,$,k,h,R){var P=R.animElapsedTime,Q=P===void 0?1:P,ue=R.uncheckBgColor,me=ue===void 0?h.theme.checkbox.uncheckBgColor:ue,_e=R.checkBgColor,Se=_e===void 0?h.theme.checkbox.checkBgColor:_e,Re=R.borderColor,Oe=Re===void 0?h.theme.checkbox.borderColor:Re,ke=R.textAlign,Ke=ke===void 0?"center":ke,st=R.textBaseline,St=st===void 0?"middle":st,yt=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},Bt=w.measureCheckbox(V).width;V.textAlign=Ke,V.textBaseline=St;var Lt=(0,e.calcStartPosition)(V,S,Bt+1,Bt+1,yt);me=h.getColor(me,H,$,V),Se=h.getColor(Se,H,$,V),Oe=h.getColor(Oe,H,$,V),0<Q&&Q<1&&(me=k?me:Je(Se,me,Q),Se=k?Je(me,Se,Q):Se),w.drawCheckbox(V,Lt.x,Lt.y,k?Q:!1,{uncheckBgColor:me,checkBgColor:Se,borderColor:Oe})}function Pe(V,S,H,$,k,h,R){var P=R.animElapsedTime,Q=P===void 0?1:P,ue=R.checkColor,me=ue===void 0?h.theme.radioButton.checkColor:ue,_e=R.uncheckBorderColor,Se=_e===void 0?h.theme.radioButton.uncheckBorderColor:_e,Re=R.checkBorderColor,Oe=Re===void 0?h.theme.radioButton.checkBorderColor:Re,ke=R.uncheckBgColor,Ke=ke===void 0?h.theme.radioButton.uncheckBgColor:ke,st=R.checkBgColor,St=st===void 0?h.theme.radioButton.checkBgColor:st,yt=R.textAlign,Bt=yt===void 0?"center":yt,Lt=R.textBaseline,pt=Lt===void 0?"middle":Lt,Tt=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},Mt=w.measureRadioButton(V).width;V.textAlign=Bt,V.textBaseline=pt;var Rt=(0,e.calcStartPosition)(V,S,Mt+1,Mt+1,Tt);me=h.getColor(me,H,$,V),Se=h.getColor(Se,H,$,V),Oe=h.getColor(Oe,H,$,V),Ke=h.getColor(Ke,H,$,V),St=h.getColor(St,H,$,V);var Nt=k?Oe:Se,Ht=k?St:Ke;0<Q&&Q<1&&(Nt=k?Je(Se,Oe,Q):Je(Oe,Se,Q),Ht=k?Je(Ke,St,Q):Je(St,Ke,Q)),w.drawRadioButton(V,Rt.x,Rt.y,k?Q:1-Q,{checkColor:me,borderColor:Nt,bgColor:Ht})}var ve=function(){function V(S){fe(this,V),this._checkbox=null,this._radioButton=null,this._button=null,this._header=null,this._messages=null,this._grid=S}return Ie(V,[{key:"getThemeColor",value:function(){for(var H=arguments.length,$=new Array(H),k=0;k<H;k++)$[k]=arguments[k];return j.apply(void 0,[this._grid].concat($))}},{key:"font",get:function(){return j(this._grid,"font")}},{key:"underlayBackgroundColor",get:function(){return j(this._grid,"underlayBackgroundColor")}},{key:"color",get:function(){return j(this._grid,"color")}},{key:"frozenRowsColor",get:function(){return j(this._grid,"frozenRowsColor")}},{key:"defaultBgColor",get:function(){return j(this._grid,"defaultBgColor")}},{key:"frozenRowsBgColor",get:function(){return j(this._grid,"frozenRowsBgColor")}},{key:"selectionBgColor",get:function(){return j(this._grid,"selectionBgColor")}},{key:"highlightBgColor",get:function(){return j(this._grid,"highlightBgColor")}},{key:"borderColor",get:function(){return j(this._grid,"borderColor")}},{key:"frozenRowsBorderColor",get:function(){return j(this._grid,"frozenRowsBorderColor")}},{key:"highlightBorderColor",get:function(){return j(this._grid,"highlightBorderColor")}},{key:"checkbox",get:function(){var H=this._grid;return this._checkbox||(this._checkbox={get uncheckBgColor(){return j(H,"checkbox","uncheckBgColor")},get checkBgColor(){return j(H,"checkbox","checkBgColor")},get borderColor(){return j(H,"checkbox","borderColor")}})}},{key:"radioButton",get:function(){var H=this._grid;return this._radioButton||(this._radioButton={get checkColor(){return j(H,"radioButton","checkColor")},get uncheckBorderColor(){return j(H,"radioButton","uncheckBorderColor")},get checkBorderColor(){return j(H,"radioButton","checkBorderColor")},get uncheckBgColor(){return j(H,"radioButton","uncheckBgColor")},get checkBgColor(){return j(H,"radioButton","checkBgColor")}})}},{key:"button",get:function(){var H=this._grid;return this._button||(this._button={get color(){return j(H,"button","color")},get bgColor(){return j(H,"button","bgColor")}})}},{key:"header",get:function(){var H=this._grid;return this._header||(this._header={get sortArrowColor(){return j(H,"header","sortArrowColor")}})}},{key:"messages",get:function(){var H=this._grid;return this._messages||(this._messages={get infoBgColor(){return j(H,"messages","infoBgColor")},get errorBgColor(){return j(H,"messages","errorBgColor")},get warnBgColor(){return j(H,"messages","warnBgColor")},get boxWidth(){return j(H,"messages","boxWidth")},get markHeight(){return j(H,"messages","markHeight")}})}}]),V}();function Me(V,S,H,$,k,h){if(!Array.isArray(S))S&&(V.strokeStyle=S,V.strokeRect(H,$,k,h));else{var R=u(S);w.strokeColorsRect(V,R,H,$,k,h)}}var xe=function(){function V(S){fe(this,V),this._grid=S,this._theme=new ve(S)}return Ie(V,[{key:"createCalculator",value:function(H,$){return{calcWidth:function(h){return E.toPx(h,{get full(){var R=H.getRect();return R.width},get em(){return(0,e.getFontSize)(H.getContext(),$).width}})},calcHeight:function(h){return E.toPx(h,{get full(){var R=H.getRect();return R.height},get em(){return(0,e.getFontSize)(H.getContext(),$).height}})}}}},{key:"getColor",value:function(H,$,k,h){return p(H,$,k,this._grid,h)}},{key:"toBoxArray",value:function(H){return u(H)}},{key:"toBoxPixelArray",value:function(H,$,k){if(typeof H=="string"||Array.isArray(H)){var h=this.createCalculator($,k),R=u(H);return[h.calcHeight(R[0]),h.calcWidth(R[1]),h.calcHeight(R[2]),h.calcWidth(R[3])]}return u(H)}},{key:"theme",get:function(){return this._theme}},{key:"drawWithClip",value:function(H,$){var k=H.getDrawRect();if(!!k){var h=H.getContext();h.save();try{h.beginPath(),h.rect(k.left,k.top,k.width,k.height),h.clip(),$(h)}finally{h.restore()}}}},{key:"drawBorderWithClip",value:function(H,$){var k=H.getDrawRect();if(!!k){var h=H.getRect(),R=H.getContext();R.save();try{R.beginPath();var P=k.left,Q=k.width;k.left===h.left&&(P+=-1,Q+=1);var ue=k.top,me=k.height;k.top===h.top&&(ue+=-1,me+=1),R.rect(P,ue,Q,me),R.clip(),$(R)}finally{R.restore()}}}},{key:"text",value:function(H,$){var k=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=h.padding,P=h.offset,Q=P===void 0?m:P,ue=h.color,me=h.textAlign,_e=me===void 0?"left":me,Se=h.textBaseline,Re=Se===void 0?"middle":Se,Oe=h.font,ke=h.textOverflow,Ke=ke===void 0?"clip":ke,st=h.icons,St=h.trailingIcon,yt=$.getRect(),Bt=$.col,Lt=$.row;if(!ue){ue=this.theme.color;var pt=this._grid.isFrozenCell(Bt,Lt);pt&&pt.row&&(ue=this.theme.frozenRowsColor)}this.drawWithClip($,function(Tt){if(Oe=B(Oe,$.col,$.row,k._grid,Tt),R){var Mt=k.toBoxPixelArray(R,$,Oe),Rt=yt.left+Mt[3],Nt=yt.top+Mt[0],Ht=yt.width-Mt[1]-Mt[3],Ut=yt.height-Mt[0]-Mt[2];yt=new i.Rect(Rt,Nt,Ht,Ut)}$e(k._grid,Tt,H,yt,Bt,Lt,{offset:Q,color:ue,textAlign:_e,textBaseline:Re,font:Oe,textOverflow:Ke,icons:st,trailingIcon:St})})}},{key:"multilineText",value:function(H,$){var k=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=h.padding,P=h.offset,Q=P===void 0?m:P,ue=h.color,me=h.textAlign,_e=me===void 0?"left":me,Se=h.textBaseline,Re=Se===void 0?"middle":Se,Oe=h.font,ke=h.lineHeight,Ke=ke===void 0?"1em":ke,st=h.autoWrapText,St=st===void 0?!1:st,yt=h.lineClamp,Bt=yt===void 0?0:yt,Lt=h.textOverflow,pt=Lt===void 0?"clip":Lt,Tt=h.icons,Mt=h.trailingIcon,Rt=$.getRect(),Nt=$.col,Ht=$.row;if(!ue){ue=this.theme.color;var Ut=this._grid.isFrozenCell(Nt,Ht);Ut&&Ut.row&&(ue=this.theme.frozenRowsColor)}this.drawWithClip($,function(Wt){if(Oe=B(Oe,$.col,$.row,k._grid,Wt),R){var Ft=k.toBoxPixelArray(R,$,Oe),un=Rt.left+Ft[3],en=Rt.top+Ft[0],sn=Rt.width-Ft[1]-Ft[3],on=Rt.height-Ft[0]-Ft[2];Rt=new i.Rect(un,en,sn,on)}var zt=k.createCalculator($,Oe);Ke=zt.calcHeight(Ke),Ae(k._grid,Wt,H,Rt,Nt,Ht,{offset:Q,color:ue,textAlign:_e,textBaseline:Re,font:Oe,lineHeight:Ke,autoWrapText:St,lineClamp:Bt,textOverflow:pt,icons:Tt,trailingIcon:Mt})})}},{key:"fillText",value:function(H,$,k,h){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},P=R.color,Q=R.textAlign,ue=Q===void 0?"left":Q,me=R.textBaseline,_e=me===void 0?"top":me,Se=R.font,Re=h.col,Oe=h.row;if(!P){P=this.theme.color;var ke=this._grid.isFrozenCell(Re,Oe);ke&&ke.row&&(P=this.theme.frozenRowsColor)}var Ke=h.getContext();Ke.save();try{Se=B(Se,h.col,h.row,this._grid,Ke),Ke.fillStyle=p(P,Re,Oe,this._grid,Ke),Ke.textAlign=ue,Ke.textBaseline=_e,Ke.font=Se||Ke.font,Ke.fillText(H,$,k)}finally{Ke.restore()}}},{key:"fillCell",value:function(H){var $=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=k.fillColor,R=h===void 0?this.theme.defaultBgColor:h,P=H.getRect();this.drawWithClip(H,function(Q){var ue=H.col,me=H.row;Q.fillStyle=p(R,ue,me,$._grid,Q),Q.beginPath(),Q.rect(P.left,P.top,P.width,P.height),Q.fill()})}},{key:"fillCellWithState",value:function(H){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$.fillColor=this.getFillColorState(H,$),this.fillCell(H,$)}},{key:"fillRect",value:function(H,$){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=k.fillColor,R=h===void 0?this.theme.defaultBgColor:h,P=$.getContext();P.save();try{var Q=$.col,ue=$.row;P.fillStyle=p(R,Q,ue,this._grid,P),P.beginPath(),P.rect(H.left,H.top,H.width,H.height),P.fill()}finally{P.restore()}}},{key:"fillRectWithState",value:function(H,$){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};k.fillColor=this.getFillColorState($,k),this.fillRect(H,$,k)}},{key:"getFillColorState",value:function(H){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=H.getSelection(),h=H.col,R=H.row;if(!(0,o.cellEquals)(k.select,H)&&(0,o.cellInRange)(k.range,h,R))return this.theme.selectionBgColor;if($.fillColor)return $.fillColor;if((0,o.cellEquals)(k.select,H))return this.theme.highlightBgColor;var P=this._grid.isFrozenCell(h,R);return P&&P.row?this.theme.frozenRowsBgColor:this.theme.defaultBgColor}},{key:"border",value:function(H){var $=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=k.borderColor,R=h===void 0?this.theme.borderColor:h,P=k.lineWidth,Q=P===void 0?1:P,ue=H.getRect();this.drawBorderWithClip(H,function(me){var _e=H.col,Se=H.row,Re=p(R,_e,Se,$._grid,me);if(Q===1)me.lineWidth=1,Me(me,Re,ue.left-.5,ue.top-.5,ue.width,ue.height);else if(Q===2)me.lineWidth=2,Me(me,Re,ue.left,ue.top,ue.width-1,ue.height-1);else{me.lineWidth=Q;var Oe=Q/2-1;Me(me,Re,ue.left+Oe,ue.top+Oe,ue.width-Q+1,ue.height-Q+1)}})}},{key:"borderWithState",value:function(H){var $=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=H.getRect(),R=H.getSelection(),P=H.col,Q=H.row;if((0,o.cellEquals)(R.select,H))k.borderColor=this.theme.highlightBorderColor,k.lineWidth=2,this.border(H,k);else{var ue=this._grid.isFrozenCell(P,Q);ue!=null&&ue.row&&(k.borderColor=this.theme.frozenRowsBorderColor),k.lineWidth=1,this.border(H,k);var me=this._grid.selection.select;me.col+1===P&&me.row===Q?this.drawBorderWithClip(H,function(_e){var Se=u(p($.theme.highlightBorderColor,me.col,me.row,$._grid,_e));_e.lineWidth=1,_e.strokeStyle=Se[1]||_e.strokeStyle,_e.beginPath(),_e.moveTo(h.left-.5,h.top),_e.lineTo(h.left-.5,h.bottom),_e.stroke()}):me.col===P&&me.row+1===Q&&this.drawBorderWithClip(H,function(_e){var Se=u(p($.theme.highlightBorderColor,me.col,me.row,$._grid,_e));_e.lineWidth=1,_e.strokeStyle=Se[0]||_e.strokeStyle,_e.beginPath(),_e.moveTo(h.left,h.top-.5),_e.lineTo(h.right,h.top-.5),_e.stroke()})}}},{key:"buildCheckBoxInline",value:function(H,$){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=this,R=$.getContext(),P=w.measureCheckbox(R).width;return new a.InlineDrawer({draw:Q,width:P+3,height:P+1,color:void 0});function Q(ue){var me=ue.ctx,_e=ue.rect,Se=ue.offset,Re=ue.offsetLeft,Oe=ue.offsetRight,ke=ue.offsetTop,Ke=ue.offsetBottom,st=$.col,St=$.row;ye(me,_e,st,St,H,h,k,{offset:Se+(d-m),padding:{left:Re+(d-m),right:Oe,top:ke,bottom:Ke}})}}},{key:"checkbox",value:function(H,$){var k=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=h.animElapsedTime,P=h.offset,Q=P===void 0?d:P,ue=h.uncheckBgColor,me=h.checkBgColor,_e=h.borderColor,Se=h.textAlign,Re=h.textBaseline;this.drawWithClip($,function(Oe){var ke=$.col,Ke=$.row;ye(Oe,$.getRect(),ke,Ke,H,k,{animElapsedTime:R,uncheckBgColor:ue,checkBgColor:me,borderColor:_e,textAlign:Se,textBaseline:Re},{offset:Q,padding:{left:d-m}})})}},{key:"radioButton",value:function(H,$){var k=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=h.animElapsedTime,P=h.offset,Q=P===void 0?d:P,ue=h.checkColor,me=h.uncheckBorderColor,_e=h.checkBorderColor,Se=h.uncheckBgColor,Re=h.checkBgColor,Oe=h.textAlign,ke=h.textBaseline;this.drawWithClip($,function(Ke){var st=$.col,St=$.row;Pe(Ke,$.getRect(),st,St,H,k,{animElapsedTime:R,checkColor:ue,uncheckBorderColor:me,checkBorderColor:_e,uncheckBgColor:Se,checkBgColor:Re,textAlign:Oe,textBaseline:ke},{offset:Q,padding:{left:d-m}})})}},{key:"button",value:function(H,$){var k=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=h.bgColor,P=R===void 0?this.theme.button.bgColor:R,Q=h.padding,ue=h.offset,me=ue===void 0?m:ue,_e=h.color,Se=_e===void 0?this.theme.button.color:_e,Re=h.textAlign,Oe=Re===void 0?"center":Re,ke=h.textBaseline,Ke=ke===void 0?"middle":ke,st=h.shadow,St=h.font,yt=h.textOverflow,Bt=yt===void 0?"clip":yt,Lt=h.icons,pt=$.getRect();this.drawWithClip($,function(Tt){St=B(St,$.col,$.row,k._grid,Tt);var Mt=$.col,Rt=$.row,Nt=k.toBoxPixelArray(Q||pt.height/8,$,St),Ht=pt.left+Nt[3],Ut=pt.top+Nt[0],Wt=pt.width-Nt[1]-Nt[3],Ft=pt.height-Nt[0]-Nt[2];P=p(P,$.col,$.row,k._grid,Tt),w.drawButton(Tt,Ht,Ut,Wt,Ft,{bgColor:P,radius:pt.height/8,shadow:st}),$e(k._grid,Tt,H,new i.Rect(Ht,Ut,Wt,Ft),Mt,Rt,{offset:me,color:Se,textAlign:Oe,textBaseline:Ke,font:St,textOverflow:Bt,icons:Lt})})}},{key:"testFontLoad",value:function(H,$,k){return g(H,$,k,this._grid)}}]),V}();r.GridCanvasHelper=xe},"./ListGrid.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(V,S,H,$){$===void 0&&($=H),Object.defineProperty(V,$,{enumerable:!0,get:function(){return S[H]}})}:function(V,S,H,$){$===void 0&&($=H),V[$]=S[H]}),_=this&&this.__setModuleDefault||(Object.create?function(V,S){Object.defineProperty(V,"default",{enumerable:!0,value:S})}:function(V,S){V.default=S}),y=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var S={};if(V!=null)for(var H in V)H!=="default"&&Object.prototype.hasOwnProperty.call(V,H)&&I(S,V,H);return _(S,V),S};Object.defineProperty(r,"__esModule",{value:!0}),r.ListGrid=void 0;var E=y(s("./internal/icons.js")),w=y(s("./themes.js")),v=s("./data.js"),t=s("./list-grid/layout-map/index.js"),n=s("./columns/message/MessageHandler.js"),e=s("./internal/utils.js"),o=s("./columns/style.js"),a=s("./core/DrawGrid.js"),i=s("./GridCanvasHelper.js"),l=s("./header/style.js"),u=s("./list-grid/LG_EVENT_TYPE.js"),f=s("./internal/Rect.js"),m=s("./tooltip/TooltipHandler.js"),d=s("./internal/symbolManager.js"),C=s("./internal/paste-utils.js"),p=(0,d.getProtectedSymbol)();function B(V,S,H){return V[p].layoutMap.getCellRange(S,H)}function j(V,S,H,$){$.setRectFilter(function(k){for(var h=k.left,R=k.right,P=k.top,Q=k.bottom,ue=B(V,S,H),me=ue.start,_e=me.col,Se=me.row,Re=ue.end,Oe=Re.col,ke=Re.row,Ke=S-1;Ke>=_e;Ke--)h-=V.getColWidth(Ke);for(var st=S+1;st<=Oe;st++)R+=V.getColWidth(st);for(var St=H-1;St>=Se;St--)P-=V.getRowHeight(St);for(var yt=H+1;yt<=ke;yt++)Q+=V.getRowHeight(yt);return f.Rect.bounds(h,P,R,Q)})}function g(V,S,H){if(H<V[p].layoutMap.headerRowCount){var $=V[p].layoutMap.getHeader(S,H),k=$.caption;return typeof k=="function"?k():k}else{var h=V[p].layoutMap.getBody(S,H),R=h.field;return J(V,R,H)}}function L(V,S,H,$){if(H<V[p].layoutMap.headerRowCount)return!1;var k=V[p].layoutMap.getBody(S,H),h=k.field;if(h==null)return!1;var R=Pe(V,H);return V[p].dataSource.setField(R,h,$)}function G(V,S,H){if(H<V[p].layoutMap.headerRowCount)return null;var $=V[p].layoutMap.getBody(S,H),k=$.message;if(!k)return null;if(!Array.isArray(k))return J(V,k,H);for(var h=[],R=0;R<k.length;R++){var P=J(V,k[R],H);if((0,e.isPromise)(P))h.push(P);else if((0,n.hasMessage)(P))return P}return h.length?new Promise(function(Q,ue){h.forEach(function(me){me.then(function(_e){(0,n.hasMessage)(_e)&&Q(_e)},ue)})}):null}function M(V,S,H){if(Array.isArray(S))return S.map(function(h){return M(V,h,H)});if(!e.obj.isObject(S)||typeof S=="function")return J(V,S,H);var $={},k=S;return E.iconPropKeys.forEach(function(h){if(k[h]){var R=J(V,k[h],H);R!=null?$[h]=R:ae(V,k[h],H)||($[h]=k[h])}}),$}function K(V,S,H){if(H<V[p].layoutMap.headerRowCount){var $=V[p].layoutMap.getHeader(S,H),k=$.headerIcon;return k==null?null:k}else{var h=V[p].layoutMap.getBody(S,H),R=h.icon;return R==null?null:M(V,R,H)}}function J(V,S,H){if(S==null||H<V[p].layoutMap.headerRowCount)return null;var $=Pe(V,H);return V[p].dataSource.getField($,S)}function ae(V,S,H){if(S==null||H<V[p].layoutMap.headerRowCount)return!1;var $=Pe(V,H);return V[p].dataSource.hasField($,S)}function ce(V,S,H,$,k,h){var R=$.col,P=$.row,Q=V[p].gridCanvasHelper,ue=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=Oe.bgColor,Ke={fillColor:ke};Q.fillCellWithState(H,Ke)},me=function(){if(H.col===V.frozenColCount-1){var Oe=H.getRect();Q.drawWithClip(H,function(ke){var Ke=H.row>=V.frozenRowCount?Q.theme.borderColor:Q.theme.frozenRowsBorderColor,st=Q.toBoxArray(Q.getColor(Ke,H.col,H.row,ke));st[1]&&(ke.lineWidth=1,ke.strokeStyle=st[1],ke.beginPath(),ke.moveTo(Oe.right-2.5,Oe.top),ke.lineTo(Oe.right-2.5,Oe.bottom),ke.stroke())})}re(V,Q,H)},_e=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=Oe.bgColor;ue({bgColor:ke}),me()},Se={getRecord:function(){return V.getRowRecord(P)},getIcon:function(){return K(V,R,P)},getMessage:function(){return G(V,R,P)},messageHandler:V[p].messageHandler,style:k,drawCellBase:_e,drawCellBg:ue,drawCellBorder:me};return h(S,Se,H,V)}function re(V,S,H){var $=H.col,k=H.row,h=V.selection.select,R=V[p].layoutMap,P=H.getRect(),Q={},ue=R.getRecordIndexByRow(h.row),me=R.getCellId(h.col,h.row);function _e(Re,Oe){return Re===h.col&&Oe===h.row?!0:me!=null&&R.getCellId(Re,Oe)===me&&R.getRecordIndexByRow(Oe)===ue}if(_e($,k))Q.borderColor=S.theme.highlightBorderColor,Q.lineWidth=2,S.border(H,Q);else{Q.lineWidth=1;var Se=V.isFrozenCell($,k);Se!=null&&Se.row&&(Q.borderColor=S.theme.frozenRowsBorderColor),S.border(H,Q),$>0&&_e($-1,k)?S.drawBorderWithClip(H,function(Re){var Oe=S.toBoxArray(S.getColor(S.theme.highlightBorderColor,h.col,h.row,Re));Oe[1]&&(Re.lineWidth=1,Re.strokeStyle=Oe[1],Re.beginPath(),Re.moveTo(P.left-.5,P.top),Re.lineTo(P.left-.5,P.bottom),Re.stroke())}):k>0&&_e($,k-1)&&S.drawBorderWithClip(H,function(Re){var Oe=S.toBoxArray(S.getColor(S.theme.highlightBorderColor,h.col,h.row,Re));Oe[0]&&(Re.lineWidth=1,Re.strokeStyle=Oe[0],Re.beginPath(),Re.moveTo(P.left,P.top-.5),Re.lineTo(P.right,P.top-.5),Re.stroke())})}}function Ee(V){var S,H=V[p];H.headerEvents&&H.headerEvents.forEach(function(Re){return V.unlisten(Re)});var $=V[p].headerEvents=[];$.forEach(function(Re){return V.unlisten(Re)});var k;H.layout&&(!Array.isArray(H.layout)||H.layout.length>0)?k=H.layoutMap=new t.MultiLayoutMap(H.layout):k=H.layoutMap=new t.SimpleHeaderLayoutMap((S=H.header)!==null&&S!==void 0?S:[]),k.headerObjects.forEach(function(Re){var Oe=Re.headerType.bindGridEvent(V,Re.id);if($.push.apply($,ze(Oe)),Re.style&&Re.style instanceof l.BaseStyle){var ke=Re.style.listen(l.BaseStyle.EVENT_TYPE.CHANGE_STYLE,function(){V.invalidate()});$.push(ke)}if(Re.action){var Ke=Re.action.bindGridEvent(V,Re.id);$.push.apply($,ze(Ke))}}),k.columnObjects.forEach(function(Re){if(Re.action){var Oe=Re.action.bindGridEvent(V,Re.id);$.push.apply($,ze(Oe))}if(Re.columnType){var ke=Re.columnType.bindGridEvent(V,Re.id);$.push.apply($,ze(ke))}if(Re.style&&Re.style instanceof o.BaseStyle){var Ke=Re.style.listen(o.BaseStyle.EVENT_TYPE.CHANGE_STYLE,function(){V.invalidate()});$.push(Ke)}});for(var h=0;h<k.columnWidths.length;h++){var R=k.columnWidths[h],P=R.width,Q=R.minWidth,ue=R.maxWidth;P&&(P>0||typeof P=="string")&&V.setColWidth(h,P),Q&&(Q>0||typeof Q=="string")&&V.setMinColWidth(h,Q),ue&&(ue>0||typeof ue=="string")&&V.setMaxColWidth(h,ue)}for(var me=V[p].headerRowHeight,_e=0;_e<k.headerRowCount;_e++){var Se=Array.isArray(me)?me[_e]:me;Se&&Se>0&&V.setRowHeight(_e,Se)}V.colCount=k.colCount,$e(V),V.frozenRowCount=k.headerRowCount}function $e(V){var S=V[p].layoutMap;V.rowCount=V[p].dataSource.length*S.bodyRowCount+S.headerRowCount}function Ae(V,S){var H=V[p].dataSourceEventIds;H&&H.forEach(function($){return V[p].handler.off($)}),S(V),V[p].dataSourceEventIds=[V[p].handler.on(V[p].dataSource,v.DataSource.EVENT_TYPE.UPDATED_LENGTH,function(){$e(V),V.invalidate()}),V[p].handler.on(V[p].dataSource,v.DataSource.EVENT_TYPE.UPDATED_ORDER,function(){V.invalidate()})]}function Je(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Ae(V,function(){V[p].records=S;var H=V[p].dataSource=v.CachedDataSource.ofArray(S);V.addDisposable(H)})}function ye(V,S){Ae(V,function(){if(S)if(S instanceof v.DataSource)V[p].dataSource=S;else{var H=V[p].dataSource=new v.CachedDataSource(S);V.addDisposable(H)}else V[p].dataSource=v.DataSource.EMPTY;V[p].records=null})}function Pe(V,S){var H=V[p].layoutMap;return H.getRecordIndexByRow(S)}function ve(V){for(var S=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},$,k=this[p].layoutMap,h=this.selection.range,R=this.getCellRange(h.start.col,h.start.row),P=R.start,Q=this.getCellRange(h.end.col,h.end.row),ue=Q.end,me=(0,C.parsePasteRangeBoxValues)(V,{trimOnPaste:this.trimOnPaste}),_e=Math.min(Math.max(ue.row-P.row+1,me.rowCount),this.rowCount-P.row),Se=Math.min(Math.max(ue.col-P.col+1,me.colCount),this.colCount-P.col),Re=!1,Oe=[],ke=0;ke<k.bodyRowCount;ke++){var Ke=[];Oe.push(Ke);for(var st=0;st<Se;st++){var St=k.getBody(P.col+st,ke+k.headerRowCount);Ke[st]=St,!Re&&(($=St.action)===null||$===void 0?void 0:$.editable)&&(Re=!0)}}if(!!Re){for(var yt=k.getRecordStartRowByRecordIndex(k.getRecordIndexByRow(P.row)),Bt=P.row-yt,Lt=[],pt=function(zt,jt,Ot,vt){Lt.push({col:zt.col,row:zt.row,record:jt,define:Ot,pasteValue:vt})},Tt=null,Mt=function(){Tt&&clearTimeout(Tt),Tt=setTimeout(function(){Lt.length>0&&(S.fireListeners(u.LG_EVENT_TYPE.REJECTED_PASTE_VALUES,{detail:Lt}),Lt=[])},100)},Rt=pt,Nt={},Ht=Bt,Ut=0,Wt=0;Wt<_e;Wt++){for(var Ft=0,un=function(zt){var jt=Oe[Ht][zt],Ot=jt.action,vt=jt.id,nn=jt.define;if(!Nt[vt]&&(Ot==null?void 0:Ot.editable)){Nt[vt]=!0;var tn=P.col+zt,xt=P.row+Wt,hn=me.getCellValue(Ft,Ut);(0,e.then)(S.getRowRecord(xt),function(vn){(0,e.then)(g(S,tn,xt),function(Yt){H({grid:S,record:vn,col:tn,row:xt,value:hn,oldValue:Yt})&&Ot.onPasteCellRangeBox(S,{col:tn,row:xt},hn,{reject:function(){Rt({col:tn,row:xt},vn,nn,hn)}})})})}Ft++,Ft>=me.colCount&&(Ft=0)},en=0;en<Se;en++)un(en);Ht++,Ht>=k.bodyRowCount&&(Ht=0,Nt={}),Ut++,Ut>=me.rowCount&&(Ut=0)}var sn={col:P.col+Se-1,row:P.row+_e-1};this.selection.range={start:P,end:sn},this.invalidateCellRange(this.selection.range),Mt(),Rt=function(zt,jt,Ot,vt){pt(zt,jt,Ot,vt),Mt()}}}function Me(){for(var V=this,S,H=this[p].layoutMap,$=this.selection.range,k=this.getCellRange($.start.col,$.start.row),h=k.start,R=this.getCellRange($.end.col,$.end.row),P=R.end,Q=Math.min(P.row-h.row+1,this.rowCount-h.row),ue=Math.min(P.col-h.col+1,this.colCount-h.col),me=!1,_e=[],Se=0;Se<H.bodyRowCount;Se++){var Re=[];_e.push(Re);for(var Oe=0;Oe<ue;Oe++){var ke=H.getBody(h.col+Oe,Se+H.headerRowCount);Re[Oe]=ke,!me&&((S=ke.action)===null||S===void 0?void 0:S.editable)&&(me=!0)}}if(!!me){for(var Ke=H.getRecordStartRowByRecordIndex(H.getRecordIndexByRow(h.row)),st=h.row-Ke,St={},yt=st,Bt=0;Bt<Q;Bt++){for(var Lt=function(Mt){var Rt=_e[yt][Mt],Nt=Rt.action,Ht=Rt.id;if(!St[Ht]&&(Nt==null?void 0:Nt.editable)){St[Ht]=!0;var Ut=h.col+Mt,Wt=h.row+Bt;(0,e.then)(V.getRowRecord(Wt),function(Ft){(0,e.then)(g(V,Ut,Wt),function(un){Nt.onDeleteCellRangeBox(V,{col:Ut,row:Wt})})})}},pt=0;pt<ue;pt++)Lt(pt);yt++,yt>=H.bodyRowCount&&(yt=0,St={})}this.invalidateCellRange($)}}var xe=function(V){Ce(H,V);var S=Be(H);function H(){var $,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,H);var h;$=S.call(this,(0,e.omit)(k,["colCount","rowCount","frozenRowCount"])),$.disabled=!1,$.readOnly=!1;var R=$[p];return R.header=k.header||[],R.layout=k.layout||[],R.headerRowHeight=k.headerRowHeight||[],k.dataSource?ye(He($),k.dataSource):Je(He($),k.records),R.allowRangePaste=(h=k.allowRangePaste)!==null&&h!==void 0?h:!1,Ee(He($)),R.sortState={col:-1,row:-1,order:void 0},R.gridCanvasHelper=new i.GridCanvasHelper(He($)),R.theme=w.of(k.theme),R.messageHandler=new n.MessageHandler(He($),function(P,Q){return G(He($),P,Q)}),R.tooltipHandler=new m.TooltipHandler(He($)),$.invalidate(),R.handler.on(be,"resize",function(){$.updateSize(),$.updateScroll(),$.invalidate()}),$}return Ie(H,[{key:"dispose",value:function(){var k=this[p];k.messageHandler.dispose(),k.tooltipHandler.dispose(),ie(Ue(H.prototype),"dispose",this).call(this)}},{key:"header",get:function(){return this[p].header},set:function(k){this[p].header=k,Ee(this)}},{key:"layout",get:function(){return this[p].layout},set:function(k){this[p].layout=k,Ee(this)}},{key:"recordRowCount",get:function(){return this[p].layoutMap.bodyRowCount}},{key:"records",get:function(){return this[p].records||null},set:function(k){k!=null&&(Je(this,k),$e(this),this.invalidate())}},{key:"dataSource",get:function(){return this[p].dataSource},set:function(k){ye(this,k),$e(this),this.invalidate()}},{key:"theme",get:function(){return this[p].theme},set:function(k){this[p].theme=w.of(k),this.invalidate()}},{key:"allowRangePaste",get:function(){return this[p].allowRangePaste},set:function(k){this[p].allowRangePaste=k}},{key:"font",get:function(){return ie(Ue(H.prototype),"font",this)||this[p].gridCanvasHelper.theme.font},set:function(k){X(Ue(H.prototype),"font",k,this,!0)}},{key:"underlayBackgroundColor",get:function(){return ie(Ue(H.prototype),"underlayBackgroundColor",this)||this[p].gridCanvasHelper.theme.underlayBackgroundColor},set:function(k){X(Ue(H.prototype),"underlayBackgroundColor",k,this,!0)}},{key:"sortState",get:function(){return this[p].sortState},set:function(k){var h=this.sortState,R;h.col>=0&&h.row>=0&&(R=this.getHeaderField(h.col,h.row));var P=this[p].sortState=k!=null?k:{col:-1,row:-1,order:void 0},Q;P.col>=0&&P.row>=0&&(Q=this.getHeaderField(P.col,P.row)),R!=null&&R!==Q&&this.setHeaderValue(h.col,h.row,void 0),Q!=null&&this.setHeaderValue(P.col,P.row,P.order)}},{key:"headerValues",get:function(){return this[p].headerValues||(this[p].headerValues=new Map)},set:function(k){this[p].headerValues=k||new Map}},{key:"getField",value:function(k,h){return this[p].layoutMap.getBody(k,h!=null?h:this[p].layoutMap.headerRowCount).field}},{key:"getColumnDefine",value:function(k,h){return this[p].layoutMap.getBody(k,h!=null?h:this[p].layoutMap.headerRowCount).define}},{key:"getColumnType",value:function(k,h){return this[p].layoutMap.getBody(k,h).columnType}},{key:"getHeaderField",value:function(k,h){var R=this[p].layoutMap.getHeader(k,h);return R.field}},{key:"getHeaderDefine",value:function(k,h){var R=this[p].layoutMap.getHeader(k,h);return R.define}},{key:"getRowRecord",value:function(k){if(!(k<this[p].layoutMap.headerRowCount))return this[p].dataSource.get(Pe(this,k))}},{key:"getRecordIndexByRow",value:function(k){return Pe(this,k)}},{key:"getRecordStartRowByRecordIndex",value:function(k){return this[p].layoutMap.getRecordStartRowByRecordIndex(k)}},{key:"getColumnIndexByField",value:function(k){var h,R=this.getCellRangeByField(k,0);return(h=R==null?void 0:R.start.col)!==null&&h!==void 0?h:null}},{key:"getCellRangeByField",value:function(k,h){var R=this[p].layoutMap,P=R.columnObjects.find(function(me){return me.field===k});if(P){var Q=R.getBodyLayoutRangeById(P.id),ue=R.getRecordStartRowByRecordIndex(h);return{start:{col:Q.start.col,row:ue+Q.start.row},end:{col:Q.end.col,row:ue+Q.end.row}}}return null}},{key:"focusGridCell",value:function(k,h){var R,P=this.selection.range,Q=P.start,ue=Q.col,me=Q.row,_e=P.end,Se=_e.col,Re=_e.row,Oe=(R=this.getCellRangeByField(k,h))===null||R===void 0?void 0:R.start;Oe!=null&&(this.focusCell(Oe.col,Oe.row),this.selection.select=Oe,this.invalidateGridRect(ue,me,Se,Re),this.invalidateCell(Oe.col,Oe.row))}},{key:"makeVisibleGridCell",value:function(k,h){var R,P,Q,ue=(R=this.getCellRangeByField(k,h))===null||R===void 0?void 0:R.start;this.makeVisibleCell((P=ue==null?void 0:ue.col)!==null&&P!==void 0?P:0,(Q=ue==null?void 0:ue.row)!==null&&Q!==void 0?Q:this[p].layoutMap.headerRowCount)}},{key:"getGridCanvasHelper",value:function(){return this[p].gridCanvasHelper}},{key:"getCellRange",value:function(k,h){return B(this,k,h)}},{key:"getHeaderCellRange",value:function(k,h){return this.getCellRange(k,h)}},{key:"getCopyCellValue",value:function(k,h,R){var P=B(this,k,h),Q=R?Math.max(R.start.col,P.start.col):P.start.col,ue=R?Math.max(R.start.row,P.start.row):P.start.row;if(Q!==k||ue!==h)return"";var me=g(this,k,h);if(h<this[p].layoutMap.headerRowCount){var _e=this[p].layoutMap.getHeader(k,h);return _e.headerType.getCopyCellValue(me,this,{col:k,row:h})}var Se=this[p].layoutMap.getBody(k,h);return Se.columnType.getCopyCellValue(me,this,{col:k,row:h})}},{key:"onDrawCell",value:function(k,h,R){var P=this[p].layoutMap,Q,ue;if(h<P.headerRowCount){var me=P.getHeader(k,h);Q=me.headerType.onDrawCell,ue=me.style,j(this,k,h,R)}else{var _e=P.getBody(k,h);Q=_e.columnType.onDrawCell,ue=_e.style,j(this,k,h,R)}var Se=g(this,k,h);if(!(this.rowCount<=h))return ce(this,Se,R,{col:k,row:h},ue,Q)}},{key:"doGetCellValue",value:function(k,h,R){if(h<this[p].layoutMap.headerRowCount)return!1;var P=g(this,k,h);return(0,e.isPromise)(P)?!1:(R(P),!0)}},{key:"doChangeValue",value:function(k,h,R){var P=this;if(h<this[p].layoutMap.headerRowCount)return!1;var Q=this.getRowRecord(h);if((0,e.isPromise)(Q))return!1;var ue=g(this,k,h);if((0,e.isPromise)(ue))return!1;var me=R(ue);return me===void 0?!1:(0,e.then)(L(this,k,h,me),function(_e){if(_e){var Se=P[p].layoutMap.getBody(k,h),Re=Se.field;P.fireListeners(u.LG_EVENT_TYPE.CHANGED_VALUE,{col:k,row:h,record:Q,field:Re,value:me,oldValue:ue})}return _e})}},{key:"doSetPasteValue",value:function(k,h){ve.call(this,k,h)}},{key:"getHeaderValue",value:function(k,h){var R=this.getHeaderField(k,h);return this.headerValues.get(R)}},{key:"setHeaderValue",value:function(k,h,R){var P=this.getHeaderField(k,h),Q=this.headerValues.get(P);this.headerValues.set(P,R),this.fireListeners(u.LG_EVENT_TYPE.CHANGED_HEADER_VALUE,{col:k,row:h,field:P,value:R,oldValue:Q})}},{key:"getLayoutCellId",value:function(k,h){return this[p].layoutMap.getCellId(k,h)}},{key:"bindEventsInternal",value:function(){var k=this,h=this;h.listen(u.LG_EVENT_TYPE.SELECTED_CELL,function(R){var P=B(k,R.col,R.row),Q=P.start,ue=Q.col,me=Q.row,_e=P.end,Se=_e.col,Re=_e.row;(ue!==Se||me!==Re)&&k.invalidateCellRange(P)}),h.listen(u.LG_EVENT_TYPE.PASTE_CELL,function(R){if(!!k[p].allowRangePaste){var P=k.selection.range,Q=P.start,ue=P.end;if(!(!R.multi&&(0,e.cellEquals)(Q,ue))){var me=k[p].layoutMap;Q.row<me.headerRowCount||(e.event.cancel(R.event),ve.call(k,R.normalizeValue))}}}),h.listen(u.LG_EVENT_TYPE.DELETE_CELL,function(R){var P=k.selection.range.start,Q=k[p].layoutMap;P.row<Q.headerRowCount||(e.event.cancel(R.event),Me.call(k))})}},{key:"getMoveLeftColByKeyDownInternal",value:function(k){var h=k.col,R=k.row,P=B(this,h,R),Q=P.start.col;return h=Q,ie(Ue(H.prototype),"getMoveLeftColByKeyDownInternal",this).call(this,{col:h,row:R})}},{key:"getMoveRightColByKeyDownInternal",value:function(k){var h=k.col,R=k.row,P=B(this,h,R),Q=P.end.col;return h=Q,ie(Ue(H.prototype),"getMoveRightColByKeyDownInternal",this).call(this,{col:h,row:R})}},{key:"getMoveUpRowByKeyDownInternal",value:function(k){var h=k.col,R=k.row,P=B(this,h,R),Q=P.start.row;return R=Q,ie(Ue(H.prototype),"getMoveUpRowByKeyDownInternal",this).call(this,{col:h,row:R})}},{key:"getMoveDownRowByKeyDownInternal",value:function(k){var h=k.col,R=k.row,P=B(this,h,R),Q=P.end.row;return R=Q,ie(Ue(H.prototype),"getMoveDownRowByKeyDownInternal",this).call(this,{col:h,row:R})}},{key:"getOffsetInvalidateCells",value:function(){return 1}},{key:"getCopyRangeInternal",value:function(k){var h=this.getCellRange(k.start.col,k.start.row),R=h.start,P=this.getCellRange(k.end.col,k.end.row),Q=P.end;return{start:R,end:Q}}},{key:"fireListeners",value:function(k){for(var h,R=arguments.length,P=new Array(R>1?R-1:0),Q=1;Q<R;Q++)P[Q-1]=arguments[Q];return(h=ie(Ue(H.prototype),"fireListeners",this)).call.apply(h,[this,k].concat(P))}}],[{key:"EVENT_TYPE",get:function(){return u.LG_EVENT_TYPE}}]),H}(a.DrawGrid);r.ListGrid=xe},"./columns.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(t,n,e,o){o===void 0&&(o=e),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,o){o===void 0&&(o=e),t[o]=n[e]}),_=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),y=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&I(n,t,e);return _(n,t),n};Object.defineProperty(r,"__esModule",{value:!0}),r.style=r.type=r.action=void 0;var E=y(s("./columns/action.js"));r.action=E;var w=y(s("./columns/style.js"));r.style=w;var v=y(s("./columns/type.js"));r.type=v},"./columns/action.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.of=r.InlineMenuEditor=r.InlineInputEditor=r.SmallDialogInputEditor=r.ButtonAction=r.RadioEditor=r.CheckEditor=r.Action=r.Editor=r.BaseAction=r.ACTIONS=void 0;var I=s("./columns/action/Action.js");Object.defineProperty(r,"Action",{enumerable:!0,get:function(){return I.Action}});var _=s("./columns/action/BaseAction.js");Object.defineProperty(r,"BaseAction",{enumerable:!0,get:function(){return _.BaseAction}});var y=s("./columns/action/ButtonAction.js");Object.defineProperty(r,"ButtonAction",{enumerable:!0,get:function(){return y.ButtonAction}});var E=s("./columns/action/CheckEditor.js");Object.defineProperty(r,"CheckEditor",{enumerable:!0,get:function(){return E.CheckEditor}});var w=s("./columns/action/Editor.js");Object.defineProperty(r,"Editor",{enumerable:!0,get:function(){return w.Editor}});var v=s("./columns/action/InlineInputEditor.js");Object.defineProperty(r,"InlineInputEditor",{enumerable:!0,get:function(){return v.InlineInputEditor}});var t=s("./columns/action/InlineMenuEditor.js");Object.defineProperty(r,"InlineMenuEditor",{enumerable:!0,get:function(){return t.InlineMenuEditor}});var n=s("./columns/action/RadioEditor.js");Object.defineProperty(r,"RadioEditor",{enumerable:!0,get:function(){return n.RadioEditor}});var e=s("./columns/action/SmallDialogInputEditor.js");Object.defineProperty(r,"SmallDialogInputEditor",{enumerable:!0,get:function(){return e.SmallDialogInputEditor}});var o=function(u){Ce(m,u);var f=Be(m);function m(){return fe(this,m),f.apply(this,arguments)}return Ie(m,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),m}(E.CheckEditor),a=function(u){Ce(m,u);var f=Be(m);function m(){return fe(this,m),f.apply(this,arguments)}return Ie(m,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),m}(n.RadioEditor),i=function(u){Ce(m,u);var f=Be(m);function m(){return fe(this,m),f.apply(this,arguments)}return Ie(m,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),m}(e.SmallDialogInputEditor);r.ACTIONS={CHECK:new o,INPUT:new i,RADIO:new a};function l(u){if(u)if(typeof u=="string"){var f=u.toUpperCase();return r.ACTIONS[f]||l(null)}else return u;else return}r.of=l},"./columns/action/Action.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Action=void 0;var I=s("./columns/action/actionBind.js"),_=s("./columns/action/BaseAction.js"),y=s("./internal/utils.js"),E=s("./columns/action/action-utils.js"),w=function(v){Ce(n,v);var t=Be(n);function n(){var e,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,n),e=t.call(this,o),e._action=o.action||function(){},e}return Ie(n,[{key:"editable",get:function(){return!1}},{key:"action",get:function(){return this._action},set:function(o){this._action=o}},{key:"clone",value:function(){return new n(this)}},{key:"getState",value:function(o){return{}}},{key:"bindGridEvent",value:function(o,a){var i=this,l=this.getState(o),u=function(m){if(!(0,E.isDisabledRecord)(i.disabled,o,m.row)){var d=o.getRowRecord(m.row);i._action(d,(0,y.extend)(m,{grid:o}))}};return[].concat(ze((0,I.bindCellClickAction)(o,a,{action:u,mouseOver:function(m){if((0,E.isDisabledRecord)(i.disabled,o,m.row))return!1;l.mouseActiveCell={col:m.col,row:m.row};var d=o.getCellRange(m.col,m.row);return o.invalidateCellRange(d),!0},mouseOut:function(m){delete l.mouseActiveCell;var d=o.getCellRange(m.col,m.row);o.invalidateCellRange(d)}})),ze((0,I.bindCellKeyAction)(o,a,{action:u})))}},{key:"onPasteCellRangeBox",value:function(){}},{key:"onDeleteCellRangeBox",value:function(){}}]),n}(_.BaseAction);r.Action=w},"./columns/action/BaseAction.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseAction=void 0;var I=function(){function _(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,_),this._disabled=y.disabled||!1}return Ie(_,[{key:"disabled",get:function(){return this._disabled},set:function(E){this._disabled=E,this.onChangeDisabledInternal()}},{key:"onChangeDisabledInternal",value:function(){}}]),_}();r.BaseAction=I},"./columns/action/BaseInputEditor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseInputEditor=void 0;var I=s("./internal/utils.js"),_=s("./columns/action/action-utils.js"),y=s("./core/DG_EVENT_TYPE.js"),E=s("./columns/action/Editor.js"),w=13,v=113,t=function(n){Ce(o,n);var e=Be(o);function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,o),e.call(this,a)}return Ie(o,[{key:"bindGridEvent",value:function(i,l){var u=this,f=function(p){return(0,_.isReadOnlyRecord)(u.readOnly,i,p.row)||(0,_.isDisabledRecord)(u.disabled,i,p.row)?!1:(u.onOpenCellInternal(i,p),!0)},m=function(p,B){(0,_.isReadOnlyRecord)(u.readOnly,i,p.row)||(0,_.isDisabledRecord)(u.disabled,i,p.row)||u.onInputCellInternal(i,p,B)};function d(C,p){return i.getLayoutCellId(C,p)===l}return[i.listen(y.DG_EVENT_TYPE.INPUT_CELL,function(C){!d(C.col,C.row)||m({col:C.col,row:C.row},C.value)}),i.listen(y.DG_EVENT_TYPE.PASTE_CELL,function(C){if(!C.multi){var p=i.selection.range;!(0,I.cellEquals)(p.start,p.end)||!d(C.col,C.row)||(I.event.cancel(C.event),m({col:C.col,row:C.row},C.normalizeValue))}}),i.listen(y.DG_EVENT_TYPE.DBLCLICK_CELL,function(C){!d(C.col,C.row)||f({col:C.col,row:C.row})}),i.listen(y.DG_EVENT_TYPE.DBLTAP_CELL,function(C){!d(C.col,C.row)||(f({col:C.col,row:C.row}),I.event.cancel(C.event))}),i.listen(y.DG_EVENT_TYPE.KEYDOWN,function(C){if(!(C.keyCode!==v&&C.keyCode!==w)){var p=i.selection.select;!d(p.col,p.row)||f({col:p.col,row:p.row})&&C.stopCellMoving()}}),i.listen(y.DG_EVENT_TYPE.SELECTED_CELL,function(C){u.onChangeSelectCellInternal(i,{col:C.col,row:C.row},C.selected)}),i.listen(y.DG_EVENT_TYPE.SCROLL,function(){u.onGridScrollInternal(i)}),i.listen(y.DG_EVENT_TYPE.EDITABLEINPUT_CELL,function(C){return!(!d(C.col,C.row)||(0,_.isReadOnlyRecord)(u.readOnly,i,C.row)||(0,_.isDisabledRecord)(u.disabled,i,C.row))}),i.listen(y.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,function(C){if(!!d(C.col,C.row)&&!((0,_.isReadOnlyRecord)(u.readOnly,i,C.row)||(0,_.isDisabledRecord)(u.disabled,i,C.row))){var p=i.getCellRange(C.col,C.row);if(p.start.col!==p.end.col||p.start.row!==p.end.row){var B=C.input,j=i.getCellRect(C.col,C.row),g=i.getCellRangeRect(p);B.style.top="".concat((parseFloat(B.style.top)+(g.top-j.top)).toFixed(),"px"),B.style.left="".concat((parseFloat(B.style.left)+(g.left-j.left)).toFixed(),"px"),B.style.width="".concat(g.width.toFixed(),"px"),B.style.height="".concat(g.height.toFixed(),"px")}u.onSetInputAttrsInternal(i,{col:C.col,row:C.row},C.input)}})]}},{key:"onPasteCellRangeBox",value:function(i,l,u){var f=this;(0,_.isReadOnlyRecord)(this.readOnly,i,l.row)||(0,_.isDisabledRecord)(this.disabled,i,l.row)||i.doChangeValue(l.col,l.row,function(){return f.isSupportMultilineValue()?u:u.replace(/\r?\n/g," ")})}},{key:"onDeleteCellRangeBox",value:function(i,l){(0,_.isReadOnlyRecord)(this.readOnly,i,l.row)||(0,_.isDisabledRecord)(this.disabled,i,l.row)||i.doChangeValue(l.col,l.row,function(){return""})}},{key:"isSupportMultilineValue",value:function(){return!1}}]),o}(E.Editor);r.BaseInputEditor=t},"./columns/action/ButtonAction.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ButtonAction=void 0;var I=s("./columns/action/Action.js"),_=s("./internal/symbolManager.js"),y=s("./internal/utils.js"),E=(0,_.getButtonColumnStateId)(),w=function(v){Ce(n,v);var t=Be(n);function n(){return fe(this,n),t.apply(this,arguments)}return Ie(n,[{key:"getState",value:function(o){var a=o[E];return a||(a={},y.obj.setReadonly(o,E,a)),a}}]),n}(I.Action);r.ButtonAction=w},"./columns/action/CheckEditor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckEditor=void 0;var I=s("./columns/action/actionBind.js"),_=s("./internal/utils.js"),y=s("./columns/action/action-utils.js"),E=s("./core/DG_EVENT_TYPE.js"),w=s("./columns/action/Editor.js"),v=s("./internal/animate.js"),t=s("./internal/symbolManager.js"),n=(0,t.getCheckColumnStateId)(),e=function(a){Ce(l,a);var i=Be(l);function l(){return fe(this,l),i.apply(this,arguments)}return Ie(l,[{key:"clone",value:function(){return new l(this)}},{key:"bindGridEvent",value:function(f,m){var d=this,C=f[n];C||(C={block:{},elapsed:{}},_.obj.setReadonly(f,n,C));var p=C,B=function(L){var G=f.getCellRange(L.col,L.row),M="".concat(G.start.col,":").concat(G.start.row);if(!((0,y.isReadOnlyRecord)(d.readOnly,f,L.row)||(0,y.isDisabledRecord)(d.disabled,f,L.row)||p.block[M])){var K=f.doChangeValue(L.col,L.row,y.toggleValue);if(K){var J=function(){(0,v.animate)(200,function(ce){ce===1?delete p.elapsed[M]:p.elapsed[M]=ce,f.invalidateCellRange(G)})};(0,_.isPromise)(K)?(p.block[M]=!0,K.then(function(){delete p.block[M],J()})):J()}}};function j(g,L){return f.getLayoutCellId(g,L)===m}return[].concat(ze((0,I.bindCellClickAction)(f,m,{action:B,mouseOver:function(L){if((0,y.isDisabledRecord)(d.disabled,f,L.row))return!1;p.mouseActiveCell={col:L.col,row:L.row};var G=f.getCellRange(L.col,L.row);return f.invalidateCellRange(G),!0},mouseOut:function(L){delete p.mouseActiveCell;var G=f.getCellRange(L.col,L.row);f.invalidateCellRange(G)}})),ze((0,I.bindCellKeyAction)(f,m,{action:function(L){for(var G=f.selection.range,M=f.selection.select.col,K=G.start.row;K<=G.end.row;K++)!j(M,K)||B({col:M,row:K})}})),[f.listen(E.DG_EVENT_TYPE.PASTE_CELL,function(g){if(!g.multi){var L=f.selection.range;if(!!(0,_.cellEquals)(L.start,L.end)&&!!j(g.col,g.row)){_.event.cancel(g.event);var G=g.normalizeValue.trim();f.doGetCellValue(g.col,g.row,function(M){var K=(0,y.toggleValue)(M);if("".concat(K).trim()===G)B({col:g.col,row:g.row});else if(o(M,G)){var J=f.getRowRecord(g.row);(0,_.isPromise)(J)||f.fireListeners("rejected_paste_values",{detail:[{col:g.col,row:g.row,record:J,define:f.getColumnDefine(g.col,g.row),pasteValue:G}]})}})}}})])}},{key:"onPasteCellRangeBox",value:function(f,m,d,C){if(!((0,y.isReadOnlyRecord)(this.readOnly,f,m.row)||(0,y.isDisabledRecord)(this.disabled,f,m.row))){var p=d.trim();f.doGetCellValue(m.col,m.row,function(B){var j=(0,y.toggleValue)(B);"".concat(j).trim()===p?f.doChangeValue(m.col,m.row,y.toggleValue):o(B,p)&&C.reject()})}}},{key:"onDeleteCellRangeBox",value:function(){}}]),l}(w.Editor);r.CheckEditor=e;function o(a,i){if((a!=null?"".concat(a).trim():"")===i)return!1;var l=(0,y.toggleValue)(a);return"".concat(l).trim()!==i&&"".concat((0,y.toggleValue)(l)).trim()!==i}},"./columns/action/Editor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Editor=void 0;var I=s("./columns/action/BaseAction.js"),_=function(y){Ce(w,y);var E=Be(w);function w(){var v,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,w),v=E.call(this,t),v._readOnly=t.readOnly||!1,v}return Ie(w,[{key:"editable",get:function(){return!0}},{key:"readOnly",get:function(){return this._readOnly},set:function(t){this._readOnly=t,this.onChangeReadOnlyInternal()}},{key:"onChangeReadOnlyInternal",value:function(){}}]),w}(I.BaseAction);r.Editor=_},"./columns/action/InlineInputEditor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineInputEditor=void 0;var I=s("./columns/action/BaseInputEditor.js"),_=s("./columns/action/internal/InlineInputElement.js"),y=s("./internal/symbolManager.js"),E=s("./internal/utils.js"),w=(0,y.getInlineInputEditorStateId)();function v(l){var u=l[w];return u||(u={},E.obj.setReadonly(l,w,u)),u}var t=null,n=0;function e(l,u,f,m){var d=v(l);t||(t=new _.InlineInputElement),d.element||(d.element=t,n++,l.addDisposable({dispose:function(){n--,n||(t==null||t.dispose(),t=null,d.element=null)}})),t.attach(l,f,u.col,u.row,m)}function o(l){t&&t.detach(l)}function a(l){t&&t.doChangeValue()}var i=function(l){Ce(f,l);var u=Be(f);function f(){var m,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,f),m=u.call(this,d),m._classList=d.classList,m._type=d.type,m}return Ie(f,[{key:"classList",get:function(){if(!!this._classList)return Array.isArray(this._classList)?this._classList:[this._classList]},set:function(d){this._classList=d}},{key:"type",get:function(){return this._type},set:function(d){this._type=d}},{key:"clone",value:function(){return new f(this)}},{key:"onInputCellInternal",value:function(d,C,p){e(d,C,this,p)}},{key:"onOpenCellInternal",value:function(d,C){var p=this;d.doGetCellValue(C.col,C.row,function(B){e(d,C,p,B)})}},{key:"onChangeSelectCellInternal",value:function(d,C,p){a(),o()}},{key:"onGridScrollInternal",value:function(d){a(),o(!0)}},{key:"onChangeDisabledInternal",value:function(){o(!0)}},{key:"onChangeReadOnlyInternal",value:function(){o(!0)}},{key:"onSetInputAttrsInternal",value:function(d,C,p){_.InlineInputElement.setInputAttrs(this,d,p)}}]),f}(I.BaseInputEditor);r.InlineInputEditor=i},"./columns/action/InlineMenuEditor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineMenuEditor=void 0;var I=s("./internal/utils.js"),_=s("./columns/action/action-utils.js"),y=s("./core/DG_EVENT_TYPE.js"),E=s("./columns/action/Editor.js"),w=s("./columns/action/internal/InlineMenuElement.js"),v=s("./columns/type.js"),t=s("./internal/symbolManager.js"),n=s("./internal/menu-items.js"),e=(0,t.getInlineMenuEditorStateId)();function o(j){var g=j[e];return g||(g={},I.obj.setReadonly(j,e,g)),g}var a=null,i=0;function l(j,g,L,G,M){var K=o(j);a||(a=new w.InlineMenuElement),K.element||(K.element=a,i++,j.addDisposable({dispose:function(){i--,i||(a==null||a.dispose(),a=null,K.element=null)}})),a.attach(j,L,g.col,g.row,G,M)}function u(j){a&&a.detach(j)}var f=13,m=113,d=function(j){Ce(L,j);var g=Be(L);function L(){var G,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,L),G=g.call(this,M),G._classList=M.classList,G._options=(0,n.normalizeToFn)(M.options),G}return Ie(L,[{key:"dispose",value:function(){}},{key:"classList",get:function(){if(!!this._classList)return Array.isArray(this._classList)?this._classList:[this._classList]},set:function(M){this._classList=M}},{key:"options",get:function(){return this._options},set:function(M){this._options=(0,n.normalizeToFn)(M)}},{key:"clone",value:function(){return new L(this)}},{key:"onChangeDisabledInternal",value:function(){u(!0)}},{key:"onChangeReadOnlyInternal",value:function(){u(!0)}},{key:"bindGridEvent",value:function(M,K){var J=this,ae=function(Ee){return(0,_.isReadOnlyRecord)(J.readOnly,M,Ee.row)||(0,_.isDisabledRecord)(J.disabled,M,Ee.row)?!1:(M.doGetCellValue(Ee.col,Ee.row,function($e){var Ae=M.getRowRecord(Ee.row);(0,I.isPromise)(Ae)||l(M,Ee,J,$e,Ae)}),!0)};function ce(re,Ee){return M.getLayoutCellId(re,Ee)===K}return[M.listen(y.DG_EVENT_TYPE.CLICK_CELL,function(re){!ce(re.col,re.row)||ae({col:re.col,row:re.row})}),M.listen(y.DG_EVENT_TYPE.KEYDOWN,function(re){if(!(re.keyCode!==m&&re.keyCode!==f)){var Ee=M.selection.select;!ce(Ee.col,Ee.row)||ae({col:Ee.col,row:Ee.row})&&re.stopCellMoving()}}),M.listen(y.DG_EVENT_TYPE.SELECTED_CELL,function(re){u()}),M.listen(y.DG_EVENT_TYPE.SCROLL,function(){u(!0)}),M.listen(y.DG_EVENT_TYPE.MOUSEOVER_CELL,function(re){!ce(re.col,re.row)||(0,_.isReadOnlyRecord)(J.readOnly,M,re.row)||(0,_.isDisabledRecord)(J.disabled,M,re.row)||(M.getElement().style.cursor="pointer")}),M.listen(y.DG_EVENT_TYPE.MOUSEMOVE_CELL,function(re){!ce(re.col,re.row)||(0,_.isReadOnlyRecord)(J.readOnly,M,re.row)||(0,_.isDisabledRecord)(J.disabled,M,re.row)||M.getElement().style.cursor||(M.getElement().style.cursor="pointer")}),M.listen(y.DG_EVENT_TYPE.MOUSEOUT_CELL,function(re){!ce(re.col,re.row)||(M.getElement().style.cursor="")}),M.listen(y.DG_EVENT_TYPE.PASTE_CELL,function(re){if(!re.multi){var Ee=M.selection.range;if(!!(0,I.cellEquals)(Ee.start,Ee.end)&&!!ce(re.col,re.row)&&!((0,_.isReadOnlyRecord)(J.readOnly,M,re.row)||(0,_.isDisabledRecord)(J.disabled,M,re.row))){var $e=M.getRowRecord(re.row);if(!(0,I.isPromise)($e)){var Ae=J._pasteDataToOptionValue(re.normalizeValue,M,re,$e);Ae?(I.event.cancel(re.event),(0,I.then)(M.doChangeValue(re.col,re.row,function(){return Ae.value}),function(){var Je=M.getCellRange(re.col,re.row);M.invalidateCellRange(Je)})):M.fireListeners("rejected_paste_values",{detail:[{col:re.col,row:re.row,record:$e,define:M.getColumnDefine(re.col,re.row),pasteValue:re.normalizeValue}]})}}}})]}},{key:"onPasteCellRangeBox",value:function(M,K,J,ae){if(!((0,_.isReadOnlyRecord)(this.readOnly,M,K.row)||(0,_.isDisabledRecord)(this.disabled,M,K.row))){var ce=M.getRowRecord(K.row);if(!(0,I.isPromise)(ce)){var re=this._pasteDataToOptionValue(J,M,K,ce);re?M.doChangeValue(K.col,K.row,function(){return re.value}):ae.reject()}}}},{key:"onDeleteCellRangeBox",value:function(M,K){if(!((0,_.isReadOnlyRecord)(this.readOnly,M,K.row)||(0,_.isDisabledRecord)(this.disabled,M,K.row))){var J=M.getRowRecord(K.row);if(!(0,I.isPromise)(J)){var ae=this._pasteDataToOptionValue("",M,K,J);ae&&M.doChangeValue(K.col,K.row,function(){return ae.value})}}}},{key:"_pasteDataToOptionValue",value:function(M,K,J,ae){var ce=this._options(ae),re=C(M,ce);if(re)return re;var Ee=K.getColumnType(J.col,J.row);if(B(Ee)){var $e=p(M),Ae=I.array.find(Ee.options,function(Je){return p(Je.label)===$e});if(Ae)return C(Ae.value,ce)}}}]),L}(E.Editor);r.InlineMenuEditor=d;function C(j,g){var L=p(j),G=I.array.find(g,function(M){return p(M.value)===L});if(G)return G}function p(j){return j==null?"":"".concat(j).trim()}function B(j){return!!(j instanceof v.MenuColumn||Array.isArray(j.options))}},"./columns/action/RadioEditor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.RadioEditor=void 0;var I=s("./columns/action/actionBind.js"),_=s("./internal/utils.js"),y=s("./columns/action/action-utils.js"),E=s("./core/DG_EVENT_TYPE.js"),w=s("./columns/action/Editor.js"),v=s("./internal/animate.js"),t=s("./internal/symbolManager.js"),n=s("./columns/utils/index.js"),e=(0,t.getRadioColumnStateId)(),o=function(u){Ce(m,u);var f=Be(m);function m(){var d,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,m),d=f.call(this,C),d._group=C.group,d._checkAction=C.checkAction,d}return Ie(m,[{key:"clone",value:function(){return new m(this)}},{key:"group",get:function(){return this._group},set:function(C){this._group=C}},{key:"checkAction",get:function(){return this._checkAction},set:function(C){this._checkAction=C}},{key:"bindGridEvent",value:function(C,p){var B=this,j=C[e];j||(j={block:{},elapsed:{}},_.obj.setReadonly(C,e,j));var g=j,L=function(K){B._action(C,K)};function G(M,K){return C.getLayoutCellId(M,K)===p}return[].concat(ze((0,I.bindCellClickAction)(C,p,{action:L,mouseOver:function(K){if((0,y.isDisabledRecord)(B.disabled,C,K.row))return!1;g.mouseActiveCell={col:K.col,row:K.row};var J=C.getCellRange(K.col,K.row);return C.invalidateCellRange(J),!0},mouseOut:function(K){delete g.mouseActiveCell;var J=C.getCellRange(K.col,K.row);C.invalidateCellRange(J)}})),ze((0,I.bindCellKeyAction)(C,p,{action:L})),[C.listen(E.DG_EVENT_TYPE.PASTE_CELL,function(M){if(!M.multi){var K=C.selection.range;if(!!(0,_.cellEquals)(K.start,K.end)&&!!G(M.col,M.row)){_.event.cancel(M.event);var J=M.normalizeValue.trim();if(l(J)){var ae=C.getRowRecord(M.row);(0,_.isPromise)(ae)||C.fireListeners("rejected_paste_values",{detail:[{col:M.col,row:M.row,record:ae,define:C.getColumnDefine(M.col,M.row),pasteValue:J}]});return}!(0,n.toBoolean)(J)||L({col:M.col,row:M.row})}}})])}},{key:"onPasteCellRangeBox",value:function(C,p,B,j){if(!((0,y.isReadOnlyRecord)(this.readOnly,C,p.row)||(0,y.isDisabledRecord)(this.disabled,C,p.row))){var g=B.trim();if(l(g)){j.reject();return}!(0,n.toBoolean)(g)||this._action(C,{col:p.col,row:p.row})}}},{key:"onDeleteCellRangeBox",value:function(){}},{key:"_action",value:function(C,p){var B=this,j=C[e],g=C.getCellRange(p.col,p.row),L="".concat(g.start.col,":").concat(g.start.row);(0,y.isReadOnlyRecord)(this.readOnly,C,p.row)||(0,y.isDisabledRecord)(this.disabled,C,p.row)||j.block[L]||C.doGetCellValue(p.col,p.row,function(G){if(!(0,n.toBoolean)(G)){if(B._checkAction){var M=C.getRowRecord(p.row);B._checkAction(M,(0,_.extend)(p,{grid:C}));return}if(B._group){var K=C[e],J=B._group({grid:C,col:p.col,row:p.row});J.forEach(function(Je){var ye=Je.col,Pe=Je.row,ve=C.getCellRange(ye,Pe),Me="".concat(ve.start.col,":").concat(ve.start.row);(0,y.isReadOnlyRecord)(B.readOnly,C,p.row)||(0,y.isDisabledRecord)(B.disabled,C,p.row)||K.block[Me]||i(C,ye,Pe,ye===p.col&&Pe===p.row)});return}for(var ae=C.getField(p.col,p.row),ce=C.getRecordStartRowByRecordIndex(C.getRecordIndexByRow(p.row)),re=C.dataSource.dataSource,Ee=a(C),$e=function(ye){var Pe=re.get(ye),ve=Ee.find(function(Me){return Me.record===Pe});ve?i(C,p.col,ve.row,ve.row===ce):(0,_.then)(re.getField(ye,ae),function(Me){!(0,n.toBoolean)(Me)||re.setField(ye,ae,(0,y.toggleValue)(Me))})},Ae=0;Ae<re.length;Ae++)$e(Ae)}})}}]),m}(w.Editor);r.RadioEditor=o;function a(u){for(var f=[],m=u.rowCount,d=u.recordRowCount,C=u.frozenRowCount;C<m;C+=d){var p=u.getRowRecord(C);f.push({row:C,record:p})}return f}function i(u,f,m,d){u.doGetCellValue(f,m,function(C){if((0,n.toBoolean)(C)!==d){var p=u[e],B=u.getCellRange(f,m),j="".concat(B.start.col,":").concat(B.start.row),g=u.doChangeValue(f,m,y.toggleValue);if(g){var L=function(){(0,v.animate)(200,function(M){M===1?delete p.elapsed[j]:p.elapsed[j]=M,u.invalidateCellRange(B)})};(0,_.isPromise)(g)?(p.block[j]=!0,g.then(function(){delete p.block[j],L()})):L()}}})}function l(u){return(0,y.toggleValue)((0,y.toggleValue)(u))!==u}},"./columns/action/SmallDialogInputEditor.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SmallDialogInputEditor=void 0;var I=s("./columns/action/BaseInputEditor.js"),_=s("./columns/action/internal/SmallDialogInputElement.js"),y=s("./internal/symbolManager.js"),E=s("./internal/utils.js"),w=(0,y.getSmallDialogInputEditorStateId)();function v(i){var l=i[w];return l||(l={},E.obj.setReadonly(i,w,l)),l}var t=null,n=0;function e(i,l,u,f){var m=v(i);t||(t=new _.SmallDialogInputElement),m.element||(m.element=t,n++,i.addDisposable({dispose:function(){n--,n||(t==null||t.dispose(),t=null,m.element=null)}})),t.attach(i,u,l.col,l.row,f)}function o(i){t&&t.detach(i)}var a=function(i){Ce(u,i);var l=Be(u);function u(){var f,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,u),f=l.call(this,m),f._helperText=m.helperText,f._inputValidator=m.inputValidator,f._validator=m.validator,f._classList=m.classList,f._type=m.type,f}return Ie(u,[{key:"dispose",value:function(){}},{key:"classList",get:function(){if(!!this._classList)return Array.isArray(this._classList)?this._classList:[this._classList]},set:function(m){this._classList=m}},{key:"type",get:function(){return this._type},set:function(m){this._type=m}},{key:"helperText",get:function(){return this._helperText}},{key:"inputValidator",get:function(){return this._inputValidator}},{key:"validator",get:function(){return this._validator}},{key:"clone",value:function(){return new u(this)}},{key:"onInputCellInternal",value:function(m,d,C){e(m,d,this,C)}},{key:"onOpenCellInternal",value:function(m,d){var C=this;m.doGetCellValue(d.col,d.row,function(p){e(m,d,C,p)})}},{key:"onChangeSelectCellInternal",value:function(m,d,C){o()}},{key:"onGridScrollInternal",value:function(m){o(!0)}},{key:"onChangeDisabledInternal",value:function(){o(!0)}},{key:"onChangeReadOnlyInternal",value:function(){o(!0)}},{key:"onSetInputAttrsInternal",value:function(m,d,C){_.SmallDialogInputElement.setInputAttrs(this,m,C)}}]),u}(I.BaseInputEditor);r.SmallDialogInputEditor=a},"./columns/action/action-utils.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.toggleValue=r.isReadOnlyRecord=r.isDisabledRecord=void 0;var I=s("./internal/utils.js");function _(v,t,n){return t.disabled?!0:w(v,t,n)}r.isDisabledRecord=_;function y(v,t,n){return t.readOnly?!0:w(v,t,n)}r.isReadOnlyRecord=y;function E(v){if(typeof v=="number")return v===0?1:0;if(typeof v=="string"){if(v==="false")return"true";if(v==="off")return"on";if(/^0+$/.exec(v))return v.replace(/^(0*)0$/,"$11");if(v==="true")return"false";if(v==="on")return"off";if(/^0*1$/.exec(v))return v.replace(/^(0*)1$/,"$10")}return!v}r.toggleValue=E;function w(v,t,n){if(typeof v=="function"){var e=t.getRowRecord(n);return(0,I.isPromise)(e)?!0:!!v(e)}return!!v}},"./columns/action/actionBind.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.bindCellKeyAction=r.bindCellClickAction=void 0;var I=s("./internal/utils.js"),_=s("./core/DG_EVENT_TYPE.js"),y=13,E=32;function w(t,n,e){var o=e.action,a=e.mouseOver,i=e.mouseOut;function l(u,f){return t.getLayoutCellId(u,f)===n}return[t.listen(_.DG_EVENT_TYPE.CLICK_CELL,function(u){!l(u.col,u.row)||(0,I.isPromise)(t.getRowRecord(u.row))||o({col:u.col,row:u.row})}),t.listen(_.DG_EVENT_TYPE.MOUSEOVER_CELL,function(u){!l(u.col,u.row)||(0,I.isPromise)(t.getRowRecord(u.row))||a&&!a({col:u.col,row:u.row})||(t.getElement().style.cursor="pointer")}),t.listen(_.DG_EVENT_TYPE.MOUSEOUT_CELL,function(u){!l(u.col,u.row)||(i&&i({col:u.col,row:u.row}),t.getElement().style.cursor="")})]}r.bindCellClickAction=w;function v(t,n,e){var o=e.action,a=e.acceptKeys,i=a===void 0?[]:a;function l(u,f){return t.getLayoutCellId(u,f)===n}return i=[].concat(ze(i),[y,E]),[t.listen(_.DG_EVENT_TYPE.KEYDOWN,function(u){var f;if(i.indexOf(u.keyCode)!==-1&&!(((f=t.keyboardOptions)===null||f===void 0?void 0:f.moveCellOnEnter)&&u.keyCode===y)){var m=t.selection.select;!l(m.col,m.row)||(0,I.isPromise)(t.getRowRecord(m.row))||(o({col:m.col,row:m.row}),I.event.cancel(u.event))}})]}r.bindCellKeyAction=v},"./columns/action/internal/InlineInputElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineInputElement=void 0;var I=s("./internal/EventHandler.js"),_=s("./internal/dom.js"),y=s("./internal/utils.js"),E=s("./columns/action/internal/input-value-handler.js"),w=9,v=13,t="cheetah-grid__inline-input";function n(){return s("../src/js/columns/action/internal/InlineInputElement.css"),(0,_.createElement)("input",{classList:t})}function e(a,i,l){var u=a.classList,f=a.type;if(u){var m;(m=l.classList).add.apply(m,ze(u))}l.type=f||""}var o=function(){function a(){fe(this,a),this._handler=new I.EventHandler,this._input=n(),this._bindInputEvents()}return Ie(a,[{key:"dispose",value:function(){var l,u=this._input;this.detach(),this._handler.dispose(),delete this._input,this._beforePropEditor=null,(l=u.parentElement)===null||l===void 0||l.removeChild(u)}},{key:"attach",value:function(l,u,f,m,d){var C=this,p=this._input,B=this._handler;if(this._beforePropEditor){var j=this._beforePropEditor.classList;if(j){var g;(g=p.classList).remove.apply(g,ze(j))}}p.style.font=l.font||"16px sans-serif";var L=l.getAttachCellsArea(l.getCellRange(f,m)),G=L.element,M=L.rect;p.style.top="".concat(M.top.toFixed(),"px"),p.style.left="".concat(M.left.toFixed(),"px"),p.style.width="".concat(M.width.toFixed(),"px"),p.style.height="".concat(M.height.toFixed(),"px"),G.appendChild(p),e(u,l,p),(0,E.setInputValue)(p,d),this._activeData={grid:l,col:f,row:m,editor:u},this._beforePropEditor=u;var K=function(){p.focus();var ae=p.value.length;try{if(typeof p.selectionStart!="undefined"){p.selectionStart=ae,p.selectionEnd=ae;return}}catch{}if(document.selection){var ce=p.createTextRange();ce.collapse(),ce.moveEnd("character",ae),ce.moveStart("character",ae),ce.select()}};B.tryWithOffEvents(p,"blur",function(){K()}),this._attaching=!0,setTimeout(function(){delete C._attaching})}},{key:"detach",value:function(l){if(this._isActive()){var u=this._activeData,f=u.grid,m=u.col,d=u.row,C=this._input;this._handler.tryWithOffEvents(C,"blur",function(){var B;(B=C.parentElement)===null||B===void 0||B.removeChild(C)});var p=f.getCellRange(m,d);f.invalidateCellRange(p),l&&f.focus()}this._activeData=null}},{key:"doChangeValue",value:function(){if(!!this._isActive()){var l=this._input,u=l.value,f=this._activeData,m=f.grid,d=f.col,C=f.row;m.doChangeValue(d,C,function(){return u})}}},{key:"_isActive",value:function(){var l=this._input;return!(!l||!l.parentElement||!this._activeData)}},{key:"_bindInputEvents",value:function(){var l=this,u=this._handler,f=this._input,m=function(C){return C.stopPropagation()};u.on(f,"click",m),u.on(f,"mousedown",m),u.on(f,"touchstart",m),u.on(f,"dblclick",m),u.on(f,"compositionstart",function(d){f.classList.add("composition")}),u.on(f,"compositionend",function(d){f.classList.remove("composition")}),u.on(f,"keydown",function(d){if(!f.classList.contains("composition")){var C=y.event.getKeyCode(d);C===v?l._onKeydownEnter(d):C===w&&l._onKeydownTab(d)}}),u.on(f,"blur",function(d){l.doChangeValue(),l.detach()})}},{key:"_onKeydownEnter",value:function(l){var u;if(!(!this._isActive()||this._attaching)){var f=this._activeData.grid;this.doChangeValue(),this.detach(!0),y.event.cancel(l),!((u=f.keyboardOptions)===null||u===void 0)&&u.moveCellOnEnter&&f.onKeyDownMove(l)}}},{key:"_onKeydownTab",value:function(l){var u;if(!!this._isActive()){var f=this._activeData.grid;!(!((u=f.keyboardOptions)===null||u===void 0)&&u.moveCellOnTab)||(this.doChangeValue(),this.detach(!0),f.onKeyDownMove(l))}}}],[{key:"setInputAttrs",value:function(l,u,f){e(l,u,f)}}]),a}();r.InlineInputElement=o},"./columns/action/internal/InlineMenuElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineMenuElement=void 0;var I=s("./internal/dom.js"),_=s("./internal/EventHandler.js"),y=s("./internal/utils.js"),E=9,w=13,v=38,t=40,n=27,e="cheetah-grid__inline-menu",o="".concat(e,"__menu-item"),a="".concat(e,"--hidden"),i="".concat(e,"--shown"),l="".concat(o,"--empty");function u(j){for(var g=j;g&&!g.classList.contains(o);)if(g=g.parentElement,!g||g.classList.contains(e))return null;return g}function f(){return s("../src/js/columns/action/internal/InlineMenuElement.css"),(0,I.createElement)("ul",{classList:e})}function m(j,g,L){L.style.top="".concat(g.top.toFixed(),"px"),L.style.left="".concat(g.left.toFixed(),"px"),L.style.width="".concat(g.width.toFixed(),"px"),L.style.lineHeight="".concat(g.height.toFixed(),"px"),j.appendChild(L)}function d(j,g){var L=j.classList,G=j.label,M=j.value,K=j.html,J=(0,I.createElement)("li",{classList:o});if(J.tabIndex=0,J.dataset.valueindex="".concat(g),L){var ae;(ae=J.classList).add.apply(ae,ze(Array.isArray(L)?L:[L]))}if(G){var ce=(0,I.createElement)("span",{text:G});J.appendChild(ce)}else K&&(0,I.appendHtml)(J,K);return(M===""||M==null)&&J.classList.add(l),J}function C(j,g,L,G,M,K,J){var ae=g.classList;J.classList.remove(i),J.classList.add(a),(0,I.empty)(J),J.style.font=j.font||"16px sans-serif";var ce=null,re=null;K.forEach(function(me,_e){var Se=d(me,_e);J.appendChild(Se),me.value===M&&(re=Se,Se.dataset.select="select"),Se.classList.contains(l)&&(ce=Se)});var Ee=re||ce||J.children[0];if(ae){var $e;($e=J.classList).add.apply($e,ze(ae))}var Ae=Array.prototype.slice.call(J.children,0),Je=Ae.indexOf(Ee),ye=j.getAttachCellsArea(j.getCellRange(L,G)),Pe=ye.element,ve=ye.rect;ve.width++,m(Pe,ve,J);for(var Me=0,xe=0,V=0;V<Ae.length;V++){var S=Ae[V].offsetHeight;V<Je&&(Me+=S),xe+=S}ve.offsetTop(-Me),J.style.transformOrigin="center ".concat(Me+Math.ceil(Ae[Je].offsetHeight/2),"px 0px"),m(Pe,ve,J);var H=J.getBoundingClientRect(),$=(xe-H.height)/2,k=H.top-$,h=k,R=h+xe,P=be.innerHeight,Q=20;if(R>P-Q){var ue=R-P+Q;h-=ue}h<0+Q&&(h=Q),h!==k&&(ve.offsetTop(-(k-h)),m(Pe,ve,J)),Ee&&Ee.focus(),J.classList.remove(a),J.classList.add(i)}function p(j,g,L,G){G.classList.remove(i),G.classList.add(a),(0,I.disableFocus)(G)}var B=function(){function j(){fe(this,j),this._handler=new _.EventHandler,this._menu=f(),this._bindMenuEvents()}return Ie(j,[{key:"dispose",value:function(){var L,G=this._menu;this.detach(),this._handler.dispose(),delete this._menu,this._beforePropEditor=null,(L=G.parentElement)===null||L===void 0||L.removeChild(G)}},{key:"attach",value:function(L,G,M,K,J,ae){var ce=this._menu;if(this._beforePropEditor){var re=this._beforePropEditor.classList;if(re){var Ee;(Ee=ce.classList).remove.apply(Ee,ze(re))}}var $e=G.options(ae);C(L,G,M,K,J,$e,ce),this._activeData={grid:L,col:M,row:K,editor:G,options:$e},this._beforePropEditor=G}},{key:"detach",value:function(L){if(this._isActive()){var G=this._activeData,M=G.grid,K=G.col,J=G.row,ae=this._menu;p(M,K,J,ae);var ce=M.getCellRange(K,J);M.invalidateCellRange(ce),L&&M.focus()}this._activeData=null}},{key:"_doChangeValue",value:function(L){if(!!this._isActive()){var G=this._activeData,M=G.grid,K=G.col,J=G.row,ae=G.options,ce=ae[Number(L)];if(ce){var re=ce.value;M.doChangeValue(K,J,function(){return re})}}}},{key:"_isActive",value:function(){var L=this._menu;return!(!L||!L.parentElement||!this._activeData)}},{key:"_bindMenuEvents",value:function(){var L=this,G=this._handler,M=this._menu,K=function(ae){return ae.stopPropagation()};G.on(M,"mousedown",K),G.on(M,"touchstart",K),G.on(M,"dblclick",K),G.on(M,"click",function(J){J.stopPropagation();var ae=u(J.target);if(!!ae){var ce=ae.dataset.valueindex;L._doChangeValue(ce||""),L.detach(!0)}}),G.on(M,"keydown",function(J){var ae=u(J.target);if(!!ae){var ce=y.event.getKeyCode(J);if(ce===w)L._onKeydownEnter(M,ae,J);else if(ce===n)L.detach(!0),y.event.cancel(J);else if(ce===v){var re=(0,I.findPrevSiblingFocusable)(ae);re&&(re.focus(),y.event.cancel(J))}else if(ce===t){var Ee=(0,I.findNextSiblingFocusable)(ae);Ee&&(Ee.focus(),y.event.cancel(J))}else ce===E&&L._onKeydownTab(M,ae,J)}})}},{key:"_onKeydownEnter",value:function(L,G,M){var K,J=this._isActive()?this._activeData.grid:null,ae=G.dataset.valueindex;this._doChangeValue(ae||""),this.detach(!0),y.event.cancel(M),J&&!((K=J.keyboardOptions)===null||K===void 0)&&K.moveCellOnEnter&&J.onKeyDownMove(M)}},{key:"_onKeydownTab",value:function(L,G,M){var K;if(this._isActive()){var J=this._activeData.grid;if(!((K=J.keyboardOptions)===null||K===void 0)&&K.moveCellOnTab){var ae=G.dataset.valueindex;this._doChangeValue(ae||""),this.detach(!0),J.onKeyDownMove(M);return}}if(M.shiftKey){if(!(0,I.findPrevSiblingFocusable)(G)){var re=L.querySelectorAll(".".concat(o)),Ee=re[re.length-1];(0,I.isFocusable)(Ee)||(Ee=(0,I.findPrevSiblingFocusable)(Ee)),Ee&&(Ee.focus(),y.event.cancel(M))}}else if(!(0,I.findNextSiblingFocusable)(G)){var ce=L.querySelector(".".concat(o));(0,I.isFocusable)(ce)||(ce=(0,I.findNextSiblingFocusable)(ce)),ce&&(ce.focus(),y.event.cancel(M))}}}]),j}();r.InlineMenuElement=B},"./columns/action/internal/SmallDialogInputElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SmallDialogInputElement=void 0;var I=s("./internal/utils.js"),_=s("./internal/EventHandler.js"),y=s("./internal/dom.js"),E=s("./columns/action/internal/input-value-handler.js"),w="cheetah-grid__small-dialog-input",v="".concat(w,"__input"),t="".concat(w,"--hidden"),n="".concat(w,"--shown"),e=13,o=27;function a(d,C){var p=function(){d.focus();var j=d.value.length;try{if(typeof d.selectionStart!="undefined"){d.selectionStart=j,d.selectionEnd=j;return}}catch{}if(document.selection){var g=d.createTextRange();g.collapse(),g.moveEnd("character",j),g.moveStart("character",j),g.select()}};C.tryWithOffEvents(d,"blur",function(){p()})}function i(){s("../src/js/columns/action/internal/SmallDialogInputElement.css");var d=(0,y.createElement)("div",{classList:[w,t]}),C=(0,y.createElement)("input",{classList:v});return C.readOnly=!0,C.tabIndex=-1,d.appendChild(C),d}function l(d,C,p,B){var j=B.classList,g=B.helperText;if(j){var L;(L=C.classList).add.apply(L,ze(j))}g&&typeof g!="function"&&(C.dataset.helperText=g),f(B,d,p)}function u(d,C,p,B){var j=B.classList;if(j){var g;(g=C.classList).remove.apply(g,ze(j))}delete C.dataset.helperText,p.type=""}function f(d,C,p){var B=d.type;p.type=B||""}var m=function(){function d(){fe(this,d),this._handler=new _.EventHandler,this._dialog=i(),this._input=this._dialog.querySelector(".".concat(v)),this._bindDialogEvents()}return Ie(d,[{key:"dispose",value:function(){var p=this._dialog;this.detach(),this._handler.dispose(),delete this._dialog,delete this._input,this._beforePropEditor=null,p.parentElement&&p.parentElement.removeChild(p)}},{key:"attach",value:function(p,B,j,g,L){var G=this,M=this._handler,K=this._dialog,J=this._input;this._beforePropEditor&&u(p,K,J,this._beforePropEditor),delete K.dataset.errorMessage,K.classList.remove(n),K.classList.add(t),J.readOnly=!0,J.tabIndex=0;var ae=p.getAttachCellsArea(p.getCellRange(j,g)),ce=ae.element,re=ae.rect;K.style.top="".concat(re.top.toFixed(),"px"),K.style.left="".concat(re.left.toFixed(),"px"),K.style.width="".concat(re.width.toFixed(),"px"),J.style.height="".concat(re.height.toFixed(),"px"),ce.appendChild(K),(0,E.setInputValue)(J,L),J.style.font=p.font||"16px sans-serif";var Ee={grid:p,col:j,row:g,editor:B};this._onInputValue(J,Ee),I.browser.IE?setTimeout(function(){return a(J,M)}):a(J,M),K.classList.add(n),K.classList.remove(t),J.readOnly=!1,l(p,K,J,B),this._activeData=Ee,this._beforePropEditor=B,this._attaching=!0,setTimeout(function(){delete G._attaching})}},{key:"detach",value:function(p){if(this._isActive()){var B=this._dialog,j=this._input;B.classList.remove(n),B.classList.add(t),j.readOnly=!0,j.tabIndex=-1;var g=this._activeData,L=g.grid,G=g.col,M=g.row,K=L.getCellRange(G,M);L.invalidateCellRange(K),p&&L.focus()}this._activeData=null,this._beforeValue=null}},{key:"_doChangeValue",value:function(){var p=this;if(!this._isActive())return!1;var B=this._input,j=B.value;return(0,I.then)(this._validate(j),function(g){if(g&&j===B.value){var L=p._activeData,G=L.grid,M=L.col,K=L.row;return G.doChangeValue(M,K,function(){return j}),!0}return!1})}},{key:"_isActive",value:function(){var p=this._dialog;return!(!p||!p.parentElement||!this._activeData)}},{key:"_bindDialogEvents",value:function(){var p=this,B=this._handler,j=this._dialog,g=this._input,L=function(K){return K.stopPropagation()};B.on(j,"click",L),B.on(j,"dblclick",L),B.on(j,"mousedown",L),B.on(j,"touchstart",L),B.on(g,"compositionstart",function(M){g.classList.add("composition")}),B.on(g,"compositionend",function(M){g.classList.remove("composition"),p._onInputValue(g)});var G=function(K){g.classList.contains("composition")||p._onInputValue(g)};B.on(g,"keyup",G),B.on(g,"keypress",G),B.on(g,"keydown",function(M){if(!g.classList.contains("composition")){var K=I.event.getKeyCode(M);K===o?(p.detach(!0),I.event.cancel(M)):K===e?p._onKeydownEnter(M):p._onInputValue(g)}})}},{key:"_onKeydownEnter",value:function(p){var B=this;if(!this._attaching){var j=this._input,g=j.value;(0,I.then)(this._doChangeValue(),function(L){var G;if(L&&g===j.value){var M=B._isActive()?B._activeData.grid:null;B.detach(!0),!((G=M==null?void 0:M.keyboardOptions)===null||G===void 0)&&G.moveCellOnEnter&&M.onKeyDownMove(p)}}),I.event.cancel(p)}}},{key:"_onInputValue",value:function(p,B){var j=this._beforeValue,g=p.value;j!==g&&this._onInputValueChange(g,B),this._beforeValue=g}},{key:"_onInputValueChange",value:function(p,B){B=B||this._activeData;var j=this._dialog,g=B,L=g.grid,G=g.col,M=g.row,K=g.editor;if(typeof K.helperText=="function"){var J=K.helperText(p,{grid:L,col:G,row:M});J?j.dataset.helperText=J:delete j.dataset.helperText}"errorMessage"in j.dataset&&this._validate(p,!0)}},{key:"_validate",value:function(p,B){var j=this._dialog,g=this._input,L=this._activeData,G=L.grid,M=L.col,K=L.row,J=L.editor,ae="";return J.inputValidator&&(ae=J.inputValidator(p,{grid:G,col:M,row:K})),(0,I.then)(ae,function(ce){return!ce&&J.validator&&!B&&(ce=J.validator(p,{grid:G,col:M,row:K})),(0,I.then)(ce,function(re){return re&&p===g.value?j.dataset.errorMessage=re:delete j.dataset.errorMessage,!re})})}}],[{key:"setInputAttrs",value:function(p,B,j){f(p,B,j)}}]),d}();r.SmallDialogInputElement=m},"./columns/action/internal/input-value-handler.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.setInputValue=void 0;var I=s("./internal/EventHandler.js");function _(y,E){var w=y.type==="number"&&E==="-";if(w){y.type="";var v=new I.EventHandler,t=function(){v&&(v.dispose(),v=null)};v.once(y,"input",function(n){y.type="number",t()}),v.once(y,"blur",function(n){t()})}y.value=E!=null?E:""}r.setInputValue=_},"./columns/message/BaseMessage.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseMessage=void 0;var I=function(){function _(y){fe(this,_),this._messageElement=null,this._grid=y}return Ie(_,[{key:"dispose",value:function(){this.detachMessageElement(),this._messageElement&&this._messageElement.dispose(),this._messageElement=null}},{key:"_getMessageElement",value:function(){return this._messageElement||(this._messageElement=this.createMessageElementInternal())}},{key:"attachMessageElement",value:function(E,w,v){var t=this._getMessageElement();t.attach(this._grid,E,w,v)}},{key:"moveMessageElement",value:function(E,w){var v=this._getMessageElement();v.move(this._grid,E,w)}},{key:"detachMessageElement",value:function(){var E=this._getMessageElement();E._detach()}},{key:"drawCellMessage",value:function(E,w,v,t,n,e){this.drawCellMessageInternal(E,w,v,t,n,e)}}]),_}();r.BaseMessage=I},"./columns/message/ErrorMessage.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(o,a,i,l){l===void 0&&(l=i),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[i]}})}:function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]}),_=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&I(a,o,i);return _(a,o),a};Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorMessage=void 0;var E=y(s("./columns/message/messageUtils.js")),w=s("./columns/message/BaseMessage.js"),v=s("./columns/message/internal/ErrorMessageElement.js"),t=s("./internal/utils.js"),n="#ff8a80",e=function(o){Ce(i,o);var a=Be(i);function i(){return fe(this,i),a.apply(this,arguments)}return Ie(i,[{key:"createMessageElementInternal",value:function(){return new v.ErrorMessageElement}},{key:"drawCellMessageInternal",value:function(u,f,m,d,C,p){var B=m.bgColor,j=f.getSelection(),g=j.select;(!(0,t.cellInRange)(C.getCellRange(f.col,f.row),g.col,g.row)||!C.hasFocusGrid())&&d.drawBorderWithClip(f,function(L){E.drawExclamationMarkBox(f,{bgColor:d.getColor(d.theme.messages.errorBgColor,f.col,f.row,L)||n,color:B,boxWidth:d.theme.messages.boxWidth,markHeight:d.theme.messages.markHeight},d)})}}]),i}(w.BaseMessage);r.ErrorMessage=e},"./columns/message/InfoMessage.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(o,a,i,l){l===void 0&&(l=i),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[i]}})}:function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]}),_=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&I(a,o,i);return _(a,o),a};Object.defineProperty(r,"__esModule",{value:!0}),r.InfoMessage=void 0;var E=y(s("./columns/message/messageUtils.js")),w=s("./columns/message/BaseMessage.js"),v=s("./columns/message/internal/MessageElement.js"),t=s("./internal/utils.js"),n="#e0e0e0",e=function(o){Ce(i,o);var a=Be(i);function i(){return fe(this,i),a.apply(this,arguments)}return Ie(i,[{key:"createMessageElementInternal",value:function(){return new v.MessageElement}},{key:"drawCellMessageInternal",value:function(u,f,m,d,C,p){var B=m.bgColor,j=f.getSelection(),g=j.select;(!(0,t.cellInRange)(C.getCellRange(f.col,f.row),g.col,g.row)||!C.hasFocusGrid())&&d.drawBorderWithClip(f,function(L){E.drawInformationMarkBox(f,{bgColor:d.getColor(d.theme.messages.infoBgColor,f.col,f.row,L)||n,color:B,boxWidth:d.theme.messages.boxWidth,markHeight:d.theme.messages.markHeight},d)})}}]),i}(w.BaseMessage);r.InfoMessage=e},"./columns/message/MessageHandler.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.MessageHandler=r.hasMessage=void 0;var I=s("./columns/message/ErrorMessage.js"),_=s("./columns/message/InfoMessage.js"),y=s("./list-grid/LG_EVENT_TYPE.js"),E=s("./columns/message/WarningMessage.js"),w=s("./internal/utils.js"),v={type:"error",message:null},t={error:function(i){return new I.ErrorMessage(i)},info:function(i){return new _.InfoMessage(i)},warning:function(i){return new E.WarningMessage(i)}};function n(a){if(!a||(0,w.isPromise)(a))return v;if(typeof a=="string")return{type:"error",message:a,original:a};var i=a.type||"error";return i&&i in t?{type:i.toLowerCase(),message:a.message,original:a}:{type:"error",message:"".concat(a),original:a}}function e(a){return!!n(a).message}r.hasMessage=e;var o=function(){function a(i,l){fe(this,a),this._attachInfo=null,this._grid=i,this._messageInstances={},this._bindGridEvent(i,l)}return Ie(a,[{key:"dispose",value:function(){var l,u=this._messageInstances;for(var f in u)(l=u[f])===null||l===void 0||l.dispose();delete this._messageInstances,delete this._attachInfo}},{key:"drawCellMessage",value:function(l,u,f,m,d,C){if(!!e(l)){var p=this._getMessageInstanceOfMessage(l);p.drawCellMessage(n(l),u,f,m,d,C)}}},{key:"_attach",value:function(l,u,f){var m=this._attachInfo,d=this._getMessageInstanceOfMessage(f);m&&m.instance!==d&&m.instance.detachMessageElement(),d.attachMessageElement(l,u,n(f)),this._attachInfo={col:l,row:u,instance:d}}},{key:"_move",value:function(l,u){var f=this._attachInfo;if(!(!f||f.col!==l||f.row!==u)){var m=f.instance;m.moveMessageElement(l,u)}}},{key:"_detach",value:function(){var l=this._attachInfo;if(!!l){var u=l.instance;u.detachMessageElement(),this._attachInfo=null}}},{key:"_bindGridEvent",value:function(l,u){var f=this,m=function(C){var p=function(g){e(g)?f._attach(C.col,C.row,g):f._detach()},B=u(C.col,C.row);if((0,w.isPromise)(B)){f._detach(),B.then(function(j){var g=l.selection.select;g.col!==C.col||g.row!==C.row||p(j)});return}p(B)};l.listen(y.LG_EVENT_TYPE.SELECTED_CELL,function(d){!d.selected||d.before.col===d.col&&d.before.row===d.row||m(d)}),l.listen(y.LG_EVENT_TYPE.SCROLL,function(){var d=l.selection.select;f._move(d.col,d.row)}),l.listen(y.LG_EVENT_TYPE.CHANGED_VALUE,function(d){if(!!l.hasFocusGrid()){var C=l.selection.select;C.col!==d.col||C.row!==d.row||m(d)}}),l.listen(y.LG_EVENT_TYPE.FOCUS_GRID,function(d){var C=l.selection.select;m(C)}),l.listen(y.LG_EVENT_TYPE.BLUR_GRID,function(d){f._detach()})}},{key:"_getMessageInstanceOfMessage",value:function(l){var u=this._messageInstances,f=n(l),m=f.type;return u[m]||(u[m]=t[m](this._grid))}}]),a}();r.MessageHandler=o},"./columns/message/WarningMessage.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(o,a,i,l){l===void 0&&(l=i),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[i]}})}:function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]}),_=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&I(a,o,i);return _(a,o),a};Object.defineProperty(r,"__esModule",{value:!0}),r.WarningMessage=void 0;var E=y(s("./columns/message/messageUtils.js")),w=s("./columns/message/BaseMessage.js"),v=s("./columns/message/internal/WarningMessageElement.js"),t=s("./internal/utils.js"),n="#ff9e80",e=function(o){Ce(i,o);var a=Be(i);function i(){return fe(this,i),a.apply(this,arguments)}return Ie(i,[{key:"createMessageElementInternal",value:function(){return new v.WarningMessageElement}},{key:"drawCellMessageInternal",value:function(u,f,m,d,C,p){var B=m.bgColor,j=f.getSelection(),g=j.select;(!(0,t.cellInRange)(C.getCellRange(f.col,f.row),g.col,g.row)||!C.hasFocusGrid())&&d.drawBorderWithClip(f,function(L){E.drawExclamationMarkBox(f,{bgColor:d.getColor(d.theme.messages.warnBgColor,f.col,f.row,L)||n,color:B,boxWidth:d.theme.messages.boxWidth,markHeight:d.theme.messages.markHeight},d)})}}]),i}(w.BaseMessage);r.WarningMessage=e},"./columns/message/internal/ErrorMessageElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorMessageElement=void 0;var I=s("./columns/message/internal/MessageElement.js"),_="cheetah-grid__error-message-element",y="".concat(_,"__message"),E=function(w){Ce(t,w);var v=Be(t);function t(){var n;return fe(this,t),n=v.call(this),s("../src/js/columns/message/internal/ErrorMessageElement.css"),n._rootElement.classList.add(_),n._messageElement.classList.add(y),n}return t}(I.MessageElement);r.ErrorMessageElement=E},"./columns/message/internal/MessageElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.MessageElement=void 0;var I=s("./internal/EventHandler.js"),_=s("./internal/dom.js"),y="cheetah-grid__message-element",E="".concat(y,"__message"),w="".concat(y,"--hidden"),v="".concat(y,"--shown");function t(){s("../src/js/columns/message/internal/MessageElement.css");var e=(0,_.createElement)("div",{classList:[y,w]}),o=(0,_.createElement)("span",{classList:[E]});return e.appendChild(o),e}var n=function(){function e(){fe(this,e),this._handler=new I.EventHandler;var o=this._rootElement=t();this._messageElement=o.querySelector(".".concat(E))}return Ie(e,[{key:"dispose",value:function(){this.detach(),this._handler.dispose(),delete this._rootElement,delete this._messageElement}},{key:"attach",value:function(a,i,l,u){var f=this._rootElement,m=this._messageElement;f.classList.remove(v),f.classList.add(w),this._attachCell(a,i,l)?(f.classList.add(v),f.classList.remove(w),m.textContent=u.message):this._detach()}},{key:"move",value:function(a,i,l){var u=this._rootElement;this._attachCell(a,i,l)?(u.classList.add(v),u.classList.remove(w)):this._detach()}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var a=this._rootElement;a.parentElement&&(a.parentElement.removeChild(a),a.classList.remove(v),a.classList.add(w))}},{key:"_attachCell",value:function(a,i,l){var u=this._rootElement,f=a.getAttachCellsArea(a.getCellRange(i,l)),m=f.element,d=f.rect,C=d.bottom,p=d.left,B=d.width,j=a.frozenRowCount,g=a.frozenColCount;if(l>=j&&j>0){var L=a.getAttachCellsArea(a.getCellRange(i,j-1)),G=L.rect;if(C<G.bottom)return!1}else if(C<0)return!1;if(i>=g&&g>0){var M=a.getAttachCellsArea(a.getCellRange(g-1,l)),K=M.rect;if(p<K.right)return!1}else if(p<0)return!1;var J=m.offsetHeight,ae=m.offsetWidth;return J<C||ae<p?!1:(u.style.top="".concat(C.toFixed(),"px"),u.style.left="".concat(p.toFixed(),"px"),u.style.width="".concat(B.toFixed(),"px"),u.parentElement!==m&&m.appendChild(u),!0)}}]),e}();r.MessageElement=n},"./columns/message/internal/WarningMessageElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.WarningMessageElement=void 0;var I=s("./columns/message/internal/MessageElement.js"),_="cheetah-grid__warning-message-element",y="".concat(_,"__message"),E=function(w){Ce(t,w);var v=Be(t);function t(){var n;return fe(this,t),n=v.call(this),s("../src/js/columns/message/internal/WarningMessageElement.css"),n._rootElement.classList.add(_),n._messageElement.classList.add(y),n}return t}(I.MessageElement);r.WarningMessageElement=E},"./columns/message/messageUtils.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.drawInformationMarkBox=r.drawExclamationMarkBox=void 0;var I=s("./internal/Rect.js");function _(E,w,v){var t=w.bgColor,n=w.color,e=w.boxWidth,o=w.markHeight,a=E.getContext(),i=E.getRect();a.fillStyle=t;var l=i.copy();l.left=l.right-(Number(e)||24),a.fillRect(l.left,l.top,l.width,l.height-1);var u=n,f=Number(o)||20,m=f/5,d=l.left+(l.width-m)/2,C=l.top+(l.height-f)/2;v.fillRectWithState(new I.Rect(d,C,m,f/5*3),E,{fillColor:u}),v.fillRectWithState(new I.Rect(d,C+f/5*4,m,f/5),E,{fillColor:u})}r.drawExclamationMarkBox=_;function y(E,w,v){var t=w.bgColor,n=w.color,e=w.boxWidth,o=w.markHeight,a=E.getContext(),i=E.getRect();a.fillStyle=t;var l=i.copy();l.left=l.right-(Number(e)||24),a.fillRect(l.left,l.top,l.width,l.height-1);var u=n,f=Number(o)||20,m=f/5,d=l.left+(l.width-m)/2,C=l.top+(l.height-f)/2;v.fillRectWithState(new I.Rect(d,C,m,f/5),E,{fillColor:u}),v.fillRectWithState(new I.Rect(d,C+f/5*2,m,f/5*3),E,{fillColor:u})}r.drawInformationMarkBox=y},"./columns/style.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.of=r.MenuStyle=r.MultilineTextStyle=r.PercentCompleteBarStyle=r.IconStyle=r.ImageStyle=r.ButtonStyle=r.RadioStyle=r.CheckStyle=r.NumberStyle=r.Style=r.BaseStyle=r.EVENT_TYPE=void 0;var I=s("./columns/style/BaseStyle.js");Object.defineProperty(r,"BaseStyle",{enumerable:!0,get:function(){return I.BaseStyle}});var _=s("./columns/style/ButtonStyle.js");Object.defineProperty(r,"ButtonStyle",{enumerable:!0,get:function(){return _.ButtonStyle}});var y=s("./columns/style/CheckStyle.js");Object.defineProperty(r,"CheckStyle",{enumerable:!0,get:function(){return y.CheckStyle}});var E=s("./columns/style/IconStyle.js");Object.defineProperty(r,"IconStyle",{enumerable:!0,get:function(){return E.IconStyle}});var w=s("./columns/style/ImageStyle.js");Object.defineProperty(r,"ImageStyle",{enumerable:!0,get:function(){return w.ImageStyle}});var v=s("./columns/style/MenuStyle.js");Object.defineProperty(r,"MenuStyle",{enumerable:!0,get:function(){return v.MenuStyle}});var t=s("./columns/style/MultilineTextStyle.js");Object.defineProperty(r,"MultilineTextStyle",{enumerable:!0,get:function(){return t.MultilineTextStyle}});var n=s("./columns/style/NumberStyle.js");Object.defineProperty(r,"NumberStyle",{enumerable:!0,get:function(){return n.NumberStyle}});var e=s("./columns/style/PercentCompleteBarStyle.js");Object.defineProperty(r,"PercentCompleteBarStyle",{enumerable:!0,get:function(){return e.PercentCompleteBarStyle}});var o=s("./columns/style/RadioStyle.js");Object.defineProperty(r,"RadioStyle",{enumerable:!0,get:function(){return o.RadioStyle}});var a=s("./columns/style/Style.js");Object.defineProperty(r,"Style",{enumerable:!0,get:function(){return a.Style}});var i=I.BaseStyle.EVENT_TYPE;r.EVENT_TYPE=i;function l(u,f){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.Style;return u?u instanceof I.BaseStyle?u:typeof u=="function"?l(u(f),f,m):f&&u in f?l(f[u],f,m):new m(u):m.DEFAULT}r.of=l},"./columns/style/BaseStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseStyle=void 0;var I=s("./core/EventTarget.js"),_={CHANGE_STYLE:"change_style"},y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.bgColor;return fe(this,t),n=v.call(this),n._bgColor=o,n}return Ie(t,[{key:"bgColor",get:function(){return this._bgColor},set:function(e){this._bgColor=e,this.doChangeStyle()}},{key:"doChangeStyle",value:function(){this.fireListeners(_.CHANGE_STYLE)}},{key:"clone",value:function(){return new t(this)}}],[{key:"EVENT_TYPE",get:function(){return _}},{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.EventTarget);r.BaseStyle=E},"./columns/style/BranchGraphStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BranchGraphStyle=void 0;var I=s("./columns/style/BaseStyle.js"),_,y=function(v,t){switch(t%3){case 0:return"#979797";case 1:return"#008fb5";case 2:return"#f1c109"}return"#979797"},E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),n=v.call(this,e),n._branchColors=e.branchColors||y,n._margin=e.margin||4,n._circleSize=e.circleSize||16,n._branchLineWidth=e.branchLineWidth||4,n._mergeStyle=e.mergeStyle==="straight"?"straight":"bezier",n}return Ie(t,[{key:"branchColors",get:function(){return this._branchColors},set:function(e){this._branchColors=e,this.doChangeStyle()}},{key:"margin",get:function(){return this._margin},set:function(e){this._margin=e,this.doChangeStyle()}},{key:"circleSize",get:function(){return this._circleSize},set:function(e){this._circleSize=e,this.doChangeStyle()}},{key:"branchLineWidth",get:function(){return this._branchLineWidth},set:function(e){this._branchLineWidth=e,this.doChangeStyle()}},{key:"mergeStyle",get:function(){return this._mergeStyle},set:function(e){this._mergeStyle=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new t)}}]),t}(I.BaseStyle);r.BranchGraphStyle=E},"./columns/style/ButtonStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ButtonStyle=void 0;var I=s("./columns/style/Style.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,t),n=v.call(this,(0,_.defaults)(e,{textAlign:"center"}));var o=e.buttonBgColor;return n._buttonBgColor=o,n}return Ie(t,[{key:"buttonBgColor",get:function(){return this._buttonBgColor},set:function(e){this._buttonBgColor=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.Style);r.ButtonStyle=E},"./columns/style/CheckStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckStyle=void 0;var I=s("./columns/style/StdBaseStyle.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,t),n=v.call(this,(0,_.defaults)(e,{textAlign:"center"}));var o=e.uncheckBgColor,a=e.checkBgColor,i=e.borderColor;return n._uncheckBgColor=o,n._checkBgColor=a,n._borderColor=i,n}return Ie(t,[{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(e){this._uncheckBgColor=e,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(e){this._checkBgColor=e,this.doChangeStyle()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.StdBaseStyle);r.CheckStyle=E},"./columns/style/IconStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.IconStyle=void 0;var I=s("./columns/style/Style.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),v.call(this,(0,_.defaults)(n,{textAlign:"center"}))}return Ie(t,[{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.Style);r.IconStyle=E},"./columns/style/ImageStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ImageStyle=void 0;var I=s("./columns/style/StdBaseStyle.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),n=v.call(this,(0,_.defaults)(e,{textAlign:"center"})),n._imageSizing=e.imageSizing,n._margin=e.margin||4,n}return Ie(t,[{key:"imageSizing",get:function(){return this._imageSizing},set:function(e){this._imageSizing=e,this.doChangeStyle()}},{key:"margin",get:function(){return this._margin},set:function(e){this._margin=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.StdBaseStyle);r.ImageStyle=E},"./columns/style/MenuStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.MenuStyle=void 0;var I=s("./columns/style/Style.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,v),t=w.call(this,n);var e=n.appearance;return t._appearance=e,t}return Ie(v,[{key:"appearance",get:function(){return this._appearance||"menulist-button"},set:function(n){this._appearance=n,this.doChangeStyle()}},{key:"clone",value:function(){return new v(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.Style);r.MenuStyle=y},"./columns/style/MultilineTextStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.MultilineTextStyle=void 0;var I=s("./columns/style/Style.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),n=v.call(this,(0,_.defaults)(e,{textBaseline:"top"})),n._lineHeight=e.lineHeight||"1em",n._autoWrapText=e.autoWrapText||!1,n._lineClamp=e.lineClamp,n}return Ie(t,[{key:"clone",value:function(){return new t(this)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight=e,this.doChangeStyle()}},{key:"lineClamp",get:function(){return this._lineClamp},set:function(e){this._lineClamp=e,this.doChangeStyle()}},{key:"autoWrapText",get:function(){return this._autoWrapText},set:function(e){this._autoWrapText=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.Style);r.MultilineTextStyle=E},"./columns/style/NumberStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.NumberStyle=void 0;var I=s("./columns/style/Style.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),v.call(this,(0,_.defaults)(n,{textAlign:"right"}))}return Ie(t,[{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.Style);r.NumberStyle=E},"./columns/style/PercentCompleteBarStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.PercentCompleteBarStyle=void 0;var I=s("./columns/style/Style.js"),_,y=function(v){return v>80?"#20a8d8":v>50?"#4dbd74":v>20?"#ffc107":"#f86c6b"},E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),n=v.call(this,e),n._barColor=e.barColor||y,n._barBgColor=e.barBgColor||"#f0f3f5",n._barHeight=e.barHeight||3,n}return Ie(t,[{key:"barColor",get:function(){return this._barColor},set:function(e){this._barColor=e,this.doChangeStyle()}},{key:"barBgColor",get:function(){return this._barBgColor},set:function(e){this._barBgColor=e,this.doChangeStyle()}},{key:"barHeight",get:function(){return this._barHeight},set:function(e){this._barHeight=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new t)}}]),t}(I.Style);r.PercentCompleteBarStyle=E},"./columns/style/RadioStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.RadioStyle=void 0;var I=s("./columns/style/StdBaseStyle.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,t),n=v.call(this,(0,_.defaults)(e,{textAlign:"center"}));var o=e.checkColor,a=e.uncheckBorderColor,i=e.checkBorderColor,l=e.uncheckBgColor,u=e.checkBgColor;return n._checkColor=o,n._uncheckBorderColor=a,n._checkBorderColor=i,n._uncheckBgColor=l,n._checkBgColor=u,n}return Ie(t,[{key:"checkColor",get:function(){return this._checkColor},set:function(e){this._checkColor=e,this.doChangeStyle()}},{key:"uncheckBorderColor",get:function(){return this._uncheckBorderColor},set:function(e){this._uncheckBorderColor=e,this.doChangeStyle()}},{key:"checkBorderColor",get:function(){return this._checkBorderColor},set:function(e){this._checkBorderColor=e,this.doChangeStyle()}},{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(e){this._uncheckBgColor=e,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(e){this._checkBgColor=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.StdBaseStyle);r.RadioStyle=E},"./columns/style/StdBaseStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.StdBaseStyle=void 0;var I=s("./columns/style/BaseStyle.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,v),t=w.call(this,n),t._textAlign=n.textAlign||"left",t._textBaseline=n.textBaseline||"middle",t}return Ie(v,[{key:"textAlign",get:function(){return this._textAlign},set:function(n){this._textAlign=n,this.doChangeStyle()}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(n){this._textBaseline=n,this.doChangeStyle()}},{key:"clone",value:function(){return new v(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.BaseStyle);r.StdBaseStyle=y},"./columns/style/Style.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Style=void 0;var I=s("./columns/style/StdBaseStyle.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,v),t=w.call(this,n),t._color=n.color,t._font=n.font,t._padding=n.padding,t._textOverflow=n.textOverflow||"clip",t}return Ie(v,[{key:"color",get:function(){return this._color},set:function(n){this._color=n,this.doChangeStyle()}},{key:"font",get:function(){return this._font},set:function(n){this._font=n,this.doChangeStyle()}},{key:"padding",get:function(){return this._padding},set:function(n){this._padding=n,this.doChangeStyle()}},{key:"textOverflow",get:function(){return this._textOverflow},set:function(n){this._textOverflow=n,this.doChangeStyle()}},{key:"clone",value:function(){return new v(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.StdBaseStyle);r.Style=y},"./columns/type.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.of=r.MultilineTextColumn=r.MenuColumn=r.BranchGraphColumn=r.IconColumn=r.PercentCompleteBarColumn=r.ImageColumn=r.ButtonColumn=r.RadioColumn=r.CheckColumn=r.NumberColumn=r.Column=void 0;var I=s("./columns/type/BranchGraphColumn.js");Object.defineProperty(r,"BranchGraphColumn",{enumerable:!0,get:function(){return I.BranchGraphColumn}});var _=s("./columns/type/ButtonColumn.js");Object.defineProperty(r,"ButtonColumn",{enumerable:!0,get:function(){return _.ButtonColumn}});var y=s("./columns/type/CheckColumn.js");Object.defineProperty(r,"CheckColumn",{enumerable:!0,get:function(){return y.CheckColumn}});var E=s("./columns/type/Column.js");Object.defineProperty(r,"Column",{enumerable:!0,get:function(){return E.Column}});var w=s("./columns/type/IconColumn.js");Object.defineProperty(r,"IconColumn",{enumerable:!0,get:function(){return w.IconColumn}});var v=s("./columns/type/ImageColumn.js");Object.defineProperty(r,"ImageColumn",{enumerable:!0,get:function(){return v.ImageColumn}});var t=s("./columns/type/MenuColumn.js");Object.defineProperty(r,"MenuColumn",{enumerable:!0,get:function(){return t.MenuColumn}});var n=s("./columns/type/MultilineTextColumn.js");Object.defineProperty(r,"MultilineTextColumn",{enumerable:!0,get:function(){return n.MultilineTextColumn}});var e=s("./columns/type/NumberColumn.js");Object.defineProperty(r,"NumberColumn",{enumerable:!0,get:function(){return e.NumberColumn}});var o=s("./columns/type/PercentCompleteBarColumn.js");Object.defineProperty(r,"PercentCompleteBarColumn",{enumerable:!0,get:function(){return o.PercentCompleteBarColumn}});var a=s("./columns/type/RadioColumn.js");Object.defineProperty(r,"RadioColumn",{enumerable:!0,get:function(){return a.RadioColumn}});var i={DEFAULT:new E.Column,NUMBER:new e.NumberColumn,CHECK:new y.CheckColumn,RADIO:new a.RadioColumn,BUTTON:new _.ButtonColumn,IMAGE:new v.ImageColumn,MULTILINETEXT:new n.MultilineTextColumn};function l(u){if(u)if(typeof u=="string"){var f=u.toUpperCase();return i[f]||l(null)}else return u;else return i.DEFAULT}r.of=l},"./columns/type/BaseColumn.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(m,d,C,p){p===void 0&&(p=C),Object.defineProperty(m,p,{enumerable:!0,get:function(){return d[C]}})}:function(m,d,C,p){p===void 0&&(p=C),m[p]=d[C]}),_=this&&this.__setModuleDefault||(Object.create?function(m,d){Object.defineProperty(m,"default",{enumerable:!0,value:d})}:function(m,d){m.default=d}),y=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var d={};if(m!=null)for(var C in m)C!=="default"&&Object.prototype.hasOwnProperty.call(m,C)&&I(d,m,C);return _(d,m),d};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseColumn=void 0;var E=y(s("./columns/style.js")),w=s("./internal/utils.js"),v=s("./columns/style/BaseStyle.js"),t=s("./internal/animate.js"),n=s("./internal/symbolManager.js"),e=w.obj.setReadonly,o=(0,n.getColumnFadeinStateId)();function a(m,d){return m.fadeinWhenCallbackInPromise!=null?m.fadeinWhenCallbackInPromise:!!d.configure("fadeinWhenCallbackInPromise")}function i(m){var d=m[o];return d||(d={cells:{}},e(m,o,d)),d}function l(m,d,C,p,B,j){return function(g){var L=i(m),G="".concat(C,":").concat(d);g===1?delete L.cells[G]:L.cells[G]={opacity:g},j(),B();var M=L.cells[G];if(M){var K=p.getContext();K.globalAlpha=1-M.opacity;try{j()}finally{K.globalAlpha=1}}}}var u={animate:function(d,C,p,B,j,g){var L=i(d),G=[l(d,C,p,B,j,g)];L.activeFadeins=G,(0,t.animate)(500,function(M){G.forEach(function(K){return K(M)}),M===1&&delete L.activeFadeins})},margeAnimate:function(d,C,p,B,j,g){var L=i(d);L.activeFadeins?L.activeFadeins.push(l(d,C,p,B,j,g)):j()}},f=function(){function m(d){fe(this,m),this.onDrawCell=this.onDrawCell.bind(this),this._fadeinWhenCallbackInPromise=d==null?void 0:d.fadeinWhenCallbackInPromise}return Ie(m,[{key:"fadeinWhenCallbackInPromise",get:function(){return this._fadeinWhenCallbackInPromise}},{key:"StyleClass",get:function(){return v.BaseStyle}},{key:"onDrawCell",value:function(C,p,B,j){var g=this,L,G=p.style,M=p.getRecord,K=p.drawCellBase,J=j.getGridCanvasHelper();K();var ae=M(),ce;if((0,w.isPromise)(ae))ce=ae;else if((0,w.isPromise)(C))ce=C;else{var re=p.getMessage();(0,w.isPromise)(re)&&(ce=re)}if(ce){var Ee=Date.now();return Promise.all([ae,C,ce.then(function(){return C}).then(function(){return p.getMessage()})]).then(function(Me){var xe=Me[0],V=Me[1],S=Me[2],H=B.toCurrentContext(),$=H.getDrawRect();if(!!$){var k=Date.now()-Ee,h=function(){var ue=B.toCurrentContext(),me=ue.getDrawRect();if(!!me){var _e=E.of(G,xe,g.StyleClass);g.drawInternal(g.convertInternal(V),ue,_e,J,j,p),g.drawMessageInternal(S,ue,_e,J,j,p)}};if(!a(g,j))h();else{var R=B.col,P=B.row;k<80?u.margeAnimate(j,R,P,B,h,K):u.animate(j,R,P,B,h,K)}}})}else{var $e=E.of(G,ae,this.StyleClass);this.drawInternal(this.convertInternal(C),B,$e,J,j,p),this.drawMessageInternal(p.getMessage(),B,$e,J,j,p);var Ae=B.col,Je=B.row,ye="".concat(Ae,":").concat(Je),Pe=(L=j[o])===null||L===void 0?void 0:L.cells[ye];if(Pe){var ve=B.getContext();ve.globalAlpha=1-Pe.opacity;try{K()}finally{ve.globalAlpha=1}}return}}},{key:"convertInternal",value:function(C){return C!=null?C:""}},{key:"drawMessageInternal",value:function(C,p,B,j,g,L){L.messageHandler.drawCellMessage(C,p,B,j,g,L)}},{key:"bindGridEvent",value:function(C,p){return[]}},{key:"getCopyCellValue",value:function(C,p,B){return C}}]),m}();r.BaseColumn=f},"./columns/type/BranchGraphColumn.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BranchGraphColumn=void 0;var I=s("./internal/utils.js"),_=s("./columns/type/BaseColumn.js"),y=s("./columns/style/BranchGraphStyle.js"),E=s("./internal/symbolManager.js"),w=(0,E.getBranchGraphColumnStateId)();function v(p,B,j){for(var g=p.dataSource,L=[],G,M=function(ae){var ce=g.getField(ae,B);if((0,I.isPromise)(ce)){var re=L.length;L.push(void 0),G?G=G.then(function(){return ce}).then(function(Ee){L[re]=Ee}):G=ce.then(function(Ee){L[re]=Ee})}else L.push(ce)},K=0;K<g.length;K++)M(K);G?G.then(function(){return j(L)}):j(L)}var t=function p(B){var j=B.fromIndex,g=B.toIndex,L=B.colorIndex,G=B.point;fe(this,p),this.fromIndex=j,this.toIndex=g,this.colorIndex=L,this.point=G},n=function(){function p(B){var j=B.index,g=B.commit,L=g===void 0?!1:g,G=B.lines,M=G===void 0?[]:G,K=B.tag;fe(this,p),this.index=j,this.commit=L,this.lines=M,this.tag=K}return Ie(p,null,[{key:"mergeLines",value:function(j){var g=j.filter(function(M){return M.fromIndex!=null&&M.toIndex!=null}),L=j.filter(function(M){return M.fromIndex!=null&&M.toIndex==null}),G=j.filter(function(M){return M.fromIndex==null&&M.toIndex!=null});return L.forEach(function(M){for(var K=0;K<G.length;K++){var J=G[K];if(!J.point&&M.colorIndex===J.colorIndex){M.toIndex=J.toIndex,G.splice(K,1);break}}g.push(M)}),g.concat(G)}},{key:"merge",value:function(j,g){return j?new p({index:j.index,commit:j.commit||g.commit,lines:p.mergeLines(j.lines.concat(g.lines)),tag:j.tag||g.tag}):g}}]),p}();function e(p,B){for(var j=ze(p).reverse(),g=0;g<j.length;g++){var L=j[g][B];if(L){L.lines=n.mergeLines(L.lines.concat([new t({toIndex:B,colorIndex:B})]));for(var G=0;G<g;G++){var M=j[G];M[B]=new n({index:B,lines:[new t({fromIndex:B,toIndex:B,colorIndex:B})]})}return!0}}return!1}function o(p,B,j){var g=p.timeline,L=p.branches,G=B!=null?L.indexOf(B):-1,M=L.indexOf(j);M<0&&(M=L.length,L.push(j));function K(){for(var Je=g.length-1;Je>=0;Je--){var ye=g[Je],Pe=ye[G];if(Pe&&Pe.commit)return Je}return-1}if(G<0)return new n({index:M});var J=K();if(J===-1)return null;var ae=J+1,ce=new n({index:M,lines:[new t({fromIndex:G,colorIndex:M})]}),re,Ee=null;if(ae<g.length){var $e=g[ae];re=$e[M]=n.merge($e[M],ce)}else re=ce,Ee=ce;var Ae=g[J][G];return Ae.lines=n.mergeLines(Ae.lines.concat([new t({toIndex:M,colorIndex:M,point:re})])),Ee}function a(p,B){var j=p.timeline,g=p.branches,L=g.indexOf(B);if(L<0)return null;var G=new n({index:L,commit:!0});return e(j,L)&&(G.lines=n.mergeLines(G.lines.concat([new t({fromIndex:L,colorIndex:L})]))),G}function i(p,B,j){var g=p.branches,L=g.indexOf(B);return L<0&&(L=g.length,g.push(B)),new n({index:L,tag:j})}function l(p,B,j){var g=p.timeline,L=p.branches,G=L.indexOf(B),M=L.indexOf(j);if(M<0||G<0)return new n({index:M,commit:!0});var K=new n({index:M,commit:!0,lines:[new t({fromIndex:G,colorIndex:G}),new t({fromIndex:M,colorIndex:M})]}),J=ze(g),ae=J.pop();return ae&&(ae[G]=n.merge(ae[G],new n({index:M,lines:[new t({toIndex:M,colorIndex:G})]}))),e(J,G)&&ae&&(ae[G].lines=n.mergeLines(ae[G].lines.concat([new t({fromIndex:G,colorIndex:G})]))),e(g,M),K}function u(p,B){var j=p.timeline,g=[],L=Array.isArray(B)?B:[B];L.forEach(function(G){if(!!G){var M;if(G.command==="branch"){var K=I.obj.isObject(G.branch)?G.branch.from:null,J=I.obj.isObject(G.branch)?G.branch.to:G.branch;M=o(p,K,J)}else if(G.command==="commit"){var ae=G.branch;M=a(p,ae)}else if(G.command==="merge"){var ce=G.branch,re=ce.from,Ee=ce.to;M=l(p,re,Ee)}else if(G.command==="tag"){var $e=G.branch,Ae=G.tag;M=i(p,$e,Ae)}M&&M.index>-1&&(g[M.index]=n.merge(g[M.index],M))}}),j.push(g)}function f(p,B,j){var g={branches:[],timeline:[]};return v(B,j,function(L){p!=="top"&&(L=ze(L).reverse()),L.forEach(function(G){u(g,G)})}),g}function m(p,B,j,g,L,G){var M=Math.max(j/L.length+1,5);G.forEach(function(ae){ae.forEach(function(ce,re){if(!(re<=0)&&ce.tag){var Ee=p.measureText(ce.tag).width;M*re+g*2+4+Ee>j&&(M=Math.max((j-g*2-4-Ee)/re,5))}})});var K=[],J=B;return L.forEach(function(){K.push(Math.ceil(J+g)),J+=M}),K}function d(p,B,j,g,L,G,M,K,J){var ae=K.branchXPoints,ce=K.branchColors,re=K.branchLineWidth,Ee=K.mergeStyle,$e=J.col,Ae=J.row,Je=J.branches;if(L!=null||G!=null){if(B.strokeStyle=(0,I.getOrApply)(ce,Je[M],M),B.lineWidth=re,B.lineCap="round",B.beginPath(),L!=null){var ye=ae[L],Pe=p.getCellRelativeRect($e,Ae-1),ve=Pe.top+Pe.height/2;B.moveTo(ye,ve),Ee==="bezier"?B.bezierCurveTo(ye,(g+ve)/2,j,(g+ve)/2,j,g):B.lineTo(j,g)}else B.moveTo(j,g);if(G!=null){var Me=ae[G],xe=p.getCellRelativeRect($e,Ae+1),V=xe.top+xe.height/2;Ee==="bezier"?B.bezierCurveTo(j,(g+V)/2,Me,(g+V)/2,Me,V):B.lineTo(Me,V)}B.stroke()}}var C=function(p){Ce(j,p);var B=Be(j);function j(){var g,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,j),g=B.call(this,L),g._start=L.start||"bottom",g._cache=L.cache!=null?L.cache:!1,g}return Ie(j,[{key:"StyleClass",get:function(){return y.BranchGraphStyle}},{key:"clearCache",value:function(L){delete L[w]}},{key:"onDrawCell",value:function(L,G,M,K){if(this._cache){var J=K[w]||(K[w]=new Map),ae=M.col,ce=M.row,re=K.getField(ae,ce);J.has(re)||J.set(re,f(this._start,K,re))}return ie(Ue(j.prototype),"onDrawCell",this).call(this,L,G,M,K)}},{key:"clone",value:function(){return new j(this)}},{key:"drawInternal",value:function(L,G,M,K,J,ae){var ce=ae.drawCellBase,re,Ee,$e=G.col,Ae=G.row,Je=J.getField($e,Ae),ye=(Ee=this._cache?(re=J[w])===null||re===void 0?void 0:re.get(Je):null)!==null&&Ee!==void 0?Ee:f(this._start,J,Je),Pe=ye.timeline,ve=ye.branches,Me=this._start!=="top"?{upLineIndexKey:"toIndex",downLineIndexKey:"fromIndex"}:{upLineIndexKey:"fromIndex",downLineIndexKey:"toIndex"},xe=Me.upLineIndexKey,V=Me.downLineIndexKey,S=this._start!=="top"?Pe[Pe.length-(Ae-J.frozenRowCount)-1]:Pe[Ae-J.frozenRowCount],H=M.branchColors,$=M.branchLineWidth,k=M.circleSize,h=M.mergeStyle,R=M.margin,P=M.bgColor;P&&ce({bgColor:P});var Q=G.getRect(),ue=k/2,me=Q.width-R*2;K.drawWithClip(G,function(_e){_e.textAlign="left",_e.textBaseline="middle";var Se=m(_e,Q.left+R,me,ue,ve,Pe),Re=Q.top+Q.height/2;S.map(function(Oe,ke){return Oe?Oe.lines.map(function(Ke){return{colorIndex:Ke.colorIndex,upLineIndex:Ke[xe],downLineIndex:Ke[V],pointIndex:ke}}):[]}).reduce(function(Oe,ke){return Oe.concat(ke)},[]).sort(function(Oe,ke){return ke.colorIndex-Oe.colorIndex}).forEach(function(Oe){var ke=Se[Oe.pointIndex];d(J,_e,ke,Re,Oe.upLineIndex,Oe.downLineIndex,Oe.colorIndex,{margin:R,branchXPoints:Se,branchLineWidth:$,branchColors:H,mergeStyle:h},{width:me,col:$e,row:Ae,branches:ve})}),S.forEach(function(Oe,ke){if(Oe&&Oe.commit){var Ke=Se[ke];_e.fillStyle=(0,I.getOrApply)(H,ve[ke],ke),_e.beginPath(),_e.arc(Ke,Re,ue,0,Math.PI*2,!0),_e.fill(),_e.closePath()}}),S.forEach(function(Oe,ke){Oe&&Oe.tag&&(_e.fillStyle=(0,I.getOrApply)(H,ve[ke],ke),_e.fillText(Oe.tag,Se[ke]+ue+4,Re))})})}}]),j}(_.BaseColumn);r.BranchGraphColumn=C},"./columns/type/ButtonColumn.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(a,i,l,u){u===void 0&&(u=l),Object.defineProperty(a,u,{enumerable:!0,get:function(){return i[l]}})}:function(a,i,l,u){u===void 0&&(u=l),a[u]=i[l]}),_=this&&this.__setModuleDefault||(Object.create?function(a,i){Object.defineProperty(a,"default",{enumerable:!0,value:i})}:function(a,i){a.default=i}),y=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var i={};if(a!=null)for(var l in a)l!=="default"&&Object.prototype.hasOwnProperty.call(a,l)&&I(i,a,l);return _(i,a),i};Object.defineProperty(r,"__esModule",{value:!0}),r.ButtonColumn=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./columns/style/ButtonStyle.js"),v=s("./columns/type/Column.js"),t=s("./internal/utils.js"),n=s("./internal/symbolManager.js"),e=(0,n.getButtonColumnStateId)(),o=function(a){Ce(l,a);var i=Be(l);function l(){var u,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,l),u=i.call(this,f),u._caption=f.caption,u}return Ie(l,[{key:"StyleClass",get:function(){return w.ButtonStyle}},{key:"caption",get:function(){return this._caption}},{key:"withCaption",value:function(f){var m=this.clone();return m._caption=f,m}},{key:"clone",value:function(){return new l(this)}},{key:"convertInternal",value:function(f){return this._caption||ie(Ue(l.prototype),"convertInternal",this).call(this,f)}},{key:"getCopyCellValue",value:function(f){return this._caption||f}},{key:"drawInternal",value:function(f,m,d,C,p,B){var j=B.drawCellBase,g=B.getIcon,L=d.textAlign,G=d.textBaseline,M=d.bgColor,K=d.color,J=d.buttonBgColor,ae=d.font,ce=d.padding,re=d.textOverflow;M&&j({bgColor:M});var Ee=String(f);C.testFontLoad(ae,Ee,m);var $e=m.col,Ae=m.row,Je=p.getCellRange($e,Ae),ye=!1,Pe=p[e];if(Pe)if(Pe.mouseActiveCell&&(0,t.cellInRange)(Je,Pe.mouseActiveCell.col,Pe.mouseActiveCell.row))ye=!0;else{var ve=m.getSelection(),Me=ve.select;(0,t.cellInRange)(Je,Me.col,Me.row)&&(ye=!0)}E.loadIcons(g(),m,C,function(xe,V){C.button(Ee,V,{textAlign:L,textBaseline:G,bgColor:J,color:K,font:ae,padding:ce,shadow:ye?{color:"rgba(0, 0, 0, 0.48)",blur:6,offsetY:3}:{},textOverflow:re,icons:xe})})}}]),l}(v.Column);r.ButtonColumn=o},"./columns/type/CheckColumn.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckColumn=void 0;var I=s("./columns/type/BaseColumn.js"),_=s("./columns/style/CheckStyle.js"),y=s("./internal/symbolManager.js"),E=s("./columns/utils/index.js"),w=(0,y.getCheckColumnStateId)(),v=function(t){Ce(e,t);var n=Be(e);function e(){return fe(this,e),n.apply(this,arguments)}return Ie(e,[{key:"StyleClass",get:function(){return _.CheckStyle}},{key:"clone",value:function(){return new e(this)}},{key:"convertInternal",value:function(a){return(0,E.toBoolean)(a)}},{key:"drawInternal",value:function(a,i,l,u,f,m){var d=m.drawCellBase,C,p=l.textAlign,B=l.textBaseline,j=l.borderColor,g=l.checkBgColor,L=l.uncheckBgColor,G=l.bgColor;G&&d({bgColor:G});var M=i.col,K=i.row,J=f.getCellRange(M,K),ae="".concat(J.start.col,":").concat(J.start.row),ce=(C=f[w])===null||C===void 0?void 0:C.elapsed[ae],re={textAlign:p,textBaseline:B,borderColor:j,checkBgColor:g,uncheckBgColor:L};ce!=null&&(re.animElapsedTime=ce),u.checkbox(a,i,re)}}]),e}(I.BaseColumn);r.CheckColumn=v},"./columns/type/Column.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(n,e,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return e[o]}})}:function(n,e,o,a){a===void 0&&(a=o),n[a]=e[o]}),_=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&I(e,n,o);return _(e,n),e};Object.defineProperty(r,"__esModule",{value:!0}),r.Column=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./columns/type/BaseColumn.js"),v=s("./columns/style/Style.js"),t=function(n){Ce(o,n);var e=Be(o);function o(){return fe(this,o),e.apply(this,arguments)}return Ie(o,[{key:"StyleClass",get:function(){return v.Style}},{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(i,l,u,f,m,d){var C=d.drawCellBase,p=d.getIcon,B=u.textAlign,j=u.textBaseline,g=u.color,L=u.font,G=u.bgColor,M=u.padding,K=u.textOverflow;G&&C({bgColor:G});var J=String(i);f.testFontLoad(L,J,l),E.loadIcons(p(),l,f,function(ae,ce){f.text(J,ce,{textAlign:B,textBaseline:j,color:g,font:L,padding:M,textOverflow:K,icons:ae})})}}]),o}(w.BaseColumn);r.Column=t},"./columns/type/IconColumn.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(e,o,a,i){i===void 0&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return o[a]}})}:function(e,o,a,i){i===void 0&&(i=a),e[i]=o[a]}),_=this&&this.__setModuleDefault||(Object.create?function(e,o){Object.defineProperty(e,"default",{enumerable:!0,value:o})}:function(e,o){e.default=o}),y=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&I(o,e,a);return _(o,e),o};Object.defineProperty(r,"__esModule",{value:!0}),r.IconColumn=void 0;var E=y(s("./internal/icons.js")),w=s("./columns/type/Column.js"),v=s("./columns/style/IconStyle.js");function t(e,o){o===1/0&&(o=0);for(var a=[],i=0;i<o;i++)a.push(e);return a}var n=function(e){Ce(a,e);var o=Be(a);function a(){var i,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,a),i=o.call(this,l),i._tagName=l.tagName||"i",i._className=l.className,i._content=l.content,i._name=l.name,i._iconWidth=l.iconWidth,i}return Ie(a,[{key:"StyleClass",get:function(){return v.IconStyle}},{key:"clone",value:function(){return new a(this)}},{key:"drawInternal",value:function(l,u,f,m,d,C){var p=Number(l);if(isNaN(p))C.getIcon=function(){return null};else{var B={};E.iconPropKeys.forEach(function(j){B[j]=f[j]}),B.className=this._className,B.tagName=this._tagName,this._content&&(B.content=this._content),B.name=this._name,this._iconWidth&&(B.width=this._iconWidth),C.getIcon=function(){return t(B,p)}}ie(Ue(a.prototype),"drawInternal",this).call(this,"",u,f,m,d,C)}}]),a}(w.Column);r.IconColumn=n},"./columns/type/ImageColumn.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ImageColumn=void 0;var I=s("./columns/type/BaseColumn.js"),_=s("./columns/style/ImageStyle.js"),y=s("./internal/canvases.js"),E=s("./internal/imgs.js"),w=50;function v(e){return(0,E.getCacheOrLoad)("ImageColumn",w,e)}function t(e,o,a,i){var l=e,u=o;return l>a&&(l=a,u=l*o/e),u>i&&(u=i,l=u*e/o),{width:l,height:u}}var n=function(e){Ce(a,e);var o=Be(a);function a(){return fe(this,a),o.apply(this,arguments)}return Ie(a,[{key:"StyleClass",get:function(){return _.ImageStyle}},{key:"onDrawCell",value:function(l,u,f,m){return ie(Ue(a.prototype),"onDrawCell",this).call(this,v(l),u,f,m)}},{key:"clone",value:function(){return new a(this)}},{key:"drawInternal",value:function(l,u,f,m,d,C){var p=C.drawCellBase;if(l){var B=f.textAlign,j=f.textBaseline,g=f.margin,L=f.bgColor;L&&p({bgColor:L}),m.drawWithClip(u,function(G){G.textAlign=B,G.textBaseline=j;var M=u.getRect();if(f.imageSizing==="keep-aspect-ratio"){var K=t(l.width,l.height,M.width-g*2,M.height-g*2),J=K.width,ae=K.height,ce=(0,y.calcStartPosition)(G,M,J,ae,{offset:g});G.drawImage(l,0,0,l.width,l.height,ce.x,ce.y,J,ae)}else G.drawImage(l,0,0,l.width,l.height,M.left+g,M.top+g,M.width-g*2,M.height-g*2)})}}}]),a}(I.BaseColumn);r.ImageColumn=n},"./columns/type/MenuColumn.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(e,o,a,i){i===void 0&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return o[a]}})}:function(e,o,a,i){i===void 0&&(i=a),e[i]=o[a]}),_=this&&this.__setModuleDefault||(Object.create?function(e,o){Object.defineProperty(e,"default",{enumerable:!0,value:o})}:function(e,o){e.default=o}),y=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&I(o,e,a);return _(o,e),o};Object.defineProperty(r,"__esModule",{value:!0}),r.MenuColumn=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./columns/type/BaseColumn.js"),v=s("./columns/style/MenuStyle.js"),t=s("./internal/menu-items.js"),n=function(e){Ce(a,e);var o=Be(a);function a(){var i,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,a),i=o.call(this,l),i._options=(0,t.normalize)(l.options),i}return Ie(a,[{key:"StyleClass",get:function(){return v.MenuStyle}},{key:"clone",value:function(){return new a(this)}},{key:"options",get:function(){return this._options}},{key:"withOptions",value:function(l){var u=this.clone();return u._options=(0,t.normalize)(l),u}},{key:"drawInternal",value:function(l,u,f,m,d,C){var p=C.drawCellBase,B=C.getIcon,j=f.textAlign,g=f.textBaseline,L=f.font,G=f.bgColor,M=f.padding,K=f.textOverflow,J=f.appearance,ae=f.color;G&&p({bgColor:G});var ce=String(this._convertInternal(l));m.testFontLoad(L,ce,u),E.loadIcons(B(),u,m,function(re,Ee){var $e=m.toBoxPixelArray(M||0,Ee,L),Ae=$e.slice(0);Ae[1]+=26;var Je=$e.slice(0);Je[1]+=8,ae==null&&(l==null||l==="")&&(ae="rgba(0, 0, 0, .38)"),m.text(ce,Ee,{textAlign:j,textBaseline:g,color:ae,font:L,padding:Ae,textOverflow:K,icons:re}),J==="menulist-button"?m.text("",Ee,{textAlign:"right",textBaseline:g,color:ae,font:L,icons:[{path:"M0 2 5 7 10 2z",width:10,color:"rgba(0, 0, 0, .54)"}],padding:Je}):J!=="none"&&console.warn("unsupported appearance:".concat(J))})}},{key:"convertInternal",value:function(l){return l}},{key:"_convertInternal",value:function(l){for(var u=this._options,f=0;f<u.length;f++){var m=u[f];if(m.value===l){l=m.label;break}}return ie(Ue(a.prototype),"convertInternal",this).call(this,l)}},{key:"getCopyCellValue",value:function(l){return this._convertInternal(l)}}]),a}(w.BaseColumn);r.MenuColumn=n},"./columns/type/MultilineTextColumn.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(n,e,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return e[o]}})}:function(n,e,o,a){a===void 0&&(a=o),n[a]=e[o]}),_=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&I(e,n,o);return _(e,n),e};Object.defineProperty(r,"__esModule",{value:!0}),r.MultilineTextColumn=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./columns/type/BaseColumn.js"),v=s("./columns/style/MultilineTextStyle.js"),t=function(n){Ce(o,n);var e=Be(o);function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,o),e.call(this,a)}return Ie(o,[{key:"StyleClass",get:function(){return v.MultilineTextStyle}},{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(i,l,u,f,m,d){var C=d.drawCellBase,p=d.getIcon,B=u.textAlign,j=u.textBaseline,g=u.color,L=u.font,G=u.bgColor,M=u.padding,K=u.lineHeight,J=u.autoWrapText,ae=u.lineClamp,ce=u.textOverflow;G&&C({bgColor:G});var re=String(i),Ee=re.replace(/\r?\n/g,`
`).replace(/\r/g,`
`).split(`
`);f.testFontLoad(L,re,l),E.loadIcons(p(),l,f,function($e,Ae){f.multilineText(Ee,Ae,{textAlign:B,textBaseline:j,color:g,font:L,padding:M,lineHeight:K,autoWrapText:J,lineClamp:ae,textOverflow:ce,icons:$e})})}}]),o}(w.BaseColumn);r.MultilineTextColumn=t},"./columns/type/NumberColumn.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.NumberColumn=void 0;var I=s("./columns/type/Column.js"),_=s("./columns/style/NumberStyle.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,t),n=v.call(this,e),n._format=e.format,n}return Ie(t,[{key:"StyleClass",get:function(){return _.NumberStyle}},{key:"clone",value:function(){return new t(this)}},{key:"format",get:function(){return this._format}},{key:"withFormat",value:function(e){var o=this.clone();return o._format=e,o}},{key:"convertInternal",value:function(e){var o=Number(e);if(isNaN(o))return String(ie(Ue(t.prototype),"convertInternal",this).call(this,e));var a=this._format||t.defaultFotmat;return a.format(o)}}],[{key:"defaultFotmat",get:function(){return y||(y=new Intl.NumberFormat)},set:function(e){y=e}}]),t}(I.Column);r.NumberColumn=E},"./columns/type/PercentCompleteBarColumn.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.PercentCompleteBarColumn=void 0;var I=s("./internal/utils.js"),_=s("./columns/type/Column.js"),y=s("./columns/style/PercentCompleteBarStyle.js"),E=2,w=function(v){Ce(n,v);var t=Be(n);function n(){var e,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,n),e=t.call(this,o),e._min=o.min||0,e._max=o.max||e._min+100,e._formatter=o.formatter||function(a){return a},e}return Ie(n,[{key:"StyleClass",get:function(){return y.PercentCompleteBarStyle}},{key:"clone",value:function(){return new n(this)}},{key:"drawInternal",value:function(o,a,i,l,u,f){var m=String(o);ie(Ue(n.prototype),"drawInternal",this).call(this,this._formatter(m),a,i,l,u,f);var d=i.barColor,C=i.barBgColor,p=i.barHeight;I.str.endsWith(m,"%")&&(m=m.slice(0,-1));var B=Number(m);if(!isNaN(B)){var j=B<this._min?0:B>this._max?1:(B-this._min)/(this._max-this._min);l.drawWithClip(a,function(g){var L=a.getRect(),G=L.width-E*2-1,M=L.bottom-E-p-1,K=L.left+E;g.fillStyle=(0,I.getOrApply)(C,j*100)||"#f0f3f5",g.beginPath(),g.rect(K,M,G,p),g.fill();var J=Math.min(G*j,G);g.fillStyle=(0,I.getOrApply)(d,j*100)||"#20a8d8",g.beginPath(),g.rect(K,M,J,p),g.fill()})}}}]),n}(_.Column);r.PercentCompleteBarColumn=w},"./columns/type/RadioColumn.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.RadioColumn=void 0;var I=s("./columns/type/BaseColumn.js"),_=s("./columns/style/RadioStyle.js"),y=s("./internal/symbolManager.js"),E=s("./columns/utils/index.js"),w=(0,y.getRadioColumnStateId)(),v=function(t){Ce(e,t);var n=Be(e);function e(){return fe(this,e),n.apply(this,arguments)}return Ie(e,[{key:"StyleClass",get:function(){return _.RadioStyle}},{key:"clone",value:function(){return new e(this)}},{key:"convertInternal",value:function(a){return(0,E.toBoolean)(a)}},{key:"drawInternal",value:function(a,i,l,u,f,m){var d=m.drawCellBase,C,p=l.textAlign,B=l.textBaseline,j=l.checkColor,g=l.uncheckBorderColor,L=l.checkBorderColor,G=l.uncheckBgColor,M=l.checkBgColor,K=l.bgColor;K&&d({bgColor:K});var J=i.col,ae=i.row,ce=f.getCellRange(J,ae),re="".concat(ce.start.col,":").concat(ce.start.row),Ee=(C=f[w])===null||C===void 0?void 0:C.elapsed[re],$e={textAlign:p,textBaseline:B,checkColor:j,uncheckBorderColor:g,checkBorderColor:L,uncheckBgColor:G,checkBgColor:M};Ee!=null&&($e.animElapsedTime=Ee),u.radioButton(a,i,$e)}}]),e}(I.BaseColumn);r.RadioColumn=v},"./columns/type/columnUtils.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(t,n,e,o){o===void 0&&(o=e),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,o){o===void 0&&(o=e),t[o]=n[e]}),_=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),y=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&I(n,t,e);return _(n,t),n};Object.defineProperty(r,"__esModule",{value:!0}),r.loadIcons=void 0;var E=y(s("./internal/icons.js")),w=s("./internal/utils.js");function v(t,n,e,o){var a=void 0;if(t)if((0,w.isPromise)(t))t.then(function(l){v(l,n.toCurrentContext(),e,o)});else{var i=E.toNormalizeArray(t);i.forEach(function(l){l.font&&l.content&&e.testFontLoad(l.font,l.content,n)}),a=i}o(a,n)}r.loadIcons=v},"./columns/utils/index.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.toBoolean=void 0;function I(_){if(typeof _=="string"){if(_==="false")return!1;if(_==="off")return!1;if(/^0+$/.exec(_))return!1}return Boolean(_)}r.toBoolean=I},"./core.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.EVENT_TYPE=r.DrawGrid=void 0;var I=s("./core/DrawGrid.js");Object.defineProperty(r,"DrawGrid",{enumerable:!0,get:function(){return I.DrawGrid}});var _=s("./core/DG_EVENT_TYPE.js");Object.defineProperty(r,"EVENT_TYPE",{enumerable:!0,get:function(){return _.DG_EVENT_TYPE}})},"./core/DG_EVENT_TYPE.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.DG_EVENT_TYPE=void 0,r.DG_EVENT_TYPE={CLICK_CELL:"click_cell",DBLCLICK_CELL:"dblclick_cell",DBLTAP_CELL:"dbltap_cell",MOUSEDOWN_CELL:"mousedown_cell",MOUSEUP_CELL:"mouseup_cell",SELECTED_CELL:"selected_cell",KEYDOWN:"keydown",MOUSEMOVE_CELL:"mousemove_cell",MOUSEENTER_CELL:"mouseenter_cell",MOUSELEAVE_CELL:"mouseleave_cell",MOUSEOVER_CELL:"mouseover_cell",MOUSEOUT_CELL:"mouseout_cell",CONTEXTMENU_CELL:"contextmenu_cell",INPUT_CELL:"input_cell",PASTE_CELL:"paste_cell",DELETE_CELL:"delete_cell",EDITABLEINPUT_CELL:"editableinput_cell",MODIFY_STATUS_EDITABLEINPUT_CELL:"modify_status_editableinput_cell",RESIZE_COLUMN:"resize_column",SCROLL:"scroll",FOCUS_GRID:"focus_grid",BLUR_GRID:"blur_grid"}},"./core/DrawGrid.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(D,de,q,Y){Y===void 0&&(Y=q),Object.defineProperty(D,Y,{enumerable:!0,get:function(){return de[q]}})}:function(D,de,q,Y){Y===void 0&&(Y=q),D[Y]=de[q]}),_=this&&this.__setModuleDefault||(Object.create?function(D,de){Object.defineProperty(D,"default",{enumerable:!0,value:de})}:function(D,de){D.default=de}),y=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var de={};if(D!=null)for(var q in D)q!=="default"&&Object.prototype.hasOwnProperty.call(D,q)&&I(de,D,q);return _(de,D),de};Object.defineProperty(r,"__esModule",{value:!0}),r.DrawGrid=void 0;var E=y(s("./internal/calc.js")),w=y(s("./internal/hiDPI.js")),v=y(s("./internal/style.js")),t=s("./internal/utils.js"),n=s("./internal/paste-utils.js"),e=s("./core/DG_EVENT_TYPE.js"),o=s("./internal/EventHandler.js"),a=s("./core/EventTarget.js"),i=s("./internal/NumberMap.js"),l=s("./internal/Rect.js"),u=s("./internal/Scrollable.js"),f=s("./internal/canvases.js"),m=s("./internal/symbolManager.js"),d=t.event,C=d.isTouchEvent,p=d.getMouseButtons,B=d.getKeyCode,j=d.cancel,g=(0,m.getProtectedSymbol)();function L(){var D=document.createElement("div");return D.classList.add("cheetah-grid"),D}var G=8,M=9,K=13,J=35,ae=36,ce=37,re=38,Ee=39,$e=40,Ae=46,Je=65,ye=67,Pe=86;function ve(D){navigator.vibrate&&C(D)&&navigator.vibrate(50)}function Me(D){var de=this,q=this.getTargetRowAtInternal(D);if(q!=null)return q;var Y=function(je,Te){for(var Ge=Te,tt=je;tt>=0;tt--){var nt=Tt.call(de,tt),Ne=Ge-nt;if(Ne<=D&&D<Ge)return{top:Ne,row:tt};Ge=Ne}return null},T=function(je,Te){for(var Ge=Te-Tt.call(de,je),tt=de[g].rowCount,nt=je;nt<tt;nt++){var Ne=Tt.call(de,nt),Qe=Ge+Ne;if(Ge<=D&&D<Qe)return{top:Ge,row:nt};Ge=Qe}return null},W=Math.min(Math.ceil(D/this[g].defaultRowHeight),this.rowCount-1),oe=Rt.call(this,0,W);return D>=oe?T(W,oe):Y(W,oe)}function xe(D,de){for(var q=0,Y=D[g].colCount,T=0;T<Y;T++){var W=yt(D,T),oe=q+W;if(oe>de)return{left:q,col:T};q=oe}return null}function V(D,de){if(!D[g].frozenRowCount)return null;for(var q=D[g].scroll.top,Y=D[g].frozenRowCount,T=0;T<Y;T++){var W=Tt.call(D,T),oe=q+W;if(oe>de)return{top:q,row:T};q=oe}return null}function S(D,de){if(!D[g].frozenColCount)return null;for(var q=D[g].scroll.left,Y=D[g].frozenColCount,T=0;T<Y;T++){var W=yt(D,T),oe=q+W;if(oe>de)return{left:q,col:T};q=oe}return null}function H(D){if(!D[g].frozenRowCount)return null;for(var de=D[g].scroll.top,q=0,Y=D[g].frozenRowCount,T=0;T<Y;T++)q+=Tt.call(D,T);return new l.Rect(D[g].scroll.left,de,D[g].canvas.width,q)}function $(D){if(!D[g].frozenColCount)return null;for(var de=D[g].scroll.left,q=0,Y=D[g].frozenColCount,T=0;T<Y;T++)q+=yt(D,T);return new l.Rect(de,D[g].scroll.top,q,D[g].canvas.height)}function k(D,de,q){return D[g].drawCells[q]?D[g].drawCells[q][de]:null}function h(D,de,q,Y){D[g].drawCells[q]||(D[g].drawCells[q]={}),D[g].drawCells[q][de]=Y}function R(D,de,q){!D[g].drawCells[q]||(delete D[g].drawCells[q][de],Object.keys(D[g].drawCells[q]).length===0&&delete D[g].drawCells[q])}function P(D,de,q,Y,T,W,oe,le,je,Te,Ge){var tt=this,nt=new l.Rect(q-le.left,W-le.top,Y,oe),Ne=l.Rect.bounds(Math.max(q,Te)-le.left,Math.max(W,je)-le.top,nt.right,nt.bottom);if(Ne.height>0&&Ne.width>0){D.save();try{var Qe=k(this,de,T);Qe&&Qe.cancel();var ft=new gt(de,T,D,nt,Ne,!!Qe,this[g].selection,Ge),ct=this.onDrawCell(de,T,ft);if((0,t.isPromise)(ct)){h(this,de,T,ft);var At=de;ft._delayMode(this,function(){R(tt,At,T)}),ct.then(function(){ft.terminate()})}}finally{D.restore()}}}function Q(D,de,q,Y,T,W,oe,le,je,Te,Ge){var tt=D[g].colCount,nt=function(Dt,F){if(Dt>=tt-1&&D[g].canvas.width>F-je.left){var ne=F-je.left;de.save(),de.beginPath(),de.fillStyle=D.underlayBackgroundColor||"#F6F6F6",de.rect(ne,oe-je.top,D[g].canvas.width-ne,le),de.fill(),de.restore()}},Ne=0;if(q){for(var Qe=q.left,ft=D[g].frozenColCount,ct=q.col;ct<ft;ct++){var At=yt(D,ct);if(P.call(D,de,ct,Qe,At,W,oe,le,je,Te,0,Ge),Qe+=At,T<=Qe){nt(ct,Qe);return}}Ne=Qe}for(var Ve=Y.left,Ze=Y.col;Ze<tt;Ze++){var et=yt(D,Ze);if(P.call(D,de,Ze,Ve,et,W,oe,le,je,Te,Ne,Ge),Ve+=et,T<=Ve){nt(Ze,Ve);return}}nt(tt-1,Ve)}function ue(){return this._getInitContext()}function me(D,de){var q=zt(D),Y=D[g].rowCount,T=ue.call(D),W=Me.call(D,Math.max(q.top,de.top))||{top:Rt.call(D,0,Y-1),row:Y},oe=xe(D,Math.max(q.left,de.left))||{left:pt(D,0,D[g].colCount-1),col:D[g].colCount},le=Math.min(q.bottom,de.bottom),je=Math.min(q.right,de.right),Te=V(D,Math.max(q.top,de.top)),Ge=S(D,Math.max(q.left,de.left)),tt=new Bn,nt=function(Dt,F){if(Dt>=Y-1&&D[g].canvas.height>F-q.top){var ne=F-q.top;T.save(),T.beginPath(),T.fillStyle=D.underlayBackgroundColor||"#F6F6F6",T.rect(0,ne,D[g].canvas.width,D[g].canvas.height-ne),T.fill(),T.restore()}},Ne=0;if(Te){for(var Qe=Te.top,ft=D[g].frozenRowCount,ct=Te.row;ct<ft;ct++){var At=Tt.call(D,ct);if(Q(D,T,Ge,oe,je,ct,Qe,At,q,0,tt),Qe+=At,le<=Qe){nt(ct,Qe),tt.draw(T);return}}Ne=Qe}for(var Ve=W.top,Ze=W.row;Ze<Y;Ze++){var et=Tt.call(D,Ze);if(Q(D,T,Ge,oe,je,Ze,Ve,et,q,Ne,tt),Ve+=et,le<=Ve){nt(Ze,Ve),tt.draw(T);return}}nt(Y-1,Ve),tt.draw(T)}function _e(D,de){return Math.round(E.toPx(de,D[g].calcWidthContext))}function Se(D,de,q){var Y=ke(D,de);return Math.max(Re(Y,q),0)}function Re(D,de){return D?D.min&&D.min>de?D.min:D.max&&D.max<de?D.max:de:de}function Oe(D,de){var q=D[g].colWidthsMap.get(de);return q||D.defaultColWidth}function ke(D,de){var q=D[g].colWidthsLimit[de];if(!q)return null;var Y={};return q.min&&(Y.min=_e(D,q.min),Y.minDef=q.min),q.max&&(Y.max=_e(D,q.max),Y.maxDef=q.max),Y}function Ke(D){return Boolean(D&&typeof D=="string"&&D.toLowerCase()==="auto")}function st(D){for(var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,q=D[g].calcWidthContext.full,Y=0,T=[],W=0,oe=[],le=0;le<D[g].colCount;le++){var je=Oe(D,le),Te=ke(D,le);if(Ke(je))Te&&(oe.push(Te),Te.min&&(Y+=Te.min)),W++;else{var Ge=je;if(Te){var tt=_e(D,Ge),nt=Re(Te,tt);tt!==nt&&(Ge="".concat(nt,"px")),Y+=nt}T.push(Ge)}if(de&&Y>q)return"0px"}if(oe.length&&T.length){var Ne=(q-_e(D,"calc(".concat(T.map(function(ct){return typeof ct=="number"?"".concat(ct,"px"):ct}).join(" + "),")")))/W;if(oe.forEach(function(ct){ct.min&&Ne<ct.min?(T.push(ct.minDef),W--):ct.max&&ct.max<Ne&&(T.push(ct.maxDef),W--)}),de&&W<=0)return"".concat(Ne,"px")}if(T.length){var Qe=[],ft=0;return T.forEach(function(ct){typeof ct=="number"?ft+=ct:Qe.push(ct)}),Qe.push("".concat(ft,"px")),"calc((100% - (".concat(Qe.join(" + "),")) / ").concat(W,")")}else return"".concat(100/W,"%")}function St(D,de){return Ke(de)?_e(D,st(D)):_e(D,de)}function yt(D,de){var q=Oe(D,de);return Se(D,de,St(D,q))}function Bt(D,de,q){D[g].colWidthsMap.put(de,q)}function Lt(D){for(var de=null,q=0;q<D[g].colCount;q++){var Y=Oe(D,q);Ke(Y)&&Bt(D,q,de||(de=st(D,!1)))}}function pt(D,de,q){var Y=St(D,D.defaultColWidth),T=q-de+1,W=Y*T;D[g].colWidthsMap.each(de,q,function(je,Te){W+=Se(D,Te,St(D,je))-Y});for(var oe=de;oe<=q;oe++)if(!D[g].colWidthsMap.has(oe)){var le=Se(D,oe,Y);le!==Y&&(W+=le-Y)}return W}function Tt(D){var de=this.getRowHeightInternal(D);if(de!=null)return de;var q=this[g].rowHeightsMap.get(D);return q||this[g].defaultRowHeight}function Mt(D,de,q){D[g].rowHeightsMap.put(de,q)}function Rt(D,de){var q=this,Y=this.getRowsHeightInternal(D,de);if(Y!=null)return Y;var T=de-D+1,W=this[g].defaultRowHeight*T;return this[g].rowHeightsMap.each(D,de,function(oe){W+=oe-q[g].defaultRowHeight}),W}function Nt(D){return pt(D,0,D[g].colCount-1)}function Ht(D){var de=this,q=this.getScrollHeightInternal(D);if(q!=null)return q;var Y=this[g].defaultRowHeight*this[g].rowCount;return this[g].rowHeightsMap.each(0,this[g].rowCount-1,function(T){Y+=T-de[g].defaultRowHeight}),Y}function Ut(D,de){var q=D[g].scroll.left,Y=D[g].scroll.top,T=D[g].scrollable.scrollLeft-q,W=D[g].scrollable.scrollTop-Y;D[g].scroll={left:D[g].scrollable.scrollLeft,top:D[g].scrollable.scrollTop};var oe=zt(D);if(Math.abs(T)>=oe.width||Math.abs(W)>=oe.height)me(D,oe);else{if(D[g].context.drawImage(D[g].canvas,-T,-W),T!==0){var le=oe.copy();if(T<0){if(le.width=-T,D[g].frozenColCount>0){var je=$(D);le.width+=je.width}}else T>0&&(le.left=le.right-T);me(D,le),T>0&&D[g].frozenColCount>0&&me(D,$(D))}if(W!==0){var Te=oe.copy();if(W<0){if(Te.height=-W,D[g].frozenRowCount>0){var Ge=H(D);Te.height+=Ge.height}}else W>0&&(Te.top=Te.bottom-W);me(D,Te),W>0&&D[g].frozenRowCount>0&&me(D,H(D))}}}function Wt(D){var de,q,Y,T=D.shiftKey,W=B(D),oe=T?this.selection.focus:this.selection.select;if(W===ce){if(D.ctrlKey||D.metaKey)tt(this,null,"W");else if(!Ne.call(this,"W"))return;j(D)}else if(W===re){if(D.ctrlKey||D.metaKey)tt(this,"N",null);else if(!nt.call(this,"N"))return;j(D)}else if(W===Ee){if(D.ctrlKey||D.metaKey)tt(this,null,"E");else if(!Ne.call(this,"E"))return;j(D)}else if(W===$e){if(D.ctrlKey||D.metaKey)tt(this,"S",null);else if(!nt.call(this,"S"))return;j(D)}else if(W===ae)D.ctrlKey||D.metaKey?tt(this,"N","W"):tt(this,null,"W"),j(D);else if(W===J)D.ctrlKey||D.metaKey?tt(this,"S","E"):tt(this,null,"E"),j(D);else if(((de=this.keyboardOptions)===null||de===void 0?void 0:de.moveCellOnTab)&&W===M){if(T){if(!Ne.call(this,"W",!1)){var le=this.getMoveUpRowByKeyDownInternal(oe);if(0>le)return;Ft.call(this,this.colCount-1,le,!1)}}else if(!Ne.call(this,"E",!1)){var je=this.getMoveDownRowByKeyDownInternal(oe);if(this.rowCount<=je)return;Ft.call(this,0,je,!1)}j(D)}else if(((q=this.keyboardOptions)===null||q===void 0?void 0:q.moveCellOnEnter)&&W===K){if(T){if(!nt.call(this,"N",!1)){var Te=this.getMoveLeftColByKeyDownInternal(oe);if(0>Te)return;Ft.call(this,Te,this.rowCount-1,!1)}}else if(!nt.call(this,"S",!1)){var Ge=this.getMoveRightColByKeyDownInternal(oe);if(this.colCount<=Ge)return;Ft.call(this,Ge,Math.min(this.frozenRowCount,this.rowCount-1),!1)}j(D)}else((Y=this.keyboardOptions)===null||Y===void 0?void 0:Y.selectAllOnCtrlA)&&W===Je&&(D.ctrlKey||D.metaKey)&&(this.selection.range={start:{col:0,row:0},end:{col:this.colCount-1,row:this.rowCount-1}},this.invalidate(),j(D));function tt(Qe,ft,ct){var At=ft==="S"?Qe.rowCount-1:ft==="N"?0:oe.row,Ve=ct==="E"?Qe.colCount-1:ct==="W"?0:oe.col;Ft.call(Qe,Ve,At,T)}function nt(Qe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,ct=oe.col,At;if(Qe==="S"){if(At=this.getMoveDownRowByKeyDownInternal(oe),this.rowCount<=At)return this.makeVisibleCell(ct,this.rowCount-1),!1}else if(At=this.getMoveUpRowByKeyDownInternal(oe),At<0)return this.makeVisibleCell(ct,0),!1;return Ft.call(this,ct,At,ft),!0}function Ne(Qe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,ct=oe.row,At;if(Qe==="E"){if(At=this.getMoveRightColByKeyDownInternal(oe),this.colCount<=At)return this.makeVisibleCell(this.colCount-1,ct),!1}else if(At=this.getMoveLeftColByKeyDownInternal(oe),At<0)return this.makeVisibleCell(0,ct),!1;return Ft.call(this,At,ct,ft),!0}}function Ft(D,de,q){var Y=this.getOffsetInvalidateCells();function T(Ge){return Y>0&&(Ge.start.col-=Y,Ge.start.row-=Y,Ge.end.col+=Y,Ge.end.row+=Y),Ge}var W=T(this.selection.range),oe=this.getCellRangeRect(W);this.selection._setFocusCell(D,de,q),this.makeVisibleCell(D,de),this.focusCell(D,de);var le=T(this.selection.range),je=this.getCellRangeRect(le);if(je.intersection(oe)){var Te=l.Rect.max(je,oe);me(this,Te)}else me(this,oe),me(this,je)}function un(){var D=this[g].focusControl,de=this[g].selection.select,q=de.col,Y=de.row,T=this.fireListeners(e.DG_EVENT_TYPE.EDITABLEINPUT_CELL,{col:q,row:Y}),W=t.array.findIndex(T,function(oe){return!!oe})>=0;D.editMode=W,W&&(D.storeInputStatus(),D.setDefaultInputStatus(),this.fireListeners(e.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,{col:q,row:Y,input:D.input}))}function en(D,de){var q;C(de)?q=de.changedTouches[0]:q=de;var Y=q.clientX||q.pageX+be.scrollX,T=q.clientY||q.pageY+be.scrollY,W=D[g].canvas.getBoundingClientRect();if(W.right<=Y||W.bottom<=T)return null;var oe=Y-W.left+D[g].scroll.left,le=T-W.top+D[g].scroll.top;return{x:oe,y:le}}function sn(){var D=this,de=D[g],q=de.handler,Y=de.element,T=de.scrollable,W=function(Ze){var et=en(D,Ze);if(!et)return{};var Ct=D.getCellAt(et.x,et.y);if(Ct.col<0||Ct.row<0)return{abstractPos:et,cell:Ct};var Dt={col:Ct.col,row:Ct.row,event:Ze};return{abstractPos:et,cell:Ct,eventArgs:Dt}},oe=function(Ze){if(D[g].disableColumnResize)return!1;var et=D[g].colWidthsLimit[Ze];return!et||!et.min||!et.max?!0:et.max!==et.min};q.on(Y,"mousedown",function(Ve){var Ze=W(Ve),et=Ze.abstractPos,Ct=Ze.eventArgs;if(!!et){if(Ct){var Dt=D.fireListeners(e.DG_EVENT_TYPE.MOUSEDOWN_CELL,Ct);if(t.array.findIndex(Dt,function(ne){return!ne})>=0)return}if(p(Ve)===1){var F=on(D,et.x,et.y);F>=0&&oe(F)?D[g].columnResizer.start(F,Ve):D[g].cellSelector.start(Ve)}}}),q.on(Y,"mouseup",function(Ve){if(!!D.hasListeners(e.DG_EVENT_TYPE.MOUSEUP_CELL)){var Ze=W(Ve),et=Ze.eventArgs;et&&D.fireListeners(e.DG_EVENT_TYPE.MOUSEUP_CELL,et)}});var le=null,je=null;q.on(Y,"touchstart",function(Ve){if(!le)le=W(Ve).eventArgs,setTimeout(function(){le=null},350);else{var Ze=W(Ve),et=Ze.eventArgs;if(et&&et.col===le.col&&et.row===le.row&&D.fireListeners(e.DG_EVENT_TYPE.DBLTAP_CELL,et),le=null,Ve.defaultPrevented)return}je=setTimeout(function(){je=null;var Ct=en(D,Ve);if(!!Ct){var Dt=on(D,Ct.x,Ct.y,15);Dt>=0&&oe(Dt)?D[g].columnResizer.start(Dt,Ve):D[g].cellSelector.start(Ve)}},500)});function Te(Ve){je&&(clearTimeout(je),je=null)}q.on(Y,"touchcancel",Te),q.on(Y,"touchmove",Te),q.on(Y,"touchend",function(Ve){je&&(clearTimeout(je),D[g].cellSelector.select(Ve),je=null)});var Ge=!1,tt=null,nt=null;function Ne(Ve,Ze){D.fireListeners(e.DG_EVENT_TYPE.MOUSEENTER_CELL,{col:Ve.col,row:Ve.row,related:Ze}),tt=Ve}function Qe(Ve){var Ze=tt;return tt=null,Ze&&D.fireListeners(e.DG_EVENT_TYPE.MOUSELEAVE_CELL,{col:Ze.col,row:Ze.row,related:Ve}),Ze||void 0}function ft(Ve,Ze){D.fireListeners(e.DG_EVENT_TYPE.MOUSEOVER_CELL,{col:Ve.col,row:Ve.row,related:Ze}),nt=Ve}function ct(Ve){var Ze=nt;return nt=null,Ze&&D.fireListeners(e.DG_EVENT_TYPE.MOUSEOUT_CELL,{col:Ze.col,row:Ze.row,related:Ve}),Ze||void 0}var At=T.getElement();q.on(At,"mouseover",function(Ve){Ge=!0}),q.on(At,"mouseout",function(Ve){Ge=!1,ct()}),q.on(Y,"mouseleave",function(Ve){Qe()}),q.on(Y,"mousemove",function(Ve){var Ze=W(Ve),et=Ze.abstractPos,Ct=Ze.eventArgs;if(Ct){var Dt=tt;if(Dt)if(D.fireListeners(e.DG_EVENT_TYPE.MOUSEMOVE_CELL,Ct),Dt.col!==Ct.col||Dt.row!==Ct.row){var F={col:Ct.col,row:Ct.row},ne=ct(F),we=Qe(F);Ne(F,we),Ge&&ft(F,ne)}else Ge&&!nt&&ft({col:Ct.col,row:Ct.row});else{var qe={col:Ct.col,row:Ct.row};Ne(qe),Ge&&ft(qe),D.fireListeners(e.DG_EVENT_TYPE.MOUSEMOVE_CELL,Ct)}}else ct(),Qe();if(!(D[g].columnResizer.moving(Ve)||D[g].cellSelector.moving(Ve))){var _t=Y.style;if(!et){_t.cursor==="col-resize"&&(_t.cursor="");return}var Kt=on(D,et.x,et.y);Kt>=0&&oe(Kt)?_t.cursor="col-resize":_t.cursor==="col-resize"&&(_t.cursor="")}}),q.on(Y,"click",function(Ve){if(!(D[g].columnResizer.lastMoving(Ve)||D[g].cellSelector.lastMoving(Ve))&&!!D.hasListeners(e.DG_EVENT_TYPE.CLICK_CELL)){var Ze=W(Ve),et=Ze.eventArgs;!et||D.fireListeners(e.DG_EVENT_TYPE.CLICK_CELL,et)}}),q.on(Y,"contextmenu",function(Ve){if(!!D.hasListeners(e.DG_EVENT_TYPE.CONTEXTMENU_CELL)){var Ze=W(Ve),et=Ze.eventArgs;!et||D.fireListeners(e.DG_EVENT_TYPE.CONTEXTMENU_CELL,et)}}),q.on(Y,"dblclick",function(Ve){if(!!D.hasListeners(e.DG_EVENT_TYPE.DBLCLICK_CELL)){var Ze=W(Ve),et=Ze.eventArgs;!et||D.fireListeners(e.DG_EVENT_TYPE.DBLCLICK_CELL,et)}}),D[g].focusControl.onKeyDown(function(Ve){D.fireListeners(e.DG_EVENT_TYPE.KEYDOWN,Ve)}),D[g].selection.listen(e.DG_EVENT_TYPE.SELECTED_CELL,function(Ve){D.fireListeners(e.DG_EVENT_TYPE.SELECTED_CELL,Ve,Ve.selected)}),T.onScroll(function(Ve){Ut(D),D.fireListeners(e.DG_EVENT_TYPE.SCROLL,{event:Ve})}),D[g].focusControl.onKeyDownMove(function(Ve){Wt.call(D,Ve)}),D.listen("copydata",function(Ve){for(var Ze=D.getCopyRangeInternal(Ve),et="",Ct=Ze.start.row;Ct<=Ze.end.row;Ct++){for(var Dt=Ze.start.col;Dt<=Ze.end.col;Dt++){var F=D.getCopyCellValue(Dt,Ct,Ze),ne=void 0;typeof F=="string"?ne=F:F==null||typeof Promise!="undefined"&&F instanceof Promise?ne="":(ne="".concat(F),/^\[object .*\]$/.exec(ne)&&(ne="")),et+=/[\t\n]/.test(ne)?'"'.concat(ne.replace(/"/g,'""'),'"'):ne,Dt<Ze.end.col&&(et+="	")}et+=`
`}return et}),D[g].focusControl.onCopy(function(Ve){return t.array.find(D.fireListeners("copydata",D[g].selection.range),function(Ze){return Ze!=null})}),D[g].focusControl.onPaste(function(Ve){var Ze=Ve.value,et=Ve.event,Ct=D.trimOnPaste,Dt=(0,n.normalizePasteValue)(Ze),F=D[g].selection.select,ne=F.col,we=F.row,qe=/[\r\n\u2028\u2029\t]/.test(Dt),_t=null,Kt={col:ne,row:we,value:Ze,normalizeValue:Ct?Dt.trim():Dt,multi:qe,get rangeBoxValues(){return _t!=null?_t:_t=(0,n.parsePasteRangeBoxValues)(Dt,{trimOnPaste:Ct})},event:et};D.fireListeners(e.DG_EVENT_TYPE.PASTE_CELL,Kt)}),D[g].focusControl.onInput(function(Ve){var Ze=D[g].selection.select,et=Ze.col,Ct=Ze.row;D.fireListeners(e.DG_EVENT_TYPE.INPUT_CELL,{col:et,row:Ct,value:Ve})}),D[g].focusControl.onDelete(function(Ve){var Ze=D[g].selection.select,et=Ze.col,Ct=Ze.row;D.fireListeners(e.DG_EVENT_TYPE.DELETE_CELL,{col:et,row:Ct,event:Ve})}),D[g].focusControl.onFocus(function(Ve){D.fireListeners(e.DG_EVENT_TYPE.FOCUS_GRID,Ve),D[g].focusedGrid=!0;var Ze=D[g].selection.select,et=Ze.col,Ct=Ze.row;D.invalidateCell(et,Ct)}),D[g].focusControl.onBlur(function(Ve){D.fireListeners(e.DG_EVENT_TYPE.BLUR_GRID,Ve),D[g].focusedGrid=!1;var Ze=D[g].selection.select,et=Ze.col,Ct=Ze.row;D.invalidateCell(et,Ct)})}function on(D,de,q){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;if(D[g].frozenRowCount<=0)return-1;var T=H(D);if(!T.inPoint(de,q))return-1;var W=D.getCellAt(de,q),oe=D.getCellRect(W.col,W.row);return de<oe.left+Y?W.col-1:oe.right-Y<de?W.col:-1}function zt(D){var de=D[g],q=de.scroll,Y=q.left,T=q.top,W=de.canvas,oe=W.width,le=W.height;return new l.Rect(Y,T,oe,le)}function jt(D){var de=0;if(D[g].frozenColCount>0){var q=$(D);de=q.width}var Y=0;if(D[g].frozenRowCount>0){var T=H(D);Y=T.height}return new l.Rect(D[g].scrollable.scrollLeft+de,D[g].scrollable.scrollTop+Y,D[g].canvas.width-de,D[g].canvas.height-Y)}function Ot(D,de){var q=de.copy(),Y=zt(D);return q.offsetLeft(-Y.left),q.offsetTop(-Y.top),q}var vt=function(){function D(de){fe(this,D),this._grid=de,this._handler=new o.EventHandler,this._events={},this._started=!1,this._moved=!1}return Ie(D,[{key:"moving",value:function(q){return!!this._started}},{key:"lastMoving",value:function(q){if(this.moving(q))return!0;var Y=this._mouseEndPoint;if(!Y)return!1;var T=en(this._grid,q);return T!=null&&T.x===Y.x&&T.y===Y.y}},{key:"_bindMoveAndUp",value:function(q){var Y=this,T=this._events,W=this._handler;C(q)?(T.touchmove=W.on(document.body,"touchmove",function(oe){return Y._mouseMove(oe)},{passive:!1}),T.touchend=W.on(document.body,"touchend",function(oe){return Y._mouseUp(oe)}),T.touchcancel=W.on(document.body,"touchcancel",function(oe){return Y._mouseUp(oe)})):(T.mousemove=W.on(document.body,"mousemove",function(oe){return Y._mouseMove(oe)}),T.mouseup=W.on(document.body,"mouseup",function(oe){return Y._mouseUp(oe)})),this._started=!0,this._moved=!1}},{key:"_mouseMove",value:function(q){if(!C(q)&&p(q)!==1){this._mouseUp(q);return}this._moved=this._moveInternal(q)||this._moved,j(q)}},{key:"_moveInternal",value:function(q){return!1}},{key:"_mouseUp",value:function(q){var Y=this,T=this._events,W=this._handler;W.off(T.mousemove),W.off(T.touchmove),W.off(T.mouseup),W.off(T.touchend),W.off(T.touchcancel),this._started=!1,this._upInternal(q),this._moved&&(this._mouseEndPoint=en(this._grid,q),setTimeout(function(){Y._mouseEndPoint=null},10))}},{key:"_upInternal",value:function(q){}},{key:"dispose",value:function(){this._handler.dispose()}}]),D}(),nn=function(D){Ce(q,D);var de=Be(q);function q(){return fe(this,q),de.apply(this,arguments)}return Ie(q,[{key:"start",value:function(T){var W=this._getTargetCell(T);!W||(Ft.call(this._grid,W.col,W.row,T.shiftKey),this._bindMoveAndUp(T),this._cell=W,j(T),ve(T))}},{key:"select",value:function(T){var W=this._getTargetCell(T);!W||(Ft.call(this._grid,W.col,W.row,T.shiftKey),this._cell=W)}},{key:"_moveInternal",value:function(T){var W=this._getTargetCell(T);if(!W)return!1;var oe=this._cell,le=oe.col,je=oe.row,Te=W.col,Ge=W.row;if(le===Te&&je===Ge)return!1;var tt=this._grid;Ft.call(tt,Te,Ge,!0);var nt=function(){return Te<le&&0<Te?Te-1:le<Te&&Te+1<tt.colCount?Te+1:Te}(),Ne=function(){return Ge<je&&0<Ge?Ge-1:je<Ge&&Ge+1<tt.rowCount?Ge+1:Ge}();return(nt!==Te||Ne!==Ge)&&tt.makeVisibleCell(nt,Ne),this._cell=W,!0}},{key:"_getTargetCell",value:function(T){var W=this._grid,oe=en(W,T);if(!oe)return null;var le=W.getCellAt(oe.x,oe.y);return le.col<0||le.row<0?null:le}}]),q}(vt),tn=function(D){Ce(q,D);var de=Be(q);function q(Y){var T;return fe(this,q),T=de.call(this,Y),T._x=-1,T._preX=-1,T._invalidateAbsoluteLeft=-1,T._targetCol=-1,T}return Ie(q,[{key:"start",value:function(T,W){var oe;C(W)?oe=W.changedTouches[0].pageX:oe=W.pageX,this._x=oe,this._preX=0,this._bindMoveAndUp(W),this._targetCol=T,this._invalidateAbsoluteLeft=pt(this._grid,0,T-1),j(W),ve(W)}},{key:"_moveInternal",value:function(T){var W=C(T)?T.changedTouches[0].pageX:T.pageX,oe=W-this._x,le=oe-this._preX;this._preX=oe;var je=this._grid.getColWidth(this._targetCol),Te=Se(this._grid,this._targetCol,je+le);Te<10&&le<0&&(Te=10),Lt(this._grid),Bt(this._grid,this._targetCol,Te);var Ge=zt(this._grid);return Ge.left=this._invalidateAbsoluteLeft,me(this._grid,Ge),this._grid.fireListeners(e.DG_EVENT_TYPE.RESIZE_COLUMN,{col:this._targetCol}),!0}},{key:"_upInternal",value:function(T){var W=this._grid;W.updateScroll()&&W.invalidate()}}]),q}(vt);function xt(D,de){var q=D.type;D.type="",D.value=de,q&&(D.type=q)}var hn=["style","readonly"],vn=function(D){Ce(q,D);var de=Be(q);function q(Y,T,W,oe){var le;fe(this,q),le=de.call(this),le._grid=Y,le._scrollable=W;var je=le._handler=new o.EventHandler,Te=le._input=document.createElement("input");Te.classList.add("grid-focus-control"),Te.readOnly=!0,T.appendChild(Te),je.on(Te,"compositionstart",function(Ne){Te.classList.add("composition"),Te.style.font=Y.font||"16px sans-serif",le._isComposition=!0,le._compositionEnd&&(clearTimeout(le._compositionEnd),delete le._compositionEnd),Y.focus()});var Ge,tt=function(Qe){Ge=Te.value,!le._isComposition&&(Ge!==""&&xt(Te,""),Qe||(Ge=""))},nt=function(){le._isComposition=!1,Te.classList.remove("composition"),Te.style.font="";var Qe=Te.value;tt(!1),Te.readOnly||le.fireListeners("input",Qe),le._compositionEnd&&(clearTimeout(le._compositionEnd),delete le._compositionEnd)};return je.on(Te,"compositionend",function(Ne){le._compositionEnd=setTimeout(nt,1)}),oe.listen("before_hook",function(){le._compositionEnd&&nt()}),je.on(Te,"keypress",function(Ne){if(!le._isComposition){if(!Te.readOnly&&Ne.key&&Ne.key.length===1)if(Ne.ctrlKey||Ne.metaKey)Ne.key==="c"||Ne.key;else{if(Ne.key===" ")return;le.fireListeners("input",Ne.key),j(Ne)}tt(!0)}}),je.on(Te,"keydown",function(Ne){var Qe;if(le._isComposition){le._compositionEnd&&(nt(),j(Ne));return}var ft=B(Ne),ct=!1,At={keyCode:ft,event:Ne,stopCellMoving:function(){ct=!0}};le.fireListeners("keydown",At),!Te.readOnly&&Ge&&le.fireListeners("input",Ge),ct||le.fireKeyDownMove(ft,Ne),((Qe=le._grid.keyboardOptions)===null||Qe===void 0?void 0:Qe.deleteCellValueOnDel)&&(ft===Ae||ft===G)&&le.fireListeners("delete",Ne),tt(!0)}),je.on(Te,"keyup",function(Ne){le._isComposition&&le._compositionEnd&&nt(),tt(!0)}),je.on(Te,"input",function(Ne){(Ne.data===" "||Ne.data==="\u3000")&&le.fireListeners("input",Ne.data),tt(!0)}),t.browser.IE&&je.on(document,"keydown",function(Ne){if(Ne.target===Te){var Qe=B(Ne);Qe===ye&&Ne.ctrlKey?(xt(Te,"dummy"),Te.select(),setTimeout(function(){xt(Te,"")},100)):Qe===Pe&&Ne.ctrlKey&&Te.readOnly&&(Te.readOnly=!1,setTimeout(function(){Te.readOnly=!0,xt(Te,"")},10))}}),t.browser.Edge&&je.once(document,"keydown",function(Ne){var Qe;if(!!(0,t.isDescendantElement)(T,Ne.target)){var ft=document.createElement("input");Y.getElement().appendChild(ft),ft.focus(),Te.focus(),(Qe=ft.parentElement)===null||Qe===void 0||Qe.removeChild(ft)}}),je.on(document,"paste",function(Ne){if(!!(0,t.isDescendantElement)(T,Ne.target)){var Qe=void 0;if(t.browser.IE)Qe=be.clipboardData.getData("Text");else{var ft=Ne.clipboardData;ft.items?Qe=ft.getData("text/plain"):Array.prototype.indexOf.call(ft.types,"text/plain")!==-1&&(Qe=ft.getData("Text"))}Qe!=null&&Qe.length&&le.fireListeners("paste",{value:Qe,event:Ne})}}),je.on(document,"copy",function(Ne){if(!le._isComposition&&!!(0,t.isDescendantElement)(T,Ne.target)){xt(Te,"");var Qe=t.array.find(le.fireListeners("copy"),function(ft){return ft!=null});Qe!=null&&(j(Ne),t.browser.IE?be.clipboardData.setData("Text",Qe):Ne.clipboardData.setData("text/plain",Qe))}}),je.on(Te,"focus",function(Ne){le.fireListeners("focus",Ne)}),je.on(Te,"blur",function(Ne){le.fireListeners("blur",Ne)}),le}return Ie(q,[{key:"fireKeyDownMove",value:function(T,W){var oe,le,je,Te=this._keyDownMoveCallback;!Te||this._isComposition||(T===ce||T===re||T===Ee||T===$e||T===ae||T===J||((oe=this._grid.keyboardOptions)===null||oe===void 0?void 0:oe.moveCellOnTab)&&T===M||((le=this._grid.keyboardOptions)===null||le===void 0?void 0:le.moveCellOnEnter)&&T===K||((je=this._grid.keyboardOptions)===null||je===void 0?void 0:je.selectAllOnCtrlA)&&T===Je&&(W.ctrlKey||W.metaKey))&&Te(W)}},{key:"onKeyDownMove",value:function(T){this._keyDownMoveCallback=T}},{key:"onKeyDown",value:function(T){return this.listen("keydown",T)}},{key:"onInput",value:function(T){return this.listen("input",T)}},{key:"onDelete",value:function(T){return this.listen("delete",T)}},{key:"onCopy",value:function(T){return this.listen("copy",T)}},{key:"onPaste",value:function(T){return this.listen("paste",T)}},{key:"onFocus",value:function(T){return this.listen("focus",T)}},{key:"onBlur",value:function(T){return this.listen("blur",T)}},{key:"focus",value:function(){this._input.focus()}},{key:"setFocusRect",value:function(T){var W=this._input,oe=this._scrollable.calcTop(T.top);W.style.top="".concat((oe-v.getScrollBarSize()).toFixed(),"px"),W.style.left="".concat(T.left.toFixed(),"px"),W.style.width="".concat(T.width.toFixed(),"px"),W.style.height="".concat(T.height.toFixed(),"px")}},{key:"editMode",get:function(){return!this._input.readOnly},set:function(T){this._input.readOnly=!T}},{key:"resetInputStatus",value:function(){var T,W=this._input;if(!!W.classList.contains("grid-focus-control--stored-status")){for(var oe=W.classList.contains("composition"),le=W.attributes,je=[],Te=0,Ge=le.length;Te<Ge;Te++){var tt=le[Te];hn.indexOf(tt.name)>=0||!((T=this._inputStatus)===null||T===void 0)&&T.hasOwnProperty(tt.nodeName)||je.push(tt.name)}je.forEach(function(Ne){W.removeAttribute(Ne)});for(var nt in this._inputStatus)W.setAttribute(nt,this._inputStatus[nt]);oe?(W.classList.add("composition"),W.style.font=this._grid.font||"16px sans-serif"):W.classList.remove("composition"),W.classList.remove("grid-focus-control--stored-status")}}},{key:"storeInputStatus",value:function(){var T=this._input;if(!T.classList.contains("grid-focus-control--stored-status")){for(var W=this._inputStatus={},oe=T.attributes,le=0,je=oe.length;le<je;le++){var Te=oe[le];hn.indexOf(Te.name)>=0||(W[Te.name]=Te.value)}T.classList.add("grid-focus-control--stored-status")}}},{key:"setDefaultInputStatus",value:function(){}},{key:"input",get:function(){return this._input}},{key:"dispose",value:function(){ie(Ue(q.prototype),"dispose",this).call(this),this._handler.dispose()}}]),q}(a.EventTarget),Yt=function(D){Ce(q,D);var de=Be(q);function q(Y){var T;return fe(this,q),T=de.call(this),T._grid=Y,T._sel={col:0,row:0},T._focus={col:0,row:0},T._start={col:0,row:0},T._end={col:0,row:0},T}return Ie(q,[{key:"range",get:function(){var T=this._start,W=this._end,oe=Math.min(T.col,W.col),le=Math.min(T.row,W.row),je=Math.max(T.col,W.col),Te=Math.max(T.row,W.row);return{start:{col:oe,row:le},end:{col:je,row:Te}}},set:function(T){var W=this;this._callBeforeHooks();var oe=Math.min(T.start.col,T.end.col),le=Math.min(T.start.row,T.end.row),je=Math.max(T.start.col,T.end.col),Te=Math.max(T.start.row,T.end.row);this._wrapFireSelectedEvent(function(){W._sel={col:oe,row:le},W._focus={col:oe,row:le},W._start={col:oe,row:le},W._end={col:je,row:Te},un.call(W._grid)})}},{key:"focus",get:function(){var T=this._focus,W=T.col,oe=T.row;return{col:W,row:oe}}},{key:"select",get:function(){var T=this._sel,W=T.col,oe=T.row;return{col:W,row:oe}},set:function(T){var W=this;this._callBeforeHooks(),this._wrapFireSelectedEvent(function(){var oe=T.col,le=oe===void 0?0:oe,je=T.row,Te=je===void 0?0:je;W._setSelectCell(le,Te),W._setFocusCell(le,Te,!0,!0),un.call(W._grid)})}},{key:"_setSelectCell",value:function(T,W){var oe=this;this._wrapFireSelectedEvent(function(){oe._sel={col:T,row:W},oe._start={col:T,row:W}})}},{key:"_setFocusCell",value:function(T,W,oe,le){var je=this;le||this._callBeforeHooks(),this._wrapFireSelectedEvent(function(){oe||je._setSelectCell(T,W),je._focus={col:T,row:W},je._end={col:T,row:W}})}},{key:"_wrapFireSelectedEvent",value:function(T){if(this._isWraped)T();else{this._isWraped=!0;try{var W={col:this._sel.col,row:this._sel.row,selected:!1,after:null};T();var oe={col:this._sel.col,row:this._sel.row,selected:!0,before:{col:W.col,row:W.row}};W.after={col:oe.col,row:oe.row},this.fireListeners(e.DG_EVENT_TYPE.SELECTED_CELL,W),this.fireListeners(e.DG_EVENT_TYPE.SELECTED_CELL,oe)}finally{this._isWraped=!1}}}},{key:"_updateGridRange",value:function(){for(var T=this._grid,W=T.rowCount,oe=T.colCount,le=[this._sel,this._focus,this._start,this._end],je=!1,Te=0;Te<le.length;Te++)if(oe<=le[Te].col||W<=le[Te].row){je=!0;break}return je?(this._wrapFireSelectedEvent(function(){le.forEach(function(Ge){Ge.col=Math.min(oe-1,Ge.col),Ge.row=Math.min(W-1,Ge.row)})}),!0):!1}},{key:"_callBeforeHooks",value:function(){this.fireListeners("before_hook")}}]),q}(a.EventTarget),Bn=function(){function D(){fe(this,D),this._layers={}}return Ie(D,[{key:"addDraw",value:function(q,Y){var T=this._layers[q]||(this._layers[q]=new Qt(q));T.addDraw(Y)}},{key:"draw",value:function(q){var Y=[];for(var T in this._layers)Y.push(this._layers[T]);Y.sort(function(W,oe){return W.level-oe.level}),Y.forEach(function(W){return W.draw(q)})}}]),D}(),Qt=function(){function D(de){fe(this,D),this._level=de,this._list=[]}return Ie(D,[{key:"level",get:function(){return this._level}},{key:"addDraw",value:function(q){this._list.push(q)}},{key:"draw",value:function(q){this._list.forEach(function(Y){q.save();try{Y(q)}finally{q.restore()}})}}]),D}(),gt=function(){function D(de,q,Y,T,W,oe,le,je){fe(this,D),this._rectFilter=null,this._col=de,this._row=q,this._mode=0,this._ctx=Y,this._rect=T,this._drawRect=W,this._drawing=oe,this._selection=le,this._drawLayers=je,this._childContexts=[]}return Ie(D,[{key:"drawing",get:function(){return this._mode===0?this._drawing:!0}},{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}},{key:"cancel",value:function(){this._cancel=!0,this._childContexts.forEach(function(q){q.cancel()})}},{key:"getSelection",value:function(){return{select:this._selection.select,range:this._selection.range}}},{key:"getContext",value:function(){return this._mode===0?this._ctx:ue.call(this._grid)}},{key:"getRect",value:function(){var q=this._rectFilter;return q?q(this._getRectInternal()):this._getRectInternal()}},{key:"setRectFilter",value:function(q){this._rectFilter=q}},{key:"getDrawRect",value:function(){if(this._cancel)return null;if(this._mode===0)return this._drawRect;if(this._isOutOfRange())return null;var q=this._grid.getCellRect(this._col,this._row);return this._toRelativeDrawRect(q)}},{key:"_isOutOfRange",value:function(){var q=this._grid,Y=q.colCount,T=q.rowCount;return Y<=this._col||T<=this._row}},{key:"toCurrentContext",value:function(){if(this._mode===0)return this;var q=this._grid.getCellRect(this._col,this._row),Y=Ot(this._grid,q),T=this._isOutOfRange()?null:this._toRelativeDrawRect(q),W=new D(this._col,this._row,this.getContext(),Y,T,this.drawing,this._selection,this._drawLayers);return W.toCurrentContext=this.toCurrentContext.bind(this),this._childContexts.push(W),this._cancel&&W.cancel(),W._rectFilter=this._rectFilter,W}},{key:"addLayerDraw",value:function(q,Y){this._drawLayers.addDraw(q,Y)}},{key:"_toRelativeDrawRect",value:function(q){var Y=zt(this._grid),T=q.copy();if(!T.intersection(Y))return null;var W=this._grid,oe=W.isFrozenCell(this._col,this._row);if(W.frozenColCount>=0&&(!oe||!oe.col)){var le=W.getCellRect(W.frozenColCount-1,this._row);T=l.Rect.bounds(Math.max(T.left,le.right),T.top,T.right,T.bottom)}if(W.frozenRowCount>=0&&(!oe||!oe.row)){var je=W.getCellRect(this._col,W.frozenRowCount-1);T=l.Rect.bounds(T.left,Math.max(T.top,je.bottom),T.right,T.bottom)}return T.intersection(Y)?(T.offsetLeft(-Y.left),T.offsetTop(-Y.top),T):null}},{key:"_delayMode",value:function(q,Y){this._mode=1,this._ctx=null,this._rect=null,this._drawRect=null,this._grid=q,this._onTerminate=Y}},{key:"terminate",value:function(){var q;this._mode!==0&&((q=this._onTerminate)===null||q===void 0||q.call(this))}},{key:"_getRectInternal",value:function(){return this._mode===0?this._rect:this._rect?this._rect:this._grid.getCellRelativeRect(this._col,this._row)}}]),D}(),Tn=function(D){Ce(q,D);var de=Be(q);function q(){var Y,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,q),Y=de.call(this);var W=T.rowCount,oe=W===void 0?10:W,le=T.colCount,je=le===void 0?10:le,Te=T.frozenColCount,Ge=Te===void 0?0:Te,tt=T.frozenRowCount,nt=tt===void 0?0:tt,Ne=T.defaultRowHeight,Qe=Ne===void 0?40:Ne,ft=T.defaultColWidth,ct=ft===void 0?80:ft,At=T.font,Ve=T.underlayBackgroundColor,Ze=T.keyboardOptions,et=T.parentElement,Ct=T.disableColumnResize,Dt=T.trimOnPaste,F=Y[g]={};return v.initDocument(),F.element=L(),F.scrollable=new u.Scrollable,F.handler=new o.EventHandler,F.selection=new Yt(He(Y)),F.focusControl=new vn(He(Y),F.scrollable.getElement(),F.scrollable,F.selection),F.canvas=w.transform(document.createElement("canvas")),F.context=F.canvas.getContext("2d",{alpha:!1}),F.rowCount=oe,F.colCount=je,F.frozenColCount=Ge,F.frozenRowCount=nt,F.defaultRowHeight=Qe,F.defaultColWidth=ct,F.font=At,F.underlayBackgroundColor=Ve,F.keyboardOptions=Ze,F.disableColumnResize=Ct,F.trimOnPaste=Dt!=null?Dt:!1,F.rowHeightsMap=new i.NumberMap,F.colWidthsMap=new i.NumberMap,F.colWidthsLimit={},F.calcWidthContext={_:F,get full(){return this._.canvas.width},get em(){return(0,f.getFontSize)(this._.context,this._.font).width}},F.columnResizer=new tn(He(Y)),F.cellSelector=new nn(He(Y)),F.drawCells={},F.cellTextOverflows={},F.focusedGrid=!1,F.element.appendChild(F.canvas),F.element.appendChild(F.scrollable.getElement()),F.scroll={left:0,top:0},Y.updateScroll(),et&&et.appendChild(F.element),Y.updateSize(),sn.call(He(Y)),Y.bindEventsInternal(),Y}return Ie(q,[{key:"getElement",value:function(){return this[g].element}},{key:"canvas",get:function(){return this[g].canvas}},{key:"focus",value:function(){var T=this[g].selection.select,W=T.col,oe=T.row;this.focusCell(W,oe)}},{key:"hasFocusGrid",value:function(){return this[g].focusedGrid}},{key:"selection",get:function(){return this[g].selection}},{key:"rowCount",get:function(){return this[g].rowCount},set:function(T){if(this[g].rowCount=T,this.updateScroll(),this[g].selection._updateGridRange()){var W=this[g].selection.focus,oe=W.col,le=W.row;this.makeVisibleCell(oe,le),this.setFocusCursor(oe,le)}}},{key:"colCount",get:function(){return this[g].colCount},set:function(T){if(this[g].colCount=T,this.updateScroll(),this[g].selection._updateGridRange()){var W=this[g].selection.focus,oe=W.col,le=W.row;this.makeVisibleCell(oe,le),this.setFocusCursor(oe,le)}}},{key:"frozenColCount",get:function(){return this[g].frozenColCount},set:function(T){this[g].frozenColCount=T}},{key:"frozenRowCount",get:function(){return this[g].frozenRowCount},set:function(T){this[g].frozenRowCount=T}},{key:"defaultRowHeight",get:function(){return this[g].defaultRowHeight},set:function(T){this[g].defaultRowHeight=T}},{key:"defaultColWidth",get:function(){return this[g].defaultColWidth},set:function(T){this[g].defaultColWidth=T}},{key:"font",get:function(){return this[g].font},set:function(T){this[g].font=T}},{key:"underlayBackgroundColor",get:function(){return this[g].underlayBackgroundColor},set:function(T){this[g].underlayBackgroundColor=T}},{key:"trimOnPaste",get:function(){return this[g].trimOnPaste},set:function(T){this[g].trimOnPaste=T}},{key:"keyboardOptions",get:function(){var T;return(T=this[g].keyboardOptions)!==null&&T!==void 0?T:null},set:function(T){this[g].keyboardOptions=T!=null?T:void 0}},{key:"configure",value:function(T,W){var oe=this[g].config||(this[g].config={});return W!=null&&(oe[T]=W),oe[T]}},{key:"updateSize",value:function(){var T=this[g].canvas;T.style.width="",T.style.height="";var W=Math.floor(T.offsetWidth||T.parentElement.offsetWidth-v.getScrollBarSize()),oe=Math.floor(T.offsetHeight||T.parentElement.offsetHeight-v.getScrollBarSize());T.width=W,T.height=oe,T.style.width="".concat(W,"px"),T.style.height="".concat(oe,"px");var le=this[g].selection.select;this[g].focusControl.setFocusRect(this.getCellRect(le.col,le.row))}},{key:"updateScroll",value:function(){var T=this[g].scrollable,W=Ht.call(this),oe=Nt(this);return W===T.scrollHeight&&oe===T.scrollWidth?!1:(T.setScrollSize(oe,W),this[g].scroll={left:T.scrollLeft,top:T.scrollTop},!0)}},{key:"getRowHeight",value:function(T){return Tt.call(this,T)}},{key:"setRowHeight",value:function(T,W){Mt(this,T,W)}},{key:"getColWidth",value:function(T){return yt(this,T)}},{key:"setColWidth",value:function(T,W){Bt(this,T,W)}},{key:"getMaxColWidth",value:function(T){var W=this[g].colWidthsLimit[T];return W&&W.max||void 0}},{key:"setMaxColWidth",value:function(T,W){var oe=this[g].colWidthsLimit[T]||(this[g].colWidthsLimit[T]={});oe.max=W}},{key:"getMinColWidth",value:function(T){var W=this[g].colWidthsLimit[T];return W&&W.min||void 0}},{key:"setMinColWidth",value:function(T,W){var oe=this[g].colWidthsLimit[T]||(this[g].colWidthsLimit[T]={});oe.min=W}},{key:"getCellRect",value:function(T,W){var oe=this.isFrozenCell(T,W),le=pt(this,0,T-1),je=yt(this,T);oe&&oe.col&&(le+=this[g].scroll.left);var Te=Rt.call(this,0,W-1),Ge=Tt.call(this,W);return oe&&oe.row&&(Te+=this[g].scroll.top),new l.Rect(le,Te,je,Ge)}},{key:"getCellRelativeRect",value:function(T,W){return Ot(this,this.getCellRect(T,W))}},{key:"getCellsRect",value:function(T,W,oe,le){var je=this.isFrozenCell(T,W),Te=this.isFrozenCell(oe,le),Ge=pt(this,0,T-1),tt=pt(this,T,oe);if(je&&je.col){var nt=this[g].scroll.left;Ge+=nt,(!Te||!Te.col)&&(tt-=nt,tt=Math.max(tt,pt(this,T,this.frozenColCount-1)))}var Ne=Rt.call(this,0,W-1),Qe=Rt.call(this,W,le);if(je&&je.row){var ft=this[g].scroll.top;Ne+=ft,(!Te||!Te.row)&&(Qe-=ft,Qe=Math.max(Qe,pt(this,W,this.frozenRowCount-1)))}return new l.Rect(Ge,Ne,tt,Qe)}},{key:"getCellRangeRect",value:function(T){return this.getCellsRect(T.start.col,T.start.row,T.end.col,T.end.row)}},{key:"isFrozenCell",value:function(T,W){var oe=this[g],le=oe.frozenRowCount,je=oe.frozenColCount,Te=le>0&&W<le,Ge=je>0&&T<je;return Te||Ge?{row:Te,col:Ge}:null}},{key:"getRowAt",value:function(T){var W=V(this,T);if(W)return W.row;var oe=Me.call(this,T);return oe?oe.row:-1}},{key:"getColAt",value:function(T){var W=S(this,T);if(W)return W.col;var oe=xe(this,T);return oe?oe.col:-1}},{key:"getCellAt",value:function(T,W){return{row:this.getRowAt(W),col:this.getColAt(T)}}},{key:"makeVisibleCell",value:function(T,W){var oe=this.isFrozenCell(T,W);if(!(oe&&oe.col&&oe.row)){var le=this.getCellRect(T,W),je=jt(this);if(!je.contains(le)){var Te=this[g].scrollable;(!oe||!oe.col)&&(le.left<je.left?Te.scrollLeft-=je.left-le.left:je.right<le.right&&(Te.scrollLeft-=je.right-le.right)),(!oe||!oe.row)&&(le.top<je.top?Te.scrollTop-=je.top-le.top:je.bottom<le.bottom&&(Te.scrollTop-=je.bottom-le.bottom))}}}},{key:"setFocusCursor",value:function(T,W){var oe=this[g].focusControl,le=oe.editMode;oe.setFocusRect(this.getCellRect(T,W)),un.call(this),le&&!oe.editMode&&oe.resetInputStatus()}},{key:"focusCell",value:function(T,W){this.setFocusCursor(T,W),this[g].focusControl.focus()}},{key:"invalidateCell",value:function(T,W){this.invalidateGridRect(T,W)}},{key:"invalidateGridRect",value:function(T,W){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W,je=this.getOffsetInvalidateCells();je>0&&(T-=je,W-=je,oe+=je,le+=je);var Te=zt(this),Ge=this.getCellsRect(T,W,oe,le),tt=Te.intersection(Ge);if(tt){var nt=this[g],Ne=nt.frozenColCount,Qe=nt.frozenRowCount;if(Ne>0&&oe>=Ne){var ft=$(this);ft.intersection(tt)&&(tt.left=Math.min(ft.right-1,tt.left))}if(Qe>0&&le>=Qe){var ct=H(this);ct.intersection(tt)&&(tt.top=Math.min(ct.bottom-1,tt.top))}me(this,tt)}}},{key:"invalidateCellRange",value:function(T){this.invalidateGridRect(T.start.col,T.start.row,T.end.col,T.end.row)}},{key:"invalidate",value:function(){var T=zt(this);me(this,T)}},{key:"visibleRowCount",get:function(){var T=this.frozenRowCount,W=zt(this),oe=T>0?W.top+Rt.call(this,0,T-1):W.top,le=Me.call(this,oe);if(!le)return 0;for(var je=Math.max(le.top>=oe?le.row:le.row+1,T),Te=Rt.call(this,0,je-1),Ge=0,tt=this.rowCount,nt=je;nt<tt;nt++){var Ne=Tt.call(this,nt),Qe=Te+Ne;if(W.bottom<Qe)break;Ge++,Te=Qe}return Ge}},{key:"visibleColCount",get:function(){var T=this.frozenColCount,W=zt(this),oe=T>0?W.left+pt(this,0,T-1):W.left,le=xe(this,oe);if(!le)return 0;for(var je=Math.max(le.left>=oe?le.col:le.col+1,T),Te=pt(this,0,je-1),Ge=0,tt=this.colCount,nt=je;nt<tt;nt++){var Ne=yt(this,nt),Qe=Te+Ne;if(W.right<Qe)break;Ge++,Te=Qe}return Ge}},{key:"topRow",get:function(){var T=this.frozenRowCount,W=zt(this),oe=T>0?W.top+Rt.call(this,0,T-1):W.top,le=Me.call(this,oe);return le?Math.max(le.top>=oe?le.row:le.row+1,T):0}},{key:"leftCol",get:function(){var T=this.frozenColCount,W=zt(this),oe=T>0?W.left+pt(this,0,T-1):W.left,le=xe(this,oe);return le?Math.max(le.left>=oe?le.col:le.col+1,T):0}},{key:"scrollTop",get:function(){return this[g].scrollable.scrollTop},set:function(T){this[g].scrollable.scrollTop=T}},{key:"scrollLeft",get:function(){return this[g].scrollable.scrollLeft},set:function(T){this[g].scrollable.scrollLeft=T}},{key:"getCopyCellValue",value:function(T,W,oe){}},{key:"getCellOverflowText",value:function(T,W){var oe="".concat(T,":").concat(W);return this[g].cellTextOverflows[oe]||null}},{key:"setCellOverflowText",value:function(T,W,oe){var le="".concat(T,":").concat(W);oe?this[g].cellTextOverflows[le]=typeof oe=="string"?oe.trim():oe:delete this[g].cellTextOverflows[le]}},{key:"addDisposable",value:function(T){if(!T||!T.dispose||typeof T.dispose!="function")throw new Error("not disposable!");var W=this[g].disposables=this[g].disposables||[];W.push(T)}},{key:"dispose",value:function(){ie(Ue(q.prototype),"dispose",this).call(this);var T=this[g];T.handler.dispose(),T.scrollable.dispose(),T.focusControl.dispose(),T.columnResizer.dispose(),T.cellSelector.dispose(),T.disposables&&(T.disposables.forEach(function(oe){return oe.dispose()}),T.disposables=null);var W=T.element.parentElement;W&&W.removeChild(T.element)}},{key:"getAttachCellsArea",value:function(T){return{element:this.getElement(),rect:Ot(this,this.getCellRangeRect(T))}}},{key:"onKeyDownMove",value:function(T){Wt.call(this,T)}},{key:"bindEventsInternal",value:function(){}},{key:"getTargetRowAtInternal",value:function(T){}},{key:"getRowsHeightInternal",value:function(T,W){}},{key:"getRowHeightInternal",value:function(T){}},{key:"getScrollHeightInternal",value:function(T){}},{key:"getMoveLeftColByKeyDownInternal",value:function(T){var W=T.col;return W-1}},{key:"getMoveRightColByKeyDownInternal",value:function(T){var W=T.col;return W+1}},{key:"getMoveUpRowByKeyDownInternal",value:function(T){var W=T.row;return W-1}},{key:"getMoveDownRowByKeyDownInternal",value:function(T){var W=T.row;return W+1}},{key:"getOffsetInvalidateCells",value:function(){return 0}},{key:"getCopyRangeInternal",value:function(T){return T}},{key:"_getInitContext",value:function(){var T=this[g].context;return T.fillStyle="white",T.strokeStyle="black",T.textAlign="left",T.textBaseline="top",T.lineWidth=1,T.font=this.font||"16px sans-serif",T}},{key:"fireListeners",value:function(T){for(var W,oe=arguments.length,le=new Array(oe>1?oe-1:0),je=1;je<oe;je++)le[je-1]=arguments[je];return(W=ie(Ue(q.prototype),"fireListeners",this)).call.apply(W,[this,T].concat(le))}}],[{key:"EVENT_TYPE",get:function(){return e.DG_EVENT_TYPE}}]),q}(a.EventTarget);r.DrawGrid=Tn},"./core/EventTarget.js":function(ee,r,s){var I;Object.defineProperty(r,"__esModule",{value:!0}),r.EventTarget=void 0;var _=s("./internal/utils.js"),y=s("./internal/symbolManager.js"),E=(0,y.get)(),w=1,v=function(){function t(){fe(this,t),this[I]={listeners:{},listenerData:{}}}return Ie(t,[{key:"listen",value:function(e,o){var a=this,i=this[E].listeners[e]||(this[E].listeners[e]=[]);i.push(o);var l=w++;return this[E].listenerData[l]={type:e,listener:o,remove:function(){delete a[E].listenerData[l];var f=i.indexOf(o);i.splice(f,1),a[E].listeners[e].length||delete a[E].listeners[e]}},l}},{key:"unlisten",value:function(e){!this[E]||this[E].listenerData[e].remove()}},{key:"addEventListener",value:function(e,o){this.listen(e,o)}},{key:"removeEventListener",value:function(e,o){var a=this;!this[E]||(0,_.each)(this[E].listenerData,function(i,l){i.type===e&&i.listener===o&&a.unlisten(l)})}},{key:"hasListeners",value:function(e){return this[E]?!!this[E].listeners[e]:!1}},{key:"fireListeners",value:function(e){for(var o=this,a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];if(!this[E])return[];var u=this[E].listeners[e];return u?u.map(function(f){return f.call.apply(f,[o].concat(i))}).filter(function(f){return f!=null}):[]}},{key:"dispose",value:function(){delete this[E]}}]),t}();r.EventTarget=v,I=E},"./data.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.FilterDataSource=r.CachedDataSource=r.DataSource=void 0;var I=s("./data/DataSource.js");Object.defineProperty(r,"DataSource",{enumerable:!0,get:function(){return I.DataSource}});var _=s("./data/CachedDataSource.js");Object.defineProperty(r,"CachedDataSource",{enumerable:!0,get:function(){return _.CachedDataSource}});var y=s("./data/FilterDataSource.js");Object.defineProperty(r,"FilterDataSource",{enumerable:!0,get:function(){return y.FilterDataSource}})},"./data/CachedDataSource.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.CachedDataSource=void 0;var I=s("./data/DataSource.js");function _(E,w,v,t){var n=E[w]||(E[w]=new Map);n.set(v,t)}var y=function(E){Ce(v,E);var w=Be(v);function v(t){var n;return fe(this,v),n=w.call(this,t),n._rCache={},n._fCache={},n}return Ie(v,[{key:"getOriginal",value:function(n){return this._rCache&&this._rCache[n]?this._rCache[n]:ie(Ue(v.prototype),"getOriginal",this).call(this,n)}},{key:"getOriginalField",value:function(n,e){var o=this._fCache&&this._fCache[n];if(o){var a=o.get(e);if(a)return a}return ie(Ue(v.prototype),"getOriginalField",this).call(this,n,e)}},{key:"setOriginalField",value:function(n,e,o){var a=this._fCache;return a&&a[n]&&delete a[n],ie(Ue(v.prototype),"setOriginalField",this).call(this,n,e,o)}},{key:"clearCache",value:function(){this._rCache&&(this._rCache={}),this._fCache&&(this._fCache={})}},{key:"fieldPromiseCallBackInternal",value:function(n,e,o){_(this._fCache,n,e,o)}},{key:"recordPromiseCallBackInternal",value:function(n,e){this._rCache[n]=e}},{key:"dispose",value:function(){ie(Ue(v.prototype),"dispose",this).call(this)}}],[{key:"EVENT_TYPE",get:function(){return I.DataSource.EVENT_TYPE}},{key:"ofArray",value:function(n){return new v({get:function(o){return n[o]},length:n.length,source:n})}}]),v}(I.DataSource);r.CachedDataSource=y},"./data/DataSource.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(u,f,m,d){d===void 0&&(d=m),Object.defineProperty(u,d,{enumerable:!0,get:function(){return f[m]}})}:function(u,f,m,d){d===void 0&&(d=m),u[d]=f[m]}),_=this&&this.__setModuleDefault||(Object.create?function(u,f){Object.defineProperty(u,"default",{enumerable:!0,value:f})}:function(u,f){u.default=f}),y=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var m in u)m!=="default"&&Object.prototype.hasOwnProperty.call(u,m)&&I(f,u,m);return _(f,u),f};Object.defineProperty(r,"__esModule",{value:!0}),r.DataSource=void 0;var E=y(s("./internal/sort.js")),w=s("./internal/utils.js"),v=s("./core/EventTarget.js");function t(u){return!!(w.obj.isObject(u)&&u.get&&u.set)}var n={UPDATE_LENGTH:"update_length",UPDATED_LENGTH:"updated_length",UPDATED_ORDER:"updated_order"};function e(u,f){var m=(0,w.getOrApply)(u);if((0,w.isPromise)(m)){var d=m.then(function(C){return f(C),C});return f(d),d}else return m}function o(u,f,m){if(u!=null){if((0,w.isPromise)(u))return u.then(function(L){return o(L,f,m)});var d=t(f)?f.get:f;if(d in u){var C=u[d];return e(C,m)}if(typeof d=="function"){var p=d(u);return e(p,m)}var B="".concat(d).split(".");if(B.length<=1){var j=u[d];return e(j,m)}var g=w.applyChainSafe.apply(void 0,[u,function(L,G){return o(L,G,w.emptyFn)}].concat(ze(B)));return e(g,m)}}function a(u,f,m){if(u==null)return!1;var d=t(f)?f.set:f;if(d in u)u[d]=m;else{if(typeof d=="function")return d(u,m);if(typeof d=="string")for(var C="".concat(d).split("."),p=u,B=C.length,j=0;j<B;j++){var g=C[j];j===B-1?p[g]=m:p=p[g]||(p[g]={})}else u[d]=m}return!0}function i(u,f){if(!u)return f;var m=u[f];return m!=null?m:f}var l=function(u){Ce(m,u);var f=Be(m);function m(d){var C;fe(this,m);var p;return C=f.call(this),C._sortedIndexMap=null,C._get=(d==null?void 0:d.get.bind(d))||void 0,C._length=(d==null?void 0:d.length)||0,C._source=(p=d==null?void 0:d.source)!==null&&p!==void 0?p:d,C}return Ie(m,[{key:"source",get:function(){return this._source}},{key:"get",value:function(C){return this.getOriginal(i(this._sortedIndexMap,C))}},{key:"getField",value:function(C,p){return this.getOriginalField(i(this._sortedIndexMap,C),p)}},{key:"hasField",value:function(C,p){return this.hasOriginalField(i(this._sortedIndexMap,C),p)}},{key:"setField",value:function(C,p,B){return this.setOriginalField(i(this._sortedIndexMap,C),p,B)}},{key:"sort",value:function(C,p){var B=this,j=new Array(this._length),g=p!=="desc"?function(L,G){return L===G?0:L>G?1:-1}:function(L,G){return L===G?0:L<G?1:-1};return E.sortPromise(function(L){return j[L]!=null?j[L]:j[L]=L},function(L,G){j[L]=G},this._length,g,function(L){return B.getOriginalField(L,C)}).then(function(){B._sortedIndexMap=j,B.fireListeners(n.UPDATED_ORDER)})}},{key:"length",get:function(){return this._length},set:function(C){if(this._length!==C){var p=this.fireListeners(n.UPDATE_LENGTH,C);w.array.findIndex(p,function(B){return!B})>=0||(this._length=C,this.fireListeners(n.UPDATED_LENGTH,this._length))}}},{key:"dataSource",get:function(){return this}},{key:"dispose",value:function(){ie(Ue(m.prototype),"dispose",this).call(this)}},{key:"getOriginal",value:function(C){var p=this;return e(this._get(C),function(B){p.recordPromiseCallBackInternal(C,B)})}},{key:"getOriginalField",value:function(C,p){var B=this;if(p!=null){var j=this.getOriginal(C);return o(j,p,function(g){B.fieldPromiseCallBackInternal(C,p,g)})}}},{key:"hasOriginalField",value:function(C,p){if(p==null)return!1;if(typeof p=="function")return!0;var B=this.getOriginal(C);return Boolean(B&&p in B)}},{key:"setOriginalField",value:function(C,p,B){if(p==null)return!1;var j=this.getOriginal(C);return(0,w.isPromise)(j)?j.then(function(g){return a(g,p,B)}):a(j,p,B)}},{key:"fieldPromiseCallBackInternal",value:function(C,p,B){}},{key:"recordPromiseCallBackInternal",value:function(C,p){}}],[{key:"EVENT_TYPE",get:function(){return n}},{key:"ofArray",value:function(C){return new m({get:function(B){return C[B]},length:C.length,source:C})}}]),m}(v.EventTarget);r.DataSource=l,l.EMPTY=new l({get:function(){},length:0})},"./data/FilterDataSource.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.FilterDataSource=void 0;var I=s("./internal/utils.js"),_=s("./data/DataSource.js"),y=s("./internal/EventHandler.js"),E=function(){function t(n){fe(this,t),this._dataSource=n,this._curIndex=-1,this._data=[]}return Ie(t,[{key:"hasNext",value:function(){var e=this._curIndex+1;return this._dataSource.length>e}},{key:"next",value:function(){var e=this._curIndex+1,o=this._getIndexData(e);return this._curIndex=e,o}},{key:"movePrev",value:function(){this._curIndex--}},{key:"_getIndexData",value:function(e,o){var a=this._dataSource,i=this._data;if(e<i.length)return i[e];if(!(a.length<=e)){var l=this._dataSource.get(e);if(i[e]=l,(0,I.isPromise)(l)&&(l.then(function(f){i[e]=f}),!o))for(var u=1;u<=100;u++)this._getIndexData(e+u,!0);return l}}}]),t}(),w=function(){function t(n,e,o){fe(this,t),this._cancel=!1,this._owner=n,this._dataSourceItr=new E(e),this._filter=o,this._filterdList=[],this._queues=[]}return Ie(t,[{key:"get",value:function(e){if(!this._cancel){var o=this._filterdList;if(e<o.length)return o[e];var a=this._queues,i=a[e];return i||a[e]||this._findIndex(e)}}},{key:"cancel",value:function(){this._cancel=!0}},{key:"_findIndex",value:function(e){if(be.Promise){var o=Date.now()+100,a=0;return this._findIndexWithTimeout(e,function(){return a++,a>=100?(a=0,o<Date.now()):!1})}return this._findIndexWithTimeout(e,function(){return!1})}},{key:"_findIndexWithTimeout",value:function(e,o){for(var a=this,i=this._filterdList,l=this._filter,u=this._dataSourceItr,f=this._queues;u.hasNext();){if(this._cancel)return;var m=u.next();if((0,I.isPromise)(m)){u.movePrev();var d=m.then(function(j){return f[e]=null,a.get(e)});return f[e]=d,d}if(l(m)&&(i.push(m),e<i.length))return i[e];if(o()){var C=new Promise(function(j){setTimeout(function(){j()},300)}),p=C.then(function(){return f[e]=null,a.get(e)});return f[e]=p,p}}var B=this._owner;B.length=i.length}}]),t}(),v=function(t){Ce(e,t);var n=Be(e);function e(o,a){var i;fe(this,e),i=n.call(this,o),i._filterData=null,i._dataSource=o,i.filter=a;var l=i._handler=new y.EventHandler;return l.on(o,_.DataSource.EVENT_TYPE.UPDATED_ORDER,function(){i.filter=i.filter}),(0,I.each)(_.DataSource.EVENT_TYPE,function(u){l.on(o,u,function(){for(var f,m=arguments.length,d=new Array(m),C=0;C<m;C++)d[C]=arguments[C];return(f=i).fireListeners.apply(f,[u].concat(d))})}),i}return Ie(e,[{key:"filter",get:function(){var a;return((a=this._filterData)===null||a===void 0?void 0:a._filter)||null},set:function(a){this._filterData&&this._filterData.cancel(),this._filterData=a?new w(this,this._dataSource,a):null,this.length=this._dataSource.length}},{key:"getOriginal",value:function(a){return this._filterData?this._filterData.get(a):ie(Ue(e.prototype),"getOriginal",this).call(this,a)}},{key:"sort",value:function(a,i){return this._dataSource.sort(a,i)}},{key:"source",get:function(){return this._dataSource.source}},{key:"dataSource",get:function(){return this._dataSource}},{key:"dispose",value:function(){this._handler.dispose(),ie(Ue(e.prototype),"dispose",this).call(this)}}],[{key:"EVENT_TYPE",get:function(){return _.DataSource.EVENT_TYPE}}]),e}(_.DataSource);r.FilterDataSource=v},"./element/Inline.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Inline=void 0;var I=s("./internal/utils.js");function _(w,v){return w.measureText(v).width}function y(w,v,t,n,e){for(var o=[],a=t.next(),i=0;i<n&&a!==null;i++,a=t.next())o.push(a);var l=_(w,o.join(""));if(l>e)for(;o.length;){var u=o.pop();if(l-=_(w,u||""),l<=e)break}else if(l<e)for(;a!==null;){var f=_(w,a);if(l+f>e)break;o.push(a),l+=f,a=t.next()}var m=o.join("").replace(/\s+$/,""),d=v.slice(m.length).replace(/^\s+/,"");return{before:m?new E(m):null,after:d?new E(d):null}}var E=function(){function w(v){fe(this,w),this._content=v!=null?v:""}return Ie(w,[{key:"width",value:function(t){var n=t.ctx;return _(n,this._content)}},{key:"font",value:function(){return null}},{key:"color",value:function(){return null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(t){}},{key:"draw",value:function(t){var n=t.ctx,e=t.canvashelper,o=t.rect,a=t.offset,i=t.offsetLeft,l=t.offsetRight,u=t.offsetTop,f=t.offsetBottom;e.fillTextRect(n,this._content,o.left,o.top,o.width,o.height,{offset:a+1,padding:{left:i,right:l,top:u,bottom:f}})}},{key:"canBreak",value:function(){return!!this._content}},{key:"splitIndex",value:function(t){for(var n=this._content,e=I.str.genChars(n),o=[],a=e.next(),i=0;i<t&&a!==null;i++,a=e.next())o.push(a);var l=o.join(""),u=n.slice(l.length);return{before:l?new w(l):null,after:u?new w(u):null}}},{key:"breakWord",value:function(t,n){var e=this._content,o=this.width({ctx:t}),a=Math.floor(this._content.length*n/o),i=I.str.genWords(e);return y(t,e,i,a,n)}},{key:"breakAll",value:function(t,n){var e=this._content,o=this.width({ctx:t}),a=Math.floor(this._content.length*n/o),i=I.str.genChars(e);return y(t,e,i,a,n)}},{key:"toString",value:function(){return this._content}}]),w}();r.Inline=E},"./element/InlineDrawer.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineDrawer=void 0;var I=s("./element/Inline.js"),_=function(y){Ce(w,y);var E=Be(w);function w(v){var t,n=v.draw,e=v.width,o=v.color;return fe(this,w),t=E.call(this),t._draw=n,t._width=e,t._color=o,t}return Ie(w,[{key:"width",value:function(t){return this._width}},{key:"font",value:function(){return null}},{key:"color",value:function(){var t;return(t=this._color)!==null&&t!==void 0?t:null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(t){}},{key:"draw",value:function(t){var n=t.ctx,e=t.canvashelper,o=t.rect,a=t.offset,i=t.offsetLeft,l=t.offsetRight,u=t.offsetTop,f=t.offsetBottom;this._draw({ctx:n,canvashelper:e,rect:o,offset:a,offsetLeft:i,offsetRight:l,offsetTop:u,offsetBottom:f})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),w}(I.Inline);r.InlineDrawer=_},"./element/InlineIcon.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(t,n,e,o){o===void 0&&(o=e),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,o){o===void 0&&(o=e),t[o]=n[e]}),_=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),y=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&I(n,t,e);return _(n,t),n};Object.defineProperty(r,"__esModule",{value:!0}),r.InlineIcon=void 0;var E=y(s("./internal/fonts.js")),w=s("./element/Inline.js"),v=function(t){Ce(e,t);var n=Be(e);function e(o){var a;return fe(this,e),a=n.call(this),a._icon=o||{},a}return Ie(e,[{key:"width",value:function(a){var i=a.ctx,l=this._icon;if(l.width)return l.width;if(l.font&&E.check(l.font,l.content||"")){i.save(),i.canvas.style.letterSpacing="normal";try{return i.font=l.font||i.font,i.measureText(l.content||"").width}finally{i.canvas.style.letterSpacing="",i.restore()}}return 0}},{key:"font",value:function(){var a;return(a=this._icon.font)!==null&&a!==void 0?a:null}},{key:"color",value:function(){var a;return(a=this._icon.color)!==null&&a!==void 0?a:null}},{key:"canDraw",value:function(){var a=this._icon;return a.font?E.check(a.font,a.content||""):!0}},{key:"onReady",value:function(a){var i=this._icon;i.font&&!E.check(i.font,i.content||"")&&E.load(i.font,i.content||"",a)}},{key:"draw",value:function(a){var i=a.ctx,l=a.canvashelper,u=a.rect,f=a.offset,m=a.offsetLeft,d=a.offsetRight,C=a.offsetTop,p=a.offsetBottom,B=this._icon;if(B.content){i.canvas.style.letterSpacing="normal";try{i.font=i.font,l.fillTextRect(i,B.content,u.left,u.top,u.width,u.height,{offset:f+1,padding:{left:m,right:d,top:C,bottom:p}})}finally{i.canvas.style.letterSpacing=""}}}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),e}(w.Inline);r.InlineIcon=v},"./element/InlineImage.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineImage=void 0;var I=s("./element/Inline.js"),_=s("./internal/imgs.js"),y=s("./internal/utils.js"),E=function(w){Ce(t,w);var v=Be(t);function t(n){var e,o=n.src,a=n.width,i=n.height,l=n.imageLeft,u=n.imageTop,f=n.imageWidth,m=n.imageHeight;return fe(this,t),e=v.call(this),e._inlineImgPromise=null,e._inlineImg=null,e._src=o,e._width=a,e._height=i,e._imageLeft=l,e._imageTop=u,e._imageWidth=f,e._imageHeight=m,e._onloaded=[],(0,y.isPromise)(o)?o.then(function(d){e._src=d,e._loadImage(d)}):e._loadImage(o),e}return Ie(t,[{key:"_loadImage",value:function(e){var o=this,a=this._inlineImgPromise=(0,_.getCacheOrLoad)("InlineImage",50,e);(0,y.isPromise)(a)?a.then(function(i){o._inlineImg=i,o._onloaded.forEach(function(l){return l()})}):this._inlineImg=a}},{key:"width",value:function(e){var o,a;return this._width||((a=(o=this._inlineImg)===null||o===void 0?void 0:o.width)!==null&&a!==void 0?a:0)}},{key:"font",value:function(){return null}},{key:"color",value:function(){return null}},{key:"canDraw",value:function(){return!!this._inlineImg}},{key:"onReady",value:function(e){((0,y.isPromise)(this._src)||(0,y.isPromise)(this._inlineImgPromise))&&this._onloaded.push(function(){return e()})}},{key:"draw",value:function(e){var o=e.ctx,a=e.canvashelper,i=e.rect,l=e.offset,u=e.offsetLeft,f=e.offsetRight,m=e.offsetTop,d=e.offsetBottom,C=this._inlineImg;a.drawInlineImageRect(o,C,this._imageLeft||0,this._imageTop||0,this._imageWidth||C.width,this._imageHeight||C.height,this._width||C.width,this._height||C.height,i.left,i.top,i.width,i.height,{offset:l+1,padding:{left:u,right:f,top:m,bottom:d}})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),t}(I.Inline);r.InlineImage=E},"./element/InlinePath2D.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(n,e,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return e[o]}})}:function(n,e,o,a){a===void 0&&(a=o),n[a]=e[o]}),_=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&I(e,n,o);return _(e,n),e};Object.defineProperty(r,"__esModule",{value:!0}),r.InlinePath2D=void 0;var E=y(s("./internal/path2DManager.js")),w=s("./element/Inline.js"),v=s("./internal/canvases.js"),t=function(n){Ce(o,n);var e=Be(o);function o(a){var i,l=a.path,u=a.width,f=a.height,m=a.color;fe(this,o),i=e.call(this);var d=E.getPath2D();return i._path=new d(l),i._width=u,i._height=f,i._color=m,i}return Ie(o,[{key:"width",value:function(i){return this._width}},{key:"font",value:function(){return null}},{key:"color",value:function(){var i;return(i=this._color)!==null&&i!==void 0?i:null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(i){}},{key:"draw",value:function(i){var l=i.ctx,u=i.rect,f=i.offset,m=i.offsetLeft,d=i.offsetRight,C=i.offsetTop,p=i.offsetBottom;f++;var B={left:m,right:d,top:C,bottom:p};l.save();try{l.beginPath(),l.rect(u.left,u.top,u.width,u.height),l.clip();var j=(0,v.calcStartPosition)(l,u,this._width,this._height,{offset:f,padding:B});l.translate(j.x,j.y),l.fill(this._path)}finally{l.restore()}}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),o}(w.Inline);r.InlinePath2D=t},"./element/InlineSvg.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.InlineSvg=void 0;var I=s("./internal/utils.js"),_=s("./element/InlineImage.js");function y(v){var t=typeof v=="string"?v:new XMLSerializer().serializeToString(v),n="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t));return n}function E(v){if(typeof v=="string"){var t=new DOMParser;return t.parseFromString(v,"image/svg+xml").children[0]}else return v}var w=function(v){Ce(n,v);var t=Be(n);function n(e){var o=e.svg,a=e.width,i=e.height;fe(this,n);var l,u,f=(0,I.then)(o,E),m=(0,I.isPromise)(f)?void 0:(l=f.getAttribute("width"))!==null&&l!==void 0?l:void 0,d=(0,I.isPromise)(f)?void 0:(u=f.getAttribute("height"))!==null&&u!==void 0?u:void 0,C=m!=null?Number(m):void 0,p=d!=null?Number(d):void 0;return t.call(this,{src:(0,I.then)(o,y),width:a||C,height:i||p,imageWidth:C,imageHeight:p})}return Ie(n,[{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),n}(_.InlineImage);r.InlineSvg=w},"./element/inlines.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(j,g,L,G){G===void 0&&(G=L),Object.defineProperty(j,G,{enumerable:!0,get:function(){return g[L]}})}:function(j,g,L,G){G===void 0&&(G=L),j[G]=g[L]}),_=this&&this.__setModuleDefault||(Object.create?function(j,g){Object.defineProperty(j,"default",{enumerable:!0,value:g})}:function(j,g){j.default=g}),y=this&&this.__importStar||function(j){if(j&&j.__esModule)return j;var g={};if(j!=null)for(var L in j)L!=="default"&&Object.prototype.hasOwnProperty.call(j,L)&&I(g,j,L);return _(g,j),g};Object.defineProperty(r,"__esModule",{value:!0}),r.string=r.buildInlines=r.of=r.iconOf=void 0;var E=y(s("./icons.js")),w=y(s("./internal/path2DManager.js")),v=s("./element/Inline.js"),t=s("./element/InlineDrawer.js"),n=s("./element/InlineIcon.js"),e=s("./element/InlineImage.js"),o=s("./element/InlinePath2D.js"),a=s("./element/InlineSvg.js"),i=s("./internal/canvases.js");function l(j,g,L,G,M,K,J,ae){var ce=arguments.length>8&&arguments[8]!==void 0?arguments[8]:{},re=ce.offset,Ee=re===void 0?2:re,$e=ce.padding,Ae={left:M,top:K,width:J,height:ae,right:M+J,bottom:K+ae};j.save();try{j.beginPath(),j.rect(Ae.left,Ae.top,Ae.width,Ae.height),j.clip();var Je=(0,i.calcStartPosition)(j,Ae,L,G,{offset:Ee,padding:$e});w.fill(g,j,Je.x,Je.y,L,G)}finally{j.restore()}}function u(j){return!!(j.font&&j.content)}function f(j){return!!j.src}function m(j){return!!j.path}function d(j){if(j instanceof v.Inline)return j;if(!j)return null;if(u(j))return new n.InlineIcon(j);if(f(j))return new e.InlineImage({src:j.src,width:j.width,height:j.width});if(j.svg)return new a.InlineSvg({svg:j.svg,width:j.width,height:j.width});if(m(j))return new o.InlinePath2D({path:j.path,width:j.width,height:j.width,color:j.color});var g=E.get();if(j.name&&g[j.name]){var L=g[j.name],G=j.width||Math.max(L.width,L.height);return new t.InlineDrawer({draw:function(K){var J=K.ctx,ae=K.rect,ce=K.offset,re=K.offsetLeft,Ee=K.offsetRight,$e=K.offsetTop,Ae=K.offsetBottom;l(J,L,G,G,ae.left,ae.top,ae.width,ae.height,{offset:ce+1,padding:{left:re,right:Ee,top:$e,bottom:Ae}})},width:G,height:G,color:j.color})}return new n.InlineIcon(j)}r.iconOf=d;function C(j){return j==null?null:j instanceof v.Inline?j:new v.Inline(j)}r.of=C;function p(j,g){var L=[];if(j&&L.push.apply(L,ze(j.map(function(M){return d(M)}).filter(function(M){return M!=null}))),Array.isArray(g))L.push.apply(L,ze(g.map(function(M){return C(M)}).filter(function(M){return M!=null})));else{var G=C(g);G&&L.push(G)}return L}r.buildInlines=p;function B(j){return p(void 0,j).join("")}r.string=B},"./get-internal.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getInternal=void 0;function I(){return console.warn("use internal!!"),{color:s("./internal/color.js"),sort:s("./internal/sort.js"),calc:s("./internal/calc.js"),symbolManager:s("./internal/symbolManager.js"),path2DManager:s("./internal/path2DManager.js"),pasteUtils:s("./internal/paste-utils.js")}}r.getInternal=I},"./header/action.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ofCell=r.of=r.CheckHeaderAction=r.SortHeaderAction=r.BaseAction=r.ACTIONS=void 0;var I=s("./header/action/BaseAction.js");Object.defineProperty(r,"BaseAction",{enumerable:!0,get:function(){return I.BaseAction}});var _=s("./header/action/CheckHeaderAction.js");Object.defineProperty(r,"CheckHeaderAction",{enumerable:!0,get:function(){return _.CheckHeaderAction}});var y=s("./header/action/SortHeaderAction.js");Object.defineProperty(r,"SortHeaderAction",{enumerable:!0,get:function(){return y.SortHeaderAction}});var E=function(n){Ce(o,n);var e=Be(o);function o(){return fe(this,o),e.apply(this,arguments)}return Ie(o,[{key:"disabled",get:function(){return this._disabled}}]),o}(y.SortHeaderAction),w=function(n){Ce(o,n);var e=Be(o);function o(){return fe(this,o),e.apply(this,arguments)}return Ie(o,[{key:"disabled",get:function(){return this._disabled}}]),o}(_.CheckHeaderAction);r.ACTIONS={SORT:new E,CHECK:new w};function v(n){if(n)if(typeof n=="string"){var e=n.toUpperCase();return r.ACTIONS[e]||v(null)}else return n;else return}r.of=v;function t(n){if(n.sort){if(typeof n.sort=="function"){var e=n.sort,o=function(i){var l=i.order,u=i.col,f=i.grid;return e.call(n,l,u,f)};return new E({sort:o})}return r.ACTIONS.SORT}return v(n.headerAction)}r.ofCell=t},"./header/action/BaseAction.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseAction=void 0;var I=function(){function _(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,_),this._disabled=!!y.disabled||!1}return Ie(_,[{key:"disabled",get:function(){return this._disabled},set:function(E){this._disabled=E,this.onChangeDisabledInternal()}},{key:"clone",value:function(){return new _(this)}},{key:"bindGridEvent",value:function(E,w){return[]}},{key:"onChangeDisabledInternal",value:function(){}}]),_}();r.BaseAction=I},"./header/action/CheckHeaderAction.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckHeaderAction=void 0;var I=s("./header/action/actionBind.js"),_=s("./header/action/BaseAction.js"),y=s("./internal/animate.js"),E=s("./internal/symbolManager.js"),w=s("./internal/utils.js"),v=(0,E.getCheckHeaderStateId)();function t(e){var o=e[v];return o||(o={elapsed:{},block:{}},w.obj.setReadonly(e,v,o)),o}var n=function(e){Ce(a,e);var o=Be(a);function a(){return fe(this,a),o.apply(this,arguments)}return Ie(a,[{key:"clone",value:function(){return new a(this)}},{key:"bindGridEvent",value:function(l,u){var f=this,m=t(l),d=function(p){var B=p.col,j=p.row,g=l.getCellRange(B,j),L="".concat(g.start.col,":").concat(g.start.row);if(!(f.disabled||m.block[L])){var G=l.getHeaderValue(g.start.col,g.start.row);l.setHeaderValue(g.start.col,g.start.row,!G);var M=function(){(0,y.animate)(200,function(J){J===1?delete m.elapsed[L]:m.elapsed[L]=J,l.invalidateCellRange(g)})};M()}};return[].concat(ze((0,I.bindCellClickAction)(l,u,{action:d,mouseOver:function(p){if(f.disabled)return!1;m.mouseActiveCell={col:p.col,row:p.row};var B=l.getCellRange(p.col,p.row);return l.invalidateCellRange(B),!0},mouseOut:function(p){delete m.mouseActiveCell;var B=l.getCellRange(p.col,p.row);l.invalidateCellRange(B)}})),ze((0,I.bindCellKeyAction)(l,u,{action:d})))}}]),a}(_.BaseAction);r.CheckHeaderAction=n},"./header/action/SortHeaderAction.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SortHeaderAction=void 0;var I=s("./header/action/BaseAction.js"),_=s("./header/action/actionBind.js"),y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,v);var e;return t=w.call(this,n),t._sort=(e=n.sort)!==null&&e!==void 0?e:!0,t}return Ie(v,[{key:"sort",get:function(){return this._sort},set:function(n){this._sort=n,this.onChangeDisabledInternal()}},{key:"clone",value:function(){return new v(this)}},{key:"_executeSort",value:function(n,e){if(typeof this._sort=="function")this._sort({order:n.order||"asc",col:n.col,row:n.row,grid:e});else{var o=Math.min(e.recordRowCount-1,n.row)+e.frozenRowCount,a=e.getField(n.col,o);if(a==null)return;e.dataSource.sort(a,n.order||"asc")}}},{key:"bindGridEvent",value:function(n,e){var o=this;function a(l,u){return n.getLayoutCellId(l,u)===e}var i=function(u){if(!o.disabled){var f=n.sortState,m,d=n.getCellRange(u.col,u.row);a(f.col,u.row)?m={col:d.start.col,row:d.start.row,order:f.order==="asc"?"desc":"asc"}:m={col:d.start.col,row:d.start.row,order:"asc"},n.sortState=m,o._executeSort(m,n),n.invalidateGridRect(0,0,n.colCount-1,n.rowCount-1)}};return ze((0,_.bindCellClickAction)(n,e,{action:i,mouseOver:function(u){return!o.disabled}}))}}]),v}(I.BaseAction);r.SortHeaderAction=y},"./header/action/actionBind.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.bindCellKeyAction=r.bindCellClickAction=void 0;var I=s("./core/DG_EVENT_TYPE.js"),_=s("./internal/utils.js"),y=13,E=32;function w(t,n,e){var o=e.action,a=e.mouseOver,i=e.mouseOut;function l(f,m){return t.getLayoutCellId(f,m)===n}var u;return[t.listen(I.DG_EVENT_TYPE.CLICK_CELL,function(f){!l(f.col,f.row)||o({col:f.col,row:f.row})}),t.listen(I.DG_EVENT_TYPE.MOUSEOVER_CELL,function(f){!l(f.col,f.row)||a&&!a({col:f.col,row:f.row})||(t.getElement().style.cursor="pointer",u=!0)}),t.listen(I.DG_EVENT_TYPE.MOUSEMOVE_CELL,function(f){!l(f.col,f.row)||u&&!t.getElement().style.cursor&&(t.getElement().style.cursor="pointer")}),t.listen(I.DG_EVENT_TYPE.MOUSEOUT_CELL,function(f){!l(f.col,f.row)||(i&&i({col:f.col,row:f.row}),t.getElement().style.cursor="",u=!1)})]}r.bindCellClickAction=w;function v(t,n,e){var o=e.action,a=e.acceptKeys,i=a===void 0?[]:a;function l(u,f){return t.getLayoutCellId(u,f)===n}return i=[].concat(ze(i),[y,E]),[t.listen(I.DG_EVENT_TYPE.KEYDOWN,function(u){var f;if(i.indexOf(u.keyCode)!==-1&&!(((f=t.keyboardOptions)===null||f===void 0?void 0:f.moveCellOnEnter)&&u.keyCode===y)){var m=t.selection.select;!l(m.col,m.row)||(o({col:m.col,row:m.row}),_.event.cancel(u.event))}})]}r.bindCellKeyAction=v},"./header/style.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.of=r.MultilineTextHeaderStyle=r.CheckHeaderStyle=r.SortHeaderStyle=r.Style=r.BaseStyle=void 0;var I=s("./header/style/BaseStyle.js");Object.defineProperty(r,"BaseStyle",{enumerable:!0,get:function(){return I.BaseStyle}});var _=s("./header/style/CheckHeaderStyle.js");Object.defineProperty(r,"CheckHeaderStyle",{enumerable:!0,get:function(){return _.CheckHeaderStyle}});var y=s("./header/style/MultilineTextHeaderStyle.js");Object.defineProperty(r,"MultilineTextHeaderStyle",{enumerable:!0,get:function(){return y.MultilineTextHeaderStyle}});var E=s("./header/style/SortHeaderStyle.js");Object.defineProperty(r,"SortHeaderStyle",{enumerable:!0,get:function(){return E.SortHeaderStyle}});var w=s("./header/style/Style.js");Object.defineProperty(r,"Style",{enumerable:!0,get:function(){return w.Style}});function v(t,n){return t?t instanceof w.Style?t:typeof t=="function"?v(t(),n):new n(t):n.DEFAULT}r.of=v},"./header/style/BaseStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseStyle=void 0;var I=s("./core/EventTarget.js"),_={CHANGE_STYLE:"change_style"},y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.bgColor;return fe(this,t),n=v.call(this),n._bgColor=o,n}return Ie(t,[{key:"bgColor",get:function(){return this._bgColor},set:function(e){this._bgColor=e,this.doChangeStyle()}},{key:"doChangeStyle",value:function(){this.fireListeners(_.CHANGE_STYLE)}},{key:"clone",value:function(){return new t(this)}}],[{key:"EVENT_TYPE",get:function(){return _}},{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.EventTarget);r.BaseStyle=E},"./header/style/CheckHeaderStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckHeaderStyle=void 0;var I=s("./header/style/Style.js"),_=s("./internal/utils.js"),y,E=function(w){Ce(t,w);var v=Be(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(this,t),n=v.call(this,(0,_.defaults)(e,{textAlign:"center"}));var o=e.uncheckBgColor,a=e.checkBgColor,i=e.borderColor;return n._uncheckBgColor=o,n._checkBgColor=a,n._borderColor=i,n}return Ie(t,[{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(e){this._uncheckBgColor=e,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(e){this._checkBgColor=e,this.doChangeStyle()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.doChangeStyle()}},{key:"clone",value:function(){return new t(this)}}],[{key:"DEFAULT",get:function(){return y||(y=new t)}}]),t}(I.Style);r.CheckHeaderStyle=E},"./header/style/MultilineTextHeaderStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.MultilineTextHeaderStyle=void 0;var I=s("./header/style/Style.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,v),t=w.call(this,n),t._lineHeight=n.lineHeight||"1em",t._autoWrapText=n.autoWrapText||!1,t._lineClamp=n.lineClamp,t}return Ie(v,[{key:"clone",value:function(){return new v(this)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(n){this._lineHeight=n,this.doChangeStyle()}},{key:"lineClamp",get:function(){return this._lineClamp},set:function(n){this._lineClamp=n,this.doChangeStyle()}},{key:"autoWrapText",get:function(){return this._autoWrapText},set:function(n){this._autoWrapText=n,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.Style);r.MultilineTextHeaderStyle=y},"./header/style/SortHeaderStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SortHeaderStyle=void 0;var I=s("./header/style/MultilineTextHeaderStyle.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,v),t=w.call(this,n),t._sortArrowColor=n.sortArrowColor,t._multiline=n.multiline,t}return Ie(v,[{key:"sortArrowColor",get:function(){return this._sortArrowColor},set:function(n){this._sortArrowColor=n,this.doChangeStyle()}},{key:"multiline",get:function(){return!!this._multiline},set:function(n){this._multiline=n,this.doChangeStyle()}},{key:"clone",value:function(){return new v(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.MultilineTextHeaderStyle);r.SortHeaderStyle=y},"./header/style/StdBaseStyle.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.StdBaseStyle=void 0;var I=s("./header/style/BaseStyle.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,v),t=w.call(this,n),t._textAlign=n.textAlign||"left",t._textBaseline=n.textBaseline||"middle",t}return Ie(v,[{key:"textAlign",get:function(){return this._textAlign},set:function(n){this._textAlign=n,this.doChangeStyle()}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(n){this._textBaseline=n,this.doChangeStyle()}},{key:"clone",value:function(){return new v(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.BaseStyle);r.StdBaseStyle=y},"./header/style/Style.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Style=void 0;var I=s("./header/style/StdBaseStyle.js"),_,y=function(E){Ce(v,E);var w=Be(v);function v(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fe(this,v),t=w.call(this,n),t._color=n.color,t._font=n.font,t._padding=n.padding,t._textOverflow=n.textOverflow||"ellipsis",t}return Ie(v,[{key:"color",get:function(){return this._color},set:function(n){this._color=n,this.doChangeStyle()}},{key:"font",get:function(){return this._font},set:function(n){this._font=n,this.doChangeStyle()}},{key:"padding",get:function(){return this._padding},set:function(n){this._padding=n,this.doChangeStyle()}},{key:"textOverflow",get:function(){return this._textOverflow},set:function(n){this._textOverflow=n,this.doChangeStyle()}},{key:"clone",value:function(){return new v(this)}}],[{key:"DEFAULT",get:function(){return _||(_=new v)}}]),v}(I.StdBaseStyle);r.Style=y},"./header/type.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ofCell=r.of=r.MultilineTextHeader=r.CheckHeader=r.SortHeader=r.Header=r.BaseHeader=void 0;var I=s("./header/type/BaseHeader.js");Object.defineProperty(r,"BaseHeader",{enumerable:!0,get:function(){return I.BaseHeader}});var _=s("./header/type/CheckHeader.js");Object.defineProperty(r,"CheckHeader",{enumerable:!0,get:function(){return _.CheckHeader}});var y=s("./header/type/Header.js");Object.defineProperty(r,"Header",{enumerable:!0,get:function(){return y.Header}});var E=s("./header/type/MultilineTextHeader.js");Object.defineProperty(r,"MultilineTextHeader",{enumerable:!0,get:function(){return E.MultilineTextHeader}});var w=s("./header/type/SortHeader.js");Object.defineProperty(r,"SortHeader",{enumerable:!0,get:function(){return w.SortHeader}});var v={DEFAULT:new y.Header,SORT:new w.SortHeader,CHECK:new _.CheckHeader,MULTILINETEXT:new E.MultilineTextHeader};function t(e){if(e)if(typeof e=="string"){var o=e.toUpperCase();return v[o]||t(null)}else return e;else return v.DEFAULT}r.of=t;function n(e){return e.sort?v.SORT:t(e.headerType)}r.ofCell=n},"./header/type/BaseHeader.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(t,n,e,o){o===void 0&&(o=e),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,o){o===void 0&&(o=e),t[o]=n[e]}),_=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),y=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&I(n,t,e);return _(n,t),n};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseHeader=void 0;var E=y(s("./header/style.js")),w=s("./header/style/BaseStyle.js"),v=function(){function t(){fe(this,t),this.onDrawCell=this.onDrawCell.bind(this)}return Ie(t,[{key:"StyleClass",get:function(){return w.BaseStyle}},{key:"onDrawCell",value:function(e,o,a,i){var l=o.style,u=o.drawCellBase,f=i.getGridCanvasHelper();u(),this.drawInternal(this.convertInternal(e),a,E.of(l,this.StyleClass),f,i,o)}},{key:"convertInternal",value:function(e){return typeof e=="function"&&(e=e()),e!=null?"".concat(e):""}},{key:"bindGridEvent",value:function(e,o){return[]}},{key:"getCopyCellValue",value:function(e,o,a){return typeof e=="function"&&(e=e()),e!=null?e:""}}]),t}();r.BaseHeader=v},"./header/type/CheckHeader.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(l,u,f,m){m===void 0&&(m=f),Object.defineProperty(l,m,{enumerable:!0,get:function(){return u[f]}})}:function(l,u,f,m){m===void 0&&(m=f),l[m]=u[f]}),_=this&&this.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),y=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&I(u,l,f);return _(u,l),u};Object.defineProperty(r,"__esModule",{value:!0}),r.CheckHeader=void 0;var E=y(s("./element/inlines.js")),w=y(s("./columns/type/columnUtils.js")),v=s("./header/type/BaseHeader.js"),t=s("./header/style/CheckHeaderStyle.js"),n=s("./internal/symbolManager.js"),e=s("./internal/utils.js"),o=(0,n.getCheckHeaderStateId)();function a(l){var u=l[o];return u||(u={elapsed:{},block:{}},e.obj.setReadonly(l,o,u)),u}var i=function(l){Ce(f,l);var u=Be(f);function f(){return fe(this,f),u.apply(this,arguments)}return Ie(f,[{key:"StyleClass",get:function(){return t.CheckHeaderStyle}},{key:"clone",value:function(){return new f(this)}},{key:"drawInternal",value:function(d,C,p,B,j,g){var L=g.drawCellBase,G=g.getIcon,M=p.textAlign,K=p.textBaseline,J=p.borderColor,ae=p.checkBgColor,ce=p.uncheckBgColor,re=p.bgColor,Ee=p.padding,$e=p.color,Ae=p.font,Je=p.textOverflow;re&&L({bgColor:re});var ye=C.col,Pe=C.row,ve=j.getCellRange(ye,Pe),Me="".concat(ve.start.col,":").concat(ve.start.row),xe=a(j),V=xe.elapsed[Me],S=j.getHeaderValue(ve.start.col,ve.start.row),H={textAlign:M,textBaseline:K,borderColor:J,checkBgColor:ae,uncheckBgColor:ce};V!=null&&(H.animElapsedTime=V);var $=B.buildCheckBoxInline(!!S,C,H);w.loadIcons(G(),C,B,function(k,h){var R=[$];R=R.concat(E.buildInlines(k,String(d))),B.text(R,h,{textAlign:M,textBaseline:K,color:$e,font:Ae,padding:Ee,textOverflow:Je})})}}]),f}(v.BaseHeader);r.CheckHeader=i},"./header/type/Header.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(n,e,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return e[o]}})}:function(n,e,o,a){a===void 0&&(a=o),n[a]=e[o]}),_=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&I(e,n,o);return _(e,n),e};Object.defineProperty(r,"__esModule",{value:!0}),r.Header=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./header/type/BaseHeader.js"),v=s("./header/style/Style.js"),t=function(n){Ce(o,n);var e=Be(o);function o(){return fe(this,o),e.apply(this,arguments)}return Ie(o,[{key:"StyleClass",get:function(){return v.Style}},{key:"drawInternal",value:function(i,l,u,f,m,d){var C=d.drawCellBase,p=d.getIcon,B=u.textAlign,j=u.textBaseline,g=u.color,L=u.font,G=u.bgColor,M=u.padding,K=u.textOverflow;G&&C({bgColor:G});var J=String(i);E.loadIcons(p(),l,f,function(ae,ce){f.text(J,ce,{textAlign:B,textBaseline:j,color:g,font:L,padding:M,textOverflow:K,icons:ae})})}}]),o}(w.BaseHeader);r.Header=t},"./header/type/MultilineTextHeader.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(n,e,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return e[o]}})}:function(n,e,o,a){a===void 0&&(a=o),n[a]=e[o]}),_=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&I(e,n,o);return _(e,n),e};Object.defineProperty(r,"__esModule",{value:!0}),r.MultilineTextHeader=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./header/type/BaseHeader.js"),v=s("./header/style/MultilineTextHeaderStyle.js"),t=function(n){Ce(o,n);var e=Be(o);function o(){return fe(this,o),e.apply(this,arguments)}return Ie(o,[{key:"StyleClass",get:function(){return v.MultilineTextHeaderStyle}},{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(i,l,u,f,m,d){var C=d.drawCellBase,p=d.getIcon,B=u.textAlign,j=u.textBaseline,g=u.color,L=u.font,G=u.bgColor,M=u.padding,K=u.lineHeight,J=u.autoWrapText,ae=u.lineClamp,ce=u.textOverflow;G&&C({bgColor:G});var re=String(i),Ee=re.replace(/\r?\n/g,`
`).replace(/\r/g,`
`).split(`
`);f.testFontLoad(L,re,l),E.loadIcons(p(),l,f,function($e,Ae){f.multilineText(Ee,Ae,{textAlign:B,textBaseline:j,color:g,font:L,padding:M,lineHeight:K,autoWrapText:J,lineClamp:ae,textOverflow:ce,icons:$e})})}}]),o}(w.BaseHeader);r.MultilineTextHeader=t},"./header/type/SortHeader.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(o,a,i,l){l===void 0&&(l=i),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[i]}})}:function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]}),_=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&I(a,o,i);return _(a,o),a};Object.defineProperty(r,"__esModule",{value:!0}),r.SortHeader=void 0;var E=y(s("./columns/type/columnUtils.js")),w=s("./header/type/BaseHeader.js"),v=s("./header/style/SortHeaderStyle.js"),t=s("./internal/utils.js"),n=s("./internal/canvases.js"),e=function(o){Ce(i,o);var a=Be(i);function i(){return fe(this,i),a.apply(this,arguments)}return Ie(i,[{key:"StyleClass",get:function(){return v.SortHeaderStyle}},{key:"drawInternal",value:function(u,f,m,d,C,p){var B=p.drawCellBase,j=p.getIcon,g=m.textAlign,L=m.textBaseline,G=L===void 0?"middle":L,M=m.color,K=m.bgColor,J=m.font,ae=m.padding,ce=m.textOverflow,re=m.lineHeight,Ee=m.autoWrapText,$e=m.lineClamp,Ae=m.sortArrowColor,Je=m.multiline;K&&B({bgColor:K});var ye=String(u);d.testFontLoad(J,ye,f),E.loadIcons(j(),f,d,function(Pe,ve){var Me=C.sortState,xe=void 0,V=ve.col,S=ve.row,H=C.getCellRange(V,S);(0,t.cellInRange)(H,Me.col,Me.row)&&(xe=Me.order);var $=ve.getContext(),k=(0,n.getFontSize)($,J).width*1.2,h={name:xe!=null?xe==="asc"?"arrow_downward":"arrow_upward":void 0,width:k,color:d.getColor(Ae||d.theme.header.sortArrowColor,V,S,$)||"rgba(0, 0, 0, 0.38)"};if(Je){var R=ye.replace(/\r?\n/g,`
`).replace(/\r/g,`
`).split(`
`);d.multilineText(R,ve,{textAlign:g,textBaseline:G,color:M,font:J,padding:ae,lineHeight:re,autoWrapText:Ee,lineClamp:$e,textOverflow:ce,icons:Pe,trailingIcon:h})}else d.text(ye,ve,{textAlign:g,textBaseline:G,color:M,font:J,padding:ae,textOverflow:ce,icons:Pe,trailingIcon:h})})}}]),i}(w.BaseHeader);r.SortHeader=e},"./headers.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(t,n,e,o){o===void 0&&(o=e),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,o){o===void 0&&(o=e),t[o]=n[e]}),_=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),y=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&I(n,t,e);return _(n,t),n};Object.defineProperty(r,"__esModule",{value:!0}),r.style=r.type=r.action=void 0;var E=y(s("./header/action.js"));r.action=E;var w=y(s("./header/style.js"));r.style=w;var v=y(s("./header/type.js"));r.type=v},"./icons.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.get=void 0;var I=s("./internal/utils.js"),_=s("./plugins/icons.js"),y={get arrow_upward(){return{d:"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z",width:48,height:48}},get arrow_downward(){return{d:"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z",width:48,height:48}},get edit(){return{d:"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z",width:48,height:48}},get add(){return{d:"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z",width:48,height:48}},get star(){return{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",width:24,height:24}},get star_border(){return{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},get star_half(){return{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}}};function E(){return(0,I.extend)(y,_.icons)}r.get=E},"./internal/EventHandler.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.EventHandler=void 0;var I=s("./internal/utils.js"),_=1,y=function(){function E(){fe(this,E),this._listeners={}}return Ie(E,[{key:"on",value:function(v,t,n){for(var e=arguments.length,o=new Array(e>3?e-3:0),a=3;a<e;a++)o[a-3]=arguments[a];v.addEventListener&&v.addEventListener.apply(v,[t,n].concat(o));var i={target:v,type:t,listener:n,options:o},l=_++;return this._listeners[l]=i,l}},{key:"once",value:function(v,t,n){for(var e=this,o=arguments.length,a=new Array(o>3?o-3:0),i=3;i<o;i++)a[i-3]=arguments[i];var l=this.on.apply(this,[v,t,function(){e.off(l),n.apply(void 0,arguments)}].concat(a));return l}},{key:"tryWithOffEvents",value:function(v,t,n){var e=[];try{(0,I.each)(this._listeners,function(o){if(o.target===v&&o.type===t){if(o.target.removeEventListener){var a;(a=o.target).removeEventListener.apply(a,[o.type,o.listener].concat(ze(o.options)))}e.push(o)}}),n()}finally{e.forEach(function(o){if(o.target.addEventListener){var a;(a=o.target).addEventListener.apply(a,[o.type,o.listener].concat(ze(o.options)))}})}}},{key:"off",value:function(v){if(v!=null){var t=this._listeners[v];if(!!t&&(delete this._listeners[v],t.target.removeEventListener)){var n;(n=t.target).removeEventListener.apply(n,[t.type,t.listener].concat(ze(t.options)))}}}},{key:"fire",value:function(v,t){for(var n=arguments.length,e=new Array(n>2?n-2:0),o=2;o<n;o++)e[o-2]=arguments[o];(0,I.each)(this._listeners,function(a){if(a.target===v&&a.type===t){var i;(i=a.listener).call.apply(i,[a.target].concat(e))}})}},{key:"hasListener",value:function(v,t){var n=!1;return(0,I.each)(this._listeners,function(e){e.target===v&&e.type===t&&(n=!0)}),n}},{key:"clear",value:function(){(0,I.each)(this._listeners,function(v){if(v.target.removeEventListener){var t;(t=v.target).removeEventListener.apply(t,[v.type,v.listener].concat(ze(v.options)))}}),this._listeners={}}},{key:"dispose",value:function(){this.clear(),this._listeners=null}}]),E}();r.EventHandler=y},"./internal/LRUCache.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;var I=function(){function _(y){fe(this,_),this._list=[],this._map={},this._cacheSize=y||50}return Ie(_,[{key:"get",value:function(E){var w=this._map[E];if(w){var v=this._list,t=v.indexOf(E);v.splice(t,1),v.push(E)}return w}},{key:"put",value:function(E,w){var v=this._list,t=this._map;if(t[E]){var n=v.indexOf(E);v.splice(n,1)}if(t[E]=w,v.push(E),v.length>this._cacheSize){var e=v.shift()||"";delete t[e]}}}]),_}();r.LRUCache=I},"./internal/NumberMap.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.NumberMap=void 0;var I=function(E,w){for(var v=0,t=E.length-1;v<=t;){var n=Math.floor((v+t)/2);if(E[n]===w)return n;E[n]>w?t=n-1:v=n+1}return t<0?0:t},_=function(){function y(){fe(this,y),this._keys=[],this._vals={},this._sorted=!1}return Ie(y,[{key:"put",value:function(w,v){w in this._vals||(this._keys.push(w),this._sorted=!1),this._vals[w]=v}},{key:"get",value:function(w){return this._vals[w]}},{key:"has",value:function(w){return this._vals[w]!=null}},{key:"each",value:function(w,v,t){var n=this._keys,e=n.length;this._sorted||(n.sort(function(i,l){return i<l?-1:i>l?1:0}),this._sorted=!0);for(var o=I(n,w);o<e;o++){var a=n[o];if(w<=a&&a<=v)t(this.get(a),a);else if(v<a)return}}}]),y}();r.NumberMap=_},"./internal/Rect.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Rect=void 0;var I=function(){function _(y,E,w,v){fe(this,_),this._left=y,this._top=E,this._width=w,this._height=v}return Ie(_,[{key:"left",get:function(){return this._left},set:function(E){var w=this.right;this._left=E,this.right=w}},{key:"top",get:function(){return this._top},set:function(E){var w=this.bottom;this._top=E,this.bottom=w}},{key:"width",get:function(){return this._width},set:function(E){this._width=E,this._right=void 0}},{key:"height",get:function(){return this._height},set:function(E){this._height=E,this._bottom=void 0}},{key:"right",get:function(){return this._right!==void 0?this._right:this._right=this.left+this.width},set:function(E){this._right=E,this.width=E-this.left}},{key:"bottom",get:function(){return this._bottom!==void 0?this._bottom:this._bottom=this.top+this.height},set:function(E){this._bottom=E,this.height=E-this.top}},{key:"offsetLeft",value:function(E){this._left+=E,this._right=void 0}},{key:"offsetTop",value:function(E){this._top+=E,this._bottom=void 0}},{key:"copy",value:function(){return new _(this.left,this.top,this.width,this.height)}},{key:"intersection",value:function(E){var w=Math.max(this.left,E.left),v=Math.min(this.left+this.width,E.left+E.width);if(w<=v){var t=Math.max(this.top,E.top),n=Math.min(this.top+this.height,E.top+E.height);if(t<=n)return _.bounds(w,t,v,n)}return null}},{key:"contains",value:function(E){return this.left<=E.left&&this.left+this.width>=E.left+E.width&&this.top<=E.top&&this.top+this.height>=E.top+E.height}},{key:"inPoint",value:function(E,w){return this.left<=E&&this.left+this.width>=E&&this.top<=w&&this.top+this.height>=w}}],[{key:"bounds",value:function(E,w,v,t){return new _(E,w,v-E,t-w)}},{key:"max",value:function(E,w){return _.bounds(Math.min(E.left,w.left),Math.min(E.top,w.top),Math.max(E.right,w.right),Math.max(E.bottom,w.bottom))}}]),_}();r.Rect=I},"./internal/Scrollable.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(e,o,a,i){i===void 0&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return o[a]}})}:function(e,o,a,i){i===void 0&&(i=a),e[i]=o[a]}),_=this&&this.__setModuleDefault||(Object.create?function(e,o){Object.defineProperty(e,"default",{enumerable:!0,value:o})}:function(e,o){e.default=o}),y=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&I(o,e,a);return _(o,e),o};Object.defineProperty(r,"__esModule",{value:!0}),r.Scrollable=void 0;var E=y(s("./internal/style.js")),w=s("./internal/EventHandler.js"),v=s("./internal/utils.js"),t=v.browser.heightLimit-1e3,n=function(){function e(){fe(this,e),this._p=1,this._handler=new w.EventHandler,this._scrollable=document.createElement("div"),this._scrollable.classList.add("grid-scrollable"),this._height=0,this._width=0,this._endPointElement=document.createElement("div"),this._endPointElement.classList.add("grid-scroll-end-point"),this._update(),this._scrollable.appendChild(this._endPointElement)}return Ie(e,[{key:"calcTop",value:function(a){var i=a-this.scrollTop;return this._scrollable.scrollTop+i}},{key:"getElement",value:function(){return this._scrollable}},{key:"setScrollSize",value:function(a,i){this._width=a,this._height=i,this._update()}},{key:"scrollWidth",get:function(){return this._width},set:function(a){this._width=a,this._update()}},{key:"scrollHeight",get:function(){return this._height},set:function(a){this._height=a,this._update()}},{key:"scrollLeft",get:function(){return Math.max(Math.ceil(this._scrollable.scrollLeft),0)},set:function(a){this._scrollable.scrollLeft=a}},{key:"scrollTop",get:function(){return Math.max(Math.ceil(this._scrollable.scrollTop/this._p),0)},set:function(a){this._scrollable.scrollTop=a*this._p}},{key:"onScroll",value:function(a){this._handler.on(this._scrollable,"scroll",a)}},{key:"dispose",value:function(){this._handler.dispose()}},{key:"_update",value:function(){var a;if(this._height>t){var i=E.getScrollBarSize(),l=this._scrollable.offsetHeight,u=t-l+i,f=this._height-l+i;this._p=u/f,a=t}else this._p=1,a=this._height;this._endPointElement.style.top="".concat(a.toFixed(),"px"),this._endPointElement.style.left="".concat(this._width.toFixed(),"px")}}]),e}();r.Scrollable=n},"./internal/animate.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.animate=void 0;var I=s("./internal/utils.js");function _(t,n,e,o){var a,i=1e-4;return t*=3,n*=3,e*=3,o*=3,function(l){var u,f,m,d,C,p,B;if(l<0||1<l)throw new Error("".concat(l));u=a||l;do f=1-u,m=f*f,d=u*u,C=d*u,p=t*m*u+e*f*d+C,B=l-p,u+=B*.5;while(i<Math.abs(B));return a=u,n*m*u+o*f*d+C}}var y={linear:function(n){return n},easeIn:_(.42,0,1,1),easeOut:_(0,0,.58,1),easeInOut:_(.42,0,.58,1)},E=I.isNode?function(){}:be.requestAnimationFrame||function(t){return setTimeout(t,1)};function w(){return Date.now()}function v(t,n,e){var o=w(),a=e==null?y.easeInOut:typeof e=="string"?y[e]:e,i=!1,l=function(C,p){var B=function j(){var g=w()-o;i?p&&p():g>=t?(n(1),C&&C()):(n(a(g/t)),E(j))};return B},u=function(){i=!0};if(typeof Promise!="undefined"){var f=new Promise(function(d,C){var p=l(d,C);n(0),p()});return f.cancel=u,f}else{var m=l(function(){},function(){});return n(0),m(),{cancel:u}}}r.animate=v},"./internal/calc.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.toPx=void 0;var I=s("./internal/utils.js"),_=0,y=1,E=2,w=3,v=10,t=11,n=12,e=9,o=13,a=10,i=12,l=32,u=37,f=46,m=48,d=57,C=65,p=90,B=97,j=122;function g(ve){return ve>=C&&ve<=p}function L(ve){return ve>=B&&ve<=j}function G(ve){return L(ve)||g(ve)}function M(ve){return ve===e||ve===a||ve===i||ve===o||ve===l}function K(ve){return ve>=m&&ve<=d}function J(ve){return ve===f}function ae(ve){return G(ve)||ve===u}function ce(ve){return new Error("calc parse error: ".concat(ve))}function re(ve){for(var Me=ve.replace(/calc\(/g,"(").trim(),xe=[],V=Me.length,S=0;S<V;S++){var H=Me[S],$=H.charCodeAt(0);if(H==="("||H===")")xe.push({value:H,type:_});else if(H==="*"||H==="/")xe.push({value:H,type:E});else if(H==="+"||H==="-")S=k(H,S+1)-1;else if(K($)||J($))S=h(H,S+1)-1;else if(!M($))throw ce(ve)}function k(P,Q){if(Q<V){var ue=Me[Q],me=ue.charCodeAt(0);if(K(me)||J(me))return h(P+ue,Q+1)}return xe.push({value:P,type:E}),Q}function h(P,Q){for(var ue=Q;ue<V;ue++){var me=Me[ue],_e=me.charCodeAt(0);if(K(_e))P+=me;else if(me==="."){if(P.indexOf(".")>=0)throw ce(ve);P+=me}else{if(ae(_e))return R(P,me,ue+1);break}}if(P===".")throw ce(ve);return xe.push({value:parseFloat(P),type:w}),ue}function R(P,Q,ue){for(var me=ue;me<V;me++){var _e=Me[me],Se=_e.charCodeAt(0);if(ae(Se))Q+=_e;else break}return xe.push({value:parseFloat(P),unit:Q,type:y}),me}return xe}var Ee={"*":3,"/":3,"+":2,"-":2};function $e(ve,Me){function xe(h){var R=h.pop(),P=h.pop(),Q=h.pop();if(!Q||!Q.nodeType||!P||P.type!==E||!R||!R.nodeType)throw ce(Me);return{nodeType:t,left:Q,op:P,right:R}}for(var V=[];ve.length;){var S=ve.shift();if(S.type===_&&S.value==="(")(function(){var h=0,R=I.array.findIndex(ve,function(P){if(P.type===_&&P.value==="(")h++;else if(P.type===_&&P.value===")"){if(!h)return!0;h--}return!1});if(R===-1)throw ce(Me);V.push($e(ve.splice(0,R),Me)),ve.shift()})();else if(S.type===E){if(V.length>=3){var H=V[V.length-2].value;Ee[S.value]<=Ee[H]&&V.push(xe(V))}V.push(S)}else if(S.type===y){var $=S.value,k=S.unit;V.push({nodeType:v,value:$,unit:k})}else S.type===w&&V.push({nodeType:n,value:S.value})}for(;V.length>1;)V.push(xe(V));return V[0]}function Ae(ve){var Me=re(ve);return $e(Me,ve)}function Je(ve,Me){if(ve.nodeType===t){var xe=Je(ve.left,Me),V=Je(ve.right,Me);switch(ve.op.value){case"+":return xe+V;case"-":return xe-V;case"*":return xe*V;case"/":return xe/V;default:throw new Error("calc error. unknown operator: ".concat(ve.op.value))}}else if(ve.nodeType===v)switch(ve.unit){case"%":return ve.value*Me.full/100;case"em":return ve.value*Me.em;case"px":return ve.value;default:throw new Error("calc error. unknown unit: ".concat(ve.unit))}else if(ve.nodeType===n)return ve.value;throw new Error("calc error.")}function ye(ve,Me){var xe=Ae(ve);return Je(xe,Me)}function Pe(ve,Me){return typeof ve=="string"?ye(ve.trim(),Me):ve-0}r.toPx=Pe},"./internal/canvases.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.calcStartPosition=r.calcBasePosition=r.getFontSize=void 0;var I={};function _(w,v){var t=v||w.font;if(I[t])return I[t];var n=w.font;try{w.font=t;var e=w.measureText("\u3042").width;return I[t]={width:e,height:e}}finally{w.font=n}}r.getFontSize=_;function y(w,v){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.offset,e=n===void 0?0:n,o=t.padding;o=o===void 0?{}:o;var a=o.left,i=a===void 0?0:a,l=o.right,u=l===void 0?0:l,f=o.top,m=f===void 0?0:f,d=o.bottom,C=d===void 0?0:d;return E(w,v,0,0,{offset:e,padding:{left:i,right:u,top:m,bottom:C}})}r.calcBasePosition=y;function E(w,v,t,n){var e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=e.offset,a=o===void 0?0:o,i=e.padding;i=i===void 0?{}:i;var l=i.left,u=l===void 0?0:l,f=i.right,m=f===void 0?0:f,d=i.top,C=d===void 0?0:d,p=i.bottom,B=p===void 0?0:p,j=w.textAlign||"left",g=w.textBaseline||"middle";w.textAlign=j,w.textBaseline=g;var L=v.left+a+u;j==="right"||j==="end"?L=v.right-t-a-m:j==="center"&&(L=v.left+(v.width-t+u-m)/2);var G=v.top+a+C;return g==="bottom"||g==="alphabetic"||g==="ideographic"?G=v.bottom-n-a-B:g==="middle"&&(G=v.top+(v.height-n+C-B)/2),{x:L,y:G}}r.calcStartPosition=E},"./internal/color.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.colorToRGB=void 0;var I={};function _(a){var i=document.createElement("div"),l=i.style;l.color=a,l.position="fixed",l.height="1px",l.width="1px",l.opacity="0",document.body.appendChild(i);var u=(document.defaultView||be).getComputedStyle(i,""),f=u.color;return document.body.removeChild(i),e(f||"")}function y(a){return parseInt(a,16)}function E(a,i,l){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;return{r:a,g:i,b:l,a:u}}function w(a){var i=a[1],l=a[2],u=a[3];return E(y(i+i),y(l+l),y(u+u))}function v(a){var i=a[1],l=a[2],u=a[3],f=a[4],m=a[5],d=a[6];return E(y(i+l),y(u+f),y(m+d))}function t(a){var i=a.r,l=a.g,u=a.b,f=a.a;return 0<=i&&i<=255&&0<=l&&l<=255&&0<=u&&u<=255&&0<=f&&f<=1}function n(a){return Math.ceil(a*255/100)}function e(a){if(/^#[0-9a-f]{3}$/i.exec(a))return w(a);if(/^#[0-9a-f]{6}$/i.exec(a))return v(a);var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(a);if(i){var l=E(Number(i[1]),Number(i[2]),Number(i[3]));if(t(l))return l}if(i=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d)?)\s*\)$/i.exec(a),i){var u=E(Number(i[1]),Number(i[2]),Number(i[3]),Number(i[4]));if(t(u))return u}if(i=/^rgb\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*\)$/i.exec(a),i){var f=E(n(Number(i[1])),n(Number(i[3])),n(Number(i[5])));if(t(f))return f}if(i=/^rgba\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d(\.\d)?)\s*\)$/i.exec(a),i){var m=E(n(Number(i[1])),n(Number(i[3])),n(Number(i[5])),Number(i[7]));if(t(m))return m}return null}function o(a){return typeof a!="string"?E(0,0,0,0):(a=a.toLowerCase().trim(),I[a]?I[a]:e(a)||(I[a]=_(a)))}r.colorToRGB=o},"./internal/dom.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.findNextSiblingFocusable=r.findPrevSiblingFocusable=r.isFocusable=r.enableFocus=r.disableFocus=r.appendHtml=r.toNodeList=r.empty=r.createElement=void 0;function I(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.classList,f=l.text,m=l.html,d=document.createElement(i);if(u)if(Array.isArray(u)){var C;(C=d.classList).add.apply(C,ze(u))}else d.classList.add(u);return f?d.textContent=f:m&&(d.innerHTML=m),d}r.createElement=I;function _(i){for(var l;l=i.firstChild;)i.removeChild(l)}r.empty=_;function y(i){return!!(i.nodeType&&i.nodeName)}function E(i){if(y(i))return i;var l=I("div",{html:i});return Array.prototype.slice.call(l.childNodes)}function w(i){if(Array.isArray(i)){var l=[];return i.forEach(function(f){l.push.apply(l,ze(w(f)))}),l}var u=E(i);return Array.isArray(u)?u:[u]}r.toNodeList=w;function v(i,l){w(l).forEach(function(u){i.appendChild(u)})}r.appendHtml=v;function t(i){i.dataset.disableBeforeTabIndex="".concat(i.tabIndex),i.tabIndex=-1,Array.prototype.slice.call(i.children,0).forEach(t)}r.disableFocus=t;function n(i){"disableBeforeTabIndex"in i.dataset&&(i.tabIndex=Number(i.dataset.disableBeforeTabIndex)),Array.prototype.slice.call(i.children,0).forEach(n)}r.enableFocus=n;function e(i){return i.tabIndex!=null&&i.tabIndex>-1}r.isFocusable=e;function o(i){for(var l=i.previousSibling;l&&!e(l);)l=l.previousSibling;return l}r.findPrevSiblingFocusable=o;function a(i){for(var l=i.nextSibling;l&&!e(l);)l=l.nextSibling;return l}r.findNextSiblingFocusable=a},"./internal/fonts.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.load=r.check=void 0;var I=s("./internal/utils.js"),_={},y;r.load=y;var E;if(r.check=E,I.isNode)r.load=y=function(n,e,o){o()},r.check=E=function(){return!1};else{var w=document.fonts,v=!w;r.load=y=v?function(t,n,e){if(_["".concat(t," @ ").concat(n)]){e();return}s("./internal/legacy/fontwatch/FontWatchRunner.js").load(t,n,function(){_["".concat(t," @ ").concat(n)]=!0,e()},function(){_["".concat(t," @ ").concat(n)]=!0,e()})}:function(t,n,e){if(_.all||_[t]){e();return}w.ready.then(function(){_.all=!0}),w.load(t).then(function(){_[t]=!0,e()})},r.check=E=v?function(t,n){return _["".concat(t," @ ").concat(n)]?!0:(y(t,n,function(){}),!1)}:function(t,n){return _.all||_[t]||w.check(t)?!0:(y(t,n,function(){}),!1)}}},"./internal/hiDPI.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.transform=void 0;var I=s("./internal/EventHandler.js"),_=s("./internal/utils.js"),y=new I.EventHandler,E=1;function w(){_.isNode?E=1:(E=Math.ceil(be.devicePixelRatio||1),E>1&&E%2!==0&&(E+=1))}w(),_.isNode||y.on(be,"resize",w);function v(t){var n=t.getContext("2d"),e=t.getAttribute,o=t.setAttribute;t.getAttribute=function(i){var l=e.call(this,i);return(i==="width"||i==="height")&&(l="".concat(Number(l)/E)),l},t.setAttribute=function(i,l){var u=i==="width"||i==="height";u&&(l="".concat(Number(l)*E));var f=o.call(this,i,l);return u&&n.scale(E,E),f},Object.defineProperty(t,"width",{get:function(){return Number(t.getAttribute("width"))},set:function(l){t.setAttribute("width","".concat(Math.floor(l)))},configurable:!0,enumerable:!0}),Object.defineProperty(t,"height",{get:function(){return Number(t.getAttribute("height"))},set:function(l){t.setAttribute("height","".concat(Math.floor(l)))},configurable:!0,enumerable:!0});var a=n.drawImage;return n.drawImage=function(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];if(i!==t||E===1)return a.call.apply(a,[this,i].concat(u));this.save();try{return this.scale(1/E,1/E),u.length>4?(u[4]*=E,u[5]*=E):(u[0]*=E,u[1]*=E),a.call.apply(a,[this,i].concat(u))}finally{this.restore()}},t}r.transform=v},"./internal/icons.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.iconPropKeys=r.toNormalizeArray=r.getIconProps=void 0;var I=["content","font","color","className","tagName","isLiga","width","src","svg","name","path"];function _(a){for(var i=[],l=a.split(/,\s*/),u=0;u<l.length;u++){var f=l[u].replace(/['"]/g,"");f.indexOf(" ")===-1&&!/^\d/.test(f)?i.push(f):i.push("'".concat(f,"'"))}return i.join(",")}var y={},E={};function w(a,i){var l=E[a]||(E[a]={});if(l[i])return l[i];var u=y[a]||(y[a]=document.createElement(a));u.className=i,document.body.appendChild(u);try{var f=(document.defaultView||be).getComputedStyle(u,"::before"),m=f.getPropertyValue("content");m.length>=3&&(m[0]==='"'||m[0]==="'")&&m[0]===m[m.length-1]&&(m=m.substr(1,m.length-2));var d=f.getPropertyValue("font");d||(d="".concat(f.getPropertyValue("font-style")," ").concat(f.getPropertyValue("font-variant")," ").concat(f.getPropertyValue("font-weight")," ").concat(f.getPropertyValue("font-size"),"/").concat(f.getPropertyValue("line-height")," ").concat(_(f.getPropertyValue("font-family"))));var C=f.getPropertyValue("color"),p=u.clientWidth,B=(f.getPropertyValue("font-feature-settings")||"").indexOf("liga")>-1;return l[i]={content:m,font:d,color:C,width:p,isLiga:B}}finally{document.body.removeChild(u)}}r.getIconProps=w;function v(a,i){var l=[];if(Array.isArray(a)){l.push.apply(l,ze(a));for(var u=a.length;u<i;u++)l.push(null)}else for(var f=0;f<i;f++)l.push(a);return l}function t(a){if(a){if(Array.isArray(a))return a}else return a;var i={},l=0;I.forEach(function(d){var C=a[d];C&&(Array.isArray(C)?l=Math.max(l,C.length):l=Math.max(l,1))}),I.forEach(function(d){var C=v(a[d],l);i[d]=C});for(var u=[],f=function(C){var p={};I.forEach(function(B){var j=i[B][C];p[B]=j}),u.push(p)},m=0;m<l;m++)f(m);return u}function n(a){var i={};for(var l in a)l!=="className"&&o(l)&&(i[l]=a[l]);if(a.className){var u=w(a.tagName||"i",a.className);for(var f in u)o(f)&&a[f]==null&&(i[f]=u[f])}return i}function e(a){var i=t(a);return i&&i.map(function(l){return n(l)})}r.toNormalizeArray=e,r.iconPropKeys=I;function o(a){return I.indexOf(a)>=0}},"./internal/imgs.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getCacheOrLoad=r.loadImage=void 0;var I=s("./internal/LRUCache.js"),_=s("./internal/utils.js"),y={};function E(t){if(typeof Promise=="undefined")return console.error("Promise is not loaded. load Promise before this process."),{then:function(){return this}};var n=new Image,e=new Promise(function(o){n.onload=function(){o(n)}});return n.onerror=function(){var o=t.length>200?"".concat(t.substr(0,200),"..."):t;throw console.warn("cannot load: ".concat(o)),new Error("IMAGE LOAD ERROR: ".concat(o))},n.src=t,e}r.loadImage=E;function w(t,n){return(0,_.then)(n,function(e){var o=t.get(e);if(o)return o;var a=E(e).then(function(i){return t.put(e,i),i});return t.put(e,a),a})}function v(t,n,e){var o=y[t]||(y[t]=new I.LRUCache(n));return w(o,e)}r.getCacheOrLoad=v},"./internal/legacy/canvas/Path2DShim.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Path2DShim=void 0;var I=s("./internal/legacy/canvas/PathCommandsParser.js"),_=new I.PathCommandsParser,y=function(){function v(t){if(fe(this,v),this._ops=[],t!==void 0)if(typeof t=="string")this._ops=_.parse(t);else if(t.hasOwnProperty("_ops"))this._ops=ze(t._ops);else throw new Error("Error: ".concat(se(t)," is not a valid argument to Path"))}return Ie(v,[{key:"arc",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"arc",args:e})}},{key:"arcTo",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"arcTo",args:e})}},{key:"bezierCurveTo",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"bezierCurveTo",args:e})}},{key:"closePath",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"closePath",args:e})}},{key:"ellipse",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"ellipse",args:e})}},{key:"lineTo",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"lineTo",args:e})}},{key:"moveTo",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"moveTo",args:e})}},{key:"quadraticCurveTo",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"quadraticCurveTo",args:e})}},{key:"rect",value:function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];this._ops.push({op:"rect",args:e})}}]),v}();r.Path2DShim=y;var E=be.CanvasRenderingContext2D,w=E.prototype.fill;E.prototype.fill=function(){for(var v=this,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];if(n[0]instanceof y){var o=n[0];this.beginPath(),o._ops.forEach(function(a){var i=v[a.op];i.apply(v,a.args)}),w.apply(this,Array.prototype.slice.call(n,1))}else w.apply(this,n)}},"./internal/legacy/canvas/PathCommands.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.PathCommands=void 0;function I(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2))}function _(f,m){return f[0]*m[0]+f[1]*m[1]}function y(f,m){return _(f,m)/(I(f)*I(m))}function E(f,m,d){return Math.min(Math.max(f,m),d)}function w(f,m){var d=1;return f[0]*m[1]-f[1]*m[0]<0&&(d=-1),d*Math.acos(E(y(f,m),-1,1))}function v(f,m){var d=Math.cos(m),C=Math.sin(m);return[d*f[0]+C*f[1],-1*C*f[0]+d*f[1]]}function t(f,m){var d=Math.cos(m),C=Math.sin(m);return[d*f[0]-C*f[1],C*f[0]+d*f[1]]}function n(f,m){return[(f[0]-m[0])/2,(f[1]-m[1])/2]}function e(f,m){return[(f[0]+m[0])/2,(f[1]+m[1])/2]}function o(f,m){return[f[0]*m[0],f[1]*m[1]]}function a(f,m){return[f*m[0],f*m[1]]}function i(f,m){return[f[0]+m[0],f[1]+m[1]]}function l(f,m,d,C,p,B,j,g,L,G){if(C===0||p===0){f.lineTo(L,m);return}B*=Math.PI/180,C=Math.abs(C),p=Math.abs(p);var M=v(n([m,d],[L,G]),B),K=o(M,M),J=Math.pow(C,2),ae=Math.pow(p,2),ce=Math.sqrt(K[0]/J+K[1]/ae);ce>1&&(C*=ce,p*=ce,J=Math.pow(C,2),ae=Math.pow(p,2));var re=Math.sqrt(Math.abs(J*ae-J*K[1]-ae*K[0])/(J*K[1]+ae*K[0]));j===g&&(re*=-1);var Ee=a(re,[C*M[1]/p,-p*M[0]/C]),$e=i(t(Ee,B),e([m,d],[L,G])),Ae=[(M[0]-Ee[0])/C,(M[1]-Ee[1])/p],Je=[(-1*M[0]-Ee[0])/C,(-1*M[1]-Ee[1])/p],ye=w([1,0],Ae),Pe=w(Ae,Je),ve=ye,Me=ye+Pe;f.save(),f.translate($e[0],$e[1]),f.rotate(B),f.scale(C,p),f.arc(0,0,1,ve,Me,!g),f.restore()}var u=function f(m){var d=this;fe(this,f);var C,p,B=0,j=0,g,L="";function G(){return"CcSsQqTt".indexOf(L)<0?{x:B,y:j}:g}this.M=function(M,K){return m.moveTo(M,K),C=M,p=K,B=M,j=K,L="M",d},this.m=function(M,K){return d.M(M+B,K+j)},this.L=function(M,K){return m.lineTo(M,K),B=M,j=K,L="L",d},this.l=function(M,K){return d.L(M+B,K+j)},this.H=function(M){return d.L(M,j)},this.h=function(M){return d.H(M+B)},this.V=function(M){return d.L(B,M)},this.v=function(M){return d.V(M+j)},this.Z=function(){return m.closePath(),B=C,j=p,L="Z",d},this.z=function(){return d.Z()},this.C=function(M,K,J,ae,ce,re){return m.bezierCurveTo(M,K,J,ae,ce,re),B=ce,j=re,g={x:2*ce-J,y:2*re-ae},L="C",d},this.c=function(M,K,J,ae,ce,re){return d.C(M+B,K+j,J+B,ae+j,ce+B,re+j)},this.S=function(M,K,J,ae){var ce=G(),re=ce.x,Ee=ce.y;return d.C(re,Ee,M,K,J,ae)},this.s=function(M,K,J,ae){return d.S(M+B,K+j,J+B,ae+j)},this.Q=function(M,K,J,ae){return m.quadraticCurveTo(M,K,J,ae),B=J,j=ae,g={x:2*J-M,y:2*ae-K},L="Q",d},this.q=function(M,K,J,ae){return d.Q(M+B,K+j,J+B,ae+j)},this.T=function(M,K){var J=G(),ae=J.x,ce=J.y;return d.Q(ae,ce,M,K)},this.t=function(M,K){return d.T(M+B,K+j)},this.A=function(M,K,J,ae,ce,re,Ee){var $e=B,Ae=j;return l(m,$e,Ae,M,K,J,ae,ce,re,Ee),B=re,j=Ee,L="A",d},this.a=function(M,K,J,ae,ce,re,Ee){return d.A(M,K,J,ae,ce,re+B,Ee+j)}};r.PathCommands=u},"./internal/legacy/canvas/PathCommandsParser.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.PathCommandsParser=void 0;var I=s("./internal/legacy/canvas/PathCommands.js");function _(w){var v=0;return{next:function(){for(var n="";w.length>v;){var e=w[v];if(v++,` ,
\r	`.indexOf(e)>-1){if(n)return n}else{var o=".+-1234567890".indexOf(e)>-1?"num":"str";if(o==="str")return n?(v--,n):e;if("-+".indexOf(e)>-1&&n||e==="."&&n.indexOf(".")>-1)return v--,n;n+=e}}return n||null}}}function y(w,v,t){return v.toUpperCase()==="M"||v.toUpperCase()==="L"||v.toUpperCase()==="T"?(w.command(v,t.next(),t.next()),v==="M"?"L":v==="m"?"l":v):v.toUpperCase()==="H"||v.toUpperCase()==="V"?(w.command(v,t.next()),v):v.toUpperCase()==="Z"?(w.command(v),v):v.toUpperCase()==="C"?(w.command(v,t.next(),t.next(),t.next(),t.next(),t.next(),t.next()),v):v.toUpperCase()==="S"||v.toUpperCase()==="Q"?(w.command(v,t.next(),t.next(),t.next(),t.next()),v):v.toUpperCase()==="A"?(w.command(v,t.next(),t.next(),t.next(),t.next(),t.next(),t.next(),t.next()),v):(console.warn("unsupported:".concat(v)),null)}var E=function(){function w(){var v=this;fe(this,w),this._ops=[],this._commands=new I.PathCommands(this);var t=function(e){return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];v._ops.push({op:e,args:a})}};this.moveTo=t("moveTo"),this.lineTo=t("lineTo"),this.closePath=t("closePath"),this.bezierCurveTo=t("bezierCurveTo"),this.quadraticCurveTo=t("quadraticCurveTo"),this.save=t("save"),this.translate=t("translate"),this.rotate=t("rotate"),this.scale=t("scale"),this.arc=t("arc"),this.restore=t("restore"),this.arcTo=t("arcTo"),this.ellipse=t("ellipse"),this.rect=t("rect")}return Ie(w,[{key:"command",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];for(var a=e||[],i=0;i<e.length;i++)a[i]-=0;var l=this._commands[t];l.apply(this,a)}},{key:"parse",value:function(t){var n=this,e=this._ops=[],o=_(t);try{(function(){for(var a,i="Z";a=o.next();)isNaN(Number(a))?i=y(n,a,o)||"Z":function(){var l=!0,u={next:function(){return l?(l=!1,a):o.next()}};i=y(n,i,u)||"Z"}()})()}catch(a){throw console.log("Error: ".concat(t)),a}return e}}]),w}();r.PathCommandsParser=E},"./internal/legacy/fontwatch/FontRuler.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.FontRuler=void 0;function I(y){return[{display:"block",position:"absolute",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0","white-space":"nowrap",font:y},{"font-variant":"normal","font-size":"300px","font-style":"normal","font-weight":"400","line-height":"normal"}]}var _=function(){function y(E,w){fe(this,y);var v=document.createElement("span");v.setAttribute("aria-hidden","true"),v.textContent=w||"BESbswy",I(E).forEach(function(t){for(var n in t){var e=n;v.style[e]=t[e]}}),document.body.appendChild(v),this.el_=v}return Ie(y,[{key:"getWidth",value:function(){return this.el_.offsetWidth}},{key:"remove",value:function(){document.body.removeChild(this.el_)}}]),y}();r.FontRuler=_},"./internal/legacy/fontwatch/FontWatchRunner.js":function(ee,r,s){var I=s("./internal/legacy/fontwatch/FontRuler.js"),_={SERIF:"serif",SANS_SERIF:"sans-serif"},y={},E=function(){function t(n,e){fe(this,t),this.activeCallbacks=[],this.inactiveCallbacks=[],this.status=null,this.lastResortWidths_={},this.fontRulerA_=new I.FontRuler("".concat(n,",").concat(_.SERIF),e),this.fontRulerB_=new I.FontRuler("".concat(n,",").concat(_.SANS_SERIF),e);var o=new I.FontRuler("4px ".concat(_.SERIF),e),a=new I.FontRuler("4px ".concat(_.SANS_SERIF),e);this.lastResortWidths_[_.SERIF]=o.getWidth(),this.lastResortWidths_[_.SANS_SERIF]=a.getWidth(),o.remove(),a.remove(),this.started_=Date.now(),this.check_()}return Ie(t,[{key:"then",value:function(e,o){this.status?this.status!=="ng"?e():o():(this.activeCallbacks.push(e),this.inactiveCallbacks.push(o))}},{key:"check_",value:function(){var e=this,o=this.fontRulerA_.getWidth(),a=this.fontRulerB_.getWidth();this.isFallbackFont_(o,a)||this.isLastResortFont_(o,a)?Date.now()-this.started_>=3e3?this.isLastResortFont_(o,a)?(this.finish_(this.activeCallbacks),this.status="ok"):(this.finish_(this.inactiveCallbacks),this.status="ng"):setTimeout(function(){e.check_()},50):(this.finish_(this.activeCallbacks),this.status="ok")}},{key:"isFallbackFont_",value:function(e,o){return this.widthMatches_(e,_.SERIF)&&this.widthMatches_(o,_.SANS_SERIF)}},{key:"widthsMatchLastResortWidths_",value:function(e,o){for(var a in _)if(_.hasOwnProperty(a)&&this.widthMatches_(e,_[a])&&this.widthMatches_(o,_[a]))return!0;return!1}},{key:"widthMatches_",value:function(e,o){return e===this.lastResortWidths_[o]}},{key:"isLastResortFont_",value:function(e,o){return v()&&this.widthsMatchLastResortWidths_(e,o)}},{key:"finish_",value:function(e){var o=this;setTimeout(function(){o.fontRulerA_.remove(),o.fontRulerB_.remove(),e.forEach(function(a){return a()})},0)}}],[{key:"load",value:function(e,o,a,i){var l=y[e]||(y[e]={});o+="";var u;l[o]?u=l[o]:u=l[o]=new t(e,o),u.then(a,i)}}]),t}(),w=null;function v(){if(w===null){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(be.navigator.userAgent);w=!!t&&(parseInt(t[1],10)<536||parseInt(t[1],10)===536&&parseInt(t[2],10)<=11)}return w}ee.exports=E},"./internal/menu-items.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeToFn=r.normalize=void 0;function I(E,w){var v={};for(var t in E)v[t]=E[t];for(var n in w)v[n]=w[n];return v}function _(E){if(!E)return[];if(Array.isArray(E))return E.map(function(t){return I(t,{label:t.caption||t.label})});if(typeof E=="string")return _(JSON.parse(E));var w=[];for(var v in E)w.push({value:v,label:E[v]});return w}r.normalize=_;function y(E){return typeof E=="function"?function(w){return _(E(w))}:function(){return _(E)}}r.normalizeToFn=y},"./internal/paste-utils.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.parsePasteRangeBoxValues=r.normalizePasteValue=void 0;function I(E){return E[E.length-1]!==`
`?E:E[E.length-2]==="\r"?E.slice(0,-2):E.slice(0,-1)}r.normalizePasteValue=I;function _(E,w){var v=I(E),t=y(v,w),n=t.values,e=t.colCount;return{colCount:e,rowCount:n.length,getCellValue:function(a,i){var l,u;return(u=(l=n[i])===null||l===void 0?void 0:l[a])!==null&&u!==void 0?u:""}}}r.parsePasteRangeBoxValues=_;function y(E,w){for(var v=w.trimOnPaste,t=E.length,n=v?function(d){return d.trim()}:function(d){return d},e=1,o=[],a=[o],i="",l=0;l<t;l++){var u=E[l];if(u==="	"){o.push(n(i)),i="";continue}if(u===`
`){i=n(i),i[i.length-1]==="\r"&&(i=i.slice(0,-1)),o.push(i),e=Math.max(e,o.length),o=[],a.push(o),i="";continue}if(u==='"'&&!i.trim()){var f=m(l+1);if(f){i=f.cell,l=f.next-1;continue}}i+=u}return o.push(n(i)),e=Math.max(e,o.length),{values:a,colCount:e};function m(d){for(var C="",p=d;p<t;){var B=E[p];if(B!=='"'){C+=B,p++;continue}if(E[p+1]==='"'){C+='"',p+=2;continue}for(var j=p+1;j<t;){var g=E[j];if(g.trim())return null;if(g==="	"||g===`
`)break;j++}return{cell:C,next:j}}return null}}},"./internal/path2DManager.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.fill=r.getPath2D=void 0;var I=s("./internal/utils.js");function _(){return typeof Path2D!="undefined"&&!I.browser.Edge?Path2D:s("./internal/legacy/canvas/Path2DShim.js").Path2DShim}r.getPath2D=_;function y(E,w,v,t,n,e){w.save();try{var o=E.width,a=E.height,i=E.ud,l=E.x,u=l===void 0?0:l,f=E.y,m=f===void 0?0:f;n=n||o,e=e||a;var d=n/o,C=e/(i?-a:a);v=v||0,t=i?(t||0)+-a*C:t||0,w.translate(v,t),w.scale(d,C),(u!==0||m!==0)&&w.translate(u,m);var p=_(),B=E.path2d=E.path2d||new p(E.d);w.fill(B)}finally{w.restore()}}r.fill=y},"./internal/sort.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.sortPromise=r.sort=r.sortArray=void 0;var I=s("./internal/utils.js");function _(n,e){for(var o=new Array(e),a=0;a<e;a++)o[a]=n(a);return o}function y(n,e,o){return new Promise(function(a){for(var i=[],l=new Array(o),u=function(d){var C=n(d),p={v:C,f:C};l[d]=p,(0,I.isPromise)(C)&&i.push(C.then(function(B){p.v=B,p.f=B}))},f=0;f<o;f++)u(f);Promise.all(i).then(function(){return e==null?l:E(l,e)}).then(a)})}function E(n,e){return new Promise(function(o){for(var a=n.length,i=[],l=function(m){var d=n[m],C=e(d.v);(0,I.isPromise)(C)?i.push(C.then(function(p){d.f=p})):d.f=C},u=0;u<a;u++)l(u);Promise.all(i).then(function(){return o(n)})})}function w(n,e){Array.prototype.sort.call(n,e)}r.sortArray=w;function v(n,e,o,a,i){var l=_(n,o);i!=null?l.sort(function(f,m){return a(i(f),i(m))}):l.sort(a);for(var u=0;u<o;u++)e(u,l[u])}r.sort=v;function t(n,e,o,a,i){if(typeof Promise!="undefined")return y(n,i,o).then(function(u){u.sort(function(m,d){return a(m.f,d.f)});for(var f=0;f<o;f++)e(f,u[f].v)});v(n,e,o,a,i);var l={then:function(f){return f(),l},catch:function(){return l}};return l}r.sortPromise=t},"./internal/style.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getScrollBarSize=r.initDocument=void 0;function I(){var t=document.createElement("div"),n=t.style;n.position="absolute",n.height="9999px",n.width="calc(100vw - 100%)",n.opacity="0",t.textContent="x",document.body.appendChild(t);var e=(document.defaultView||be).getComputedStyle(t,""),o=e.width;return document.body.removeChild(t),parseInt(o,10)}var _;function y(){s("../src/js/internal/style.css"),_=I()||10;var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-name","cheetah-grid"),t.innerHTML=`
.cheetah-grid .grid-scroll-end-point {
	width: `.concat(_,`px;
	height: `).concat(_,`px;
}
.cheetah-grid > canvas {
	width: -webkit-calc(100% - `).concat(_,`px);
	width: calc(100% - `).concat(_,`px);
	height: -webkit-calc(100% - `).concat(_,`px);
	height: calc(100% - `).concat(_,`px);
}
		`),document.head.appendChild(t)}var E=y;function w(){E(),E=Function.prototype}r.initDocument=w;function v(){return _}r.getScrollBarSize=v},"./internal/symbolManager.js":function(ee,r,s){(function(I){Object.defineProperty(r,"__esModule",{value:!0}),r.getCheckHeaderStateId=r.getInlineMenuEditorStateId=r.getInlineInputEditorStateId=r.getSmallDialogInputEditorStateId=r.getBranchGraphColumnStateId=r.getColumnFadeinStateId=r.getButtonColumnStateId=r.getRadioColumnStateId=r.getCheckColumnStateId=r.getProtectedSymbol=r.get=void 0;var _=s("./internal/utils.js"),y=_.isNode?I.Symbol:be.Symbol?be.Symbol:function(){function m(){for(var d="abcdefghijklmnopqrstuvwxyz0123456789",C=d.length,p="",B=0;B<10;B++)p+=d[Math.floor(Math.random()*C)];return p}return function(d){return d?"#".concat(d,"_").concat(m()):"#_".concat(m())}}(),E={};function w(m){return m?E[m]?E[m]:E[m]=y(m):y()}r.get=w;function v(){return w("protected")}r.getProtectedSymbol=v;function t(){return w("chkcol.stateID")}r.getCheckColumnStateId=t;function n(){return w("rdcol.stateID")}r.getRadioColumnStateId=n;function e(){return w("btncol.stateID")}r.getButtonColumnStateId=e;function o(){return w("col.fadein_stateID")}r.getColumnFadeinStateId=o;function a(){return w("branch_graph_col.stateID")}r.getBranchGraphColumnStateId=a;function i(){return w("small_dialog_input_editor.stateID")}r.getSmallDialogInputEditorStateId=i;function l(){return w("inline_input_editor.stateID")}r.getInlineInputEditorStateId=l;function u(){return w("inline_menu_editor.stateID")}r.getInlineMenuEditorStateId=u;function f(){return w("check_header.stateID")}r.getCheckHeaderStateId=f}).call(this,s("../node_modules/webpack/buildin/global.js"))},"./internal/utils.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.emptyFn=r.style=r.event=r.str=r.obj=r.browser=r.cellInRange=r.cellEquals=r.array=r.then=r.getIgnoreCase=r.getOrApply=r.applyChainSafe=r.getChainSafe=r.isDescendantElement=r.isNode=r.isPromise=r.extend=r.defaults=r.omit=r.each=void 0;var I=typeof be=="undefined"||typeof be.window=="undefined";r.isNode=I;var _,y,E={get find(){return _||(Array.prototype.find?_=function(Pe,ve){return Array.prototype.find.call(Pe,ve)}:_=function(Pe,ve){var Me=E.findIndex(Pe,ve);return Me>=0?Pe[Me]:void 0},_)},get findIndex(){return y||(Array.prototype.findIndex?y=function(Pe,ve){return Array.prototype.findIndex.call(Pe,ve)}:y=function(Pe,ve){for(var Me=Pe.length,xe=0;xe<Me;xe++){var V=Pe[xe];if(ve(V,xe,Pe))return xe}return-1},y)}};r.array=E;function w(){if(I)return{IE:!1,Edge:!1,Chrome:!1,Firefox:!1,Safari:!1};var ye=be.navigator.userAgent.toLowerCase();return{IE:!!/(msie|trident)/.exec(ye),Edge:ye.indexOf("edge")>-1,Chrome:ye.indexOf("chrome")>-1&&ye.indexOf("edge")===-1,Firefox:ye.indexOf("firefox")>-1,Safari:ye.indexOf("safari")>-1&&ye.indexOf("edge")===-1}}var v=w(),t=v.IE,n=v.Chrome,e=v.Firefox,o=v.Edge,a=v.Safari;function i(ye,Pe,ve){Object.defineProperty(ye,Pe,{enumerable:!1,configurable:!0,value:ve})}function l(ye,Pe){for(var ve in ye)Pe(ye[ve],ve,ye)}r.each=l;function u(ye){return ye===Object(ye)}function f(ye,Pe){var ve={},Me=function(H){if(Pe.indexOf(H)>=0)return"continue";Object.defineProperty(ve,H,{get:function(){return ye[H]},set:function(k){ye[H]=k},configurable:!0,enumerable:!0})};for(var xe in ye)var V=Me(xe);return ve}r.omit=f;function m(ye,Pe){var ve=[],Me={},xe=function(h){ve.push(h),Object.defineProperty(Me,h,{get:function(){var P=ye[h];return P===void 0?Pe[h]:P},set:function(P){ye[h]=P},configurable:!0,enumerable:!0})};for(var V in ye)xe(V);var S=function(h){if(ve.indexOf(h)>=0)return"continue";Object.defineProperty(Me,h,{get:function(){var P=ye[h];return P===void 0?Pe[h]:P},set:function(P){ye[h]=P},configurable:!0,enumerable:!0})};for(var H in Pe)var $=S(H);return Me}r.defaults=m;function d(){for(var ye={},Pe=arguments.length,ve=new Array(Pe),Me=0;Me<Pe;Me++)ve[Me]=arguments[Me];return ve.forEach(function(xe){var V=function($){Object.defineProperty(ye,$,{get:function(){return xe[$]},set:function(h){xe[$]=h},configurable:!0,enumerable:!0})};for(var S in xe)V(S)}),ye}r.extend=d;function C(ye,Pe){for(;Pe.parentElement;){var ve=Pe.parentElement;if(ye===ve)return!0;Pe=ve}return!1}r.isDescendantElement=C;function p(ye,Pe){for(var ve=ye,Me=0;Me<(arguments.length<=2?0:arguments.length-2)&&ve!=null;Me++)ve=Pe(ve,Me+2<2||arguments.length<=Me+2?void 0:arguments[Me+2]);return ve}r.applyChainSafe=p;function B(ye){for(var Pe=arguments.length,ve=new Array(Pe>1?Pe-1:0),Me=1;Me<Pe;Me++)ve[Me-1]=arguments[Me];return p.apply(void 0,[ye,function(xe,V){return xe[V]}].concat(ve))}r.getChainSafe=B;function j(ye){if(typeof ye=="function"){for(var Pe=arguments.length,ve=new Array(Pe>1?Pe-1:0),Me=1;Me<Pe;Me++)ve[Me-1]=arguments[Me];return ye.apply(void 0,ve)}else return ye}r.getOrApply=j;function g(ye,Pe,ve){var Me=ye.toString();(typeof ve!="number"||!isFinite(ve)||Math.floor(ve)!==ve||ve>Me.length)&&(ve=Me.length),ve-=Pe.length;var xe=Me.lastIndexOf(Pe,ve);return xe!==-1&&xe===ve}function L(ye){var Pe=/([\uD800-\uDBFF][\uDC00-\uDFFF]|\r\n|[^\uD800-\uDFFF])([\u180B-\u180D]|[\uFE00-\uFE0F]|\uDB40[\uDD00-\uDDEF])?/g;return{next:function(){var Me=Pe.exec(ye);return Me!==null?Me[0]:null}}}function G(ye){var Pe=/[!-~]+|[^!-~\s]+|\s+/g;return{next:function(){var Me=Pe.exec(ye);return Me!==null?Me[0]:null}}}function M(ye){return Boolean(ye&&typeof ye.then=="function")}r.isPromise=M;function K(ye,Pe){return M(ye)?ye.then(function(ve){return Pe(ve)}):Pe(ye)}r.then=K;function J(ye){return ye.buttons!=null?ye.buttons:ye.which!=null?ye.which===3||ye.which===2?4:ye.which:ye.button===0||ye.button===1?1:ye.button===2?2:0}function ae(ye){return ye.keyCode||ye.which}function ce(ye){return!!ye.changedTouches}function re(ye,Pe){if(ye[Pe])return ye[Pe];var ve=Pe.toLowerCase();if(ye[ve])return ye[ve];var Me=Pe.toLowerCase();if(ye[Me])return ye[Me];for(var xe in ye)if(xe.toLowerCase()===ve)return ye[xe]}r.getIgnoreCase=re;function Ee(ye){ye.preventDefault(),ye.stopPropagation()}function $e(ye){return Array.isArray(ye)?ye.length===3?[ye[0],ye[1],ye[2],ye[1]]:ye.length===2?[ye[0],ye[1],ye[0],ye[1]]:ye.length===1?[ye[0],ye[0],ye[0],ye[0]]:ye:[ye,ye,ye,ye]}function Ae(ye,Pe){return ye.col===Pe.col&&ye.row===Pe.row}r.cellEquals=Ae;function Je(ye,Pe,ve){return ye.start.col<=Pe&&Pe<=ye.end.col&&ye.start.row<=ve&&ve<=ye.end.row}r.cellInRange=Je,r.browser={IE:t,Edge:o,Chrome:n,Firefox:e,Safari:a,heightLimit:n?33554431:e?17895588:10737433},r.obj={setReadonly:i,isObject:u},r.str={endsWith:g,genChars:L,genWords:G},r.event={getMouseButtons:J,getKeyCode:ae,isTouchEvent:ce,cancel:Ee},r.style={toBoxArray:$e},r.emptyFn=Function.prototype},"./list-grid/LG_EVENT_TYPE.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.LG_EVENT_TYPE=void 0;var I=s("./core/DG_EVENT_TYPE.js"),_=s("./internal/utils.js");r.LG_EVENT_TYPE=(0,_.extend)(I.DG_EVENT_TYPE,{CHANGED_VALUE:"changed_value",CHANGED_HEADER_VALUE:"changed_header_value",REJECTED_PASTE_VALUES:"rejected_paste_values"})},"./list-grid/layout-map/index.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.MultiLayoutMap=r.SimpleHeaderLayoutMap=void 0;var I=s("./list-grid/layout-map/internal/simple-header-layout.js");Object.defineProperty(r,"SimpleHeaderLayoutMap",{enumerable:!0,get:function(){return I.SimpleHeaderLayoutMap}});var _=s("./list-grid/layout-map/internal/multi-layout.js");Object.defineProperty(r,"MultiLayoutMap",{enumerable:!0,get:function(){return _.MultiLayoutMap}})},"./list-grid/layout-map/internal/multi-layout.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(i,l,u,f){f===void 0&&(f=u),Object.defineProperty(i,f,{enumerable:!0,get:function(){return l[u]}})}:function(i,l,u,f){f===void 0&&(f=u),i[f]=l[u]}),_=this&&this.__setModuleDefault||(Object.create?function(i,l){Object.defineProperty(i,"default",{enumerable:!0,value:l})}:function(i,l){i.default=l}),y=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var l={};if(i!=null)for(var u in i)u!=="default"&&Object.prototype.hasOwnProperty.call(i,u)&&I(l,i,u);return _(l,i),l};Object.defineProperty(r,"__esModule",{value:!0}),r.MultiLayoutMap=void 0;var E=y(s("./columns.js")),w=y(s("./header/action.js")),v=y(s("./header/type.js")),t=s("./list-grid/layout-map/internal/utils.js");function n(i){return Array.isArray(i)?{header:i,body:i}:i}var e=0,o=function(){function i(l,u){var f=this;fe(this,i),this.objects=[],this.objectGrid=[],this.objectMap={},this.columnCount=0,this.columnWidths=[],l.forEach(function(m,d){var C=0;m.forEach(function(p){var B,j,g=e++,L=u(p,g);f.objects.push(L),f.objectMap[g]=L,C=f._findStartCell(C,d);for(var G=Number((B=p.rowSpan)!==null&&B!==void 0?B:1),M=Number((j=p.colSpan)!==null&&j!==void 0?j:1),K=d+G,J=C+M,ae=d;ae<K;ae++)for(var ce=f._getObjectGridRow(ae),re=C;re<J;re++)ce[re]=L;M===1&&f._setWidthDataIfAbsent(C,p),f._useColumnIndex(J-1),C=J})})}return Ie(i,[{key:"rowCount",get:function(){return this.objectGrid.length}},{key:"_findStartCell",value:function(u,f){for(var m=this._getObjectGridRow(f),d=u;d<m.length;d++)if(!m[d])return d;return m.length}},{key:"_getObjectGridRow",value:function(u){return this.objectGrid[u]||(this.objectGrid[u]=[])}},{key:"_useColumnIndex",value:function(u){this.columnCount>u||(this.columnCount=u+1)}},{key:"_setWidthDataIfAbsent",value:function(u,f){this.columnWidths[u]||(f.width!=null||f.maxWidth!=null||f.minWidth!=null)&&(this.columnWidths[u]={width:f.width,maxWidth:f.maxWidth,minWidth:f.minWidth})}}]),i}(),a=function(){function i(l){fe(this,i),this._columnWidths=[],this._emptyDataCache=new t.EmptyDataCache;for(var u=n(l),f=this._header=new o(u.header,function(B,j){return{id:j,caption:B.caption,field:B.headerField||B.field,headerIcon:B.headerIcon,style:B.headerStyle,headerType:v.ofCell(B),action:w.ofCell(B),define:B}}),m=this._body=new o(u.body,function(B,j){return{id:j,field:B.field,width:B.width,minWidth:B.minWidth,maxWidth:B.maxWidth,icon:B.icon,message:B.message,columnType:E.type.of(B.columnType),action:E.action.of(B.action),style:B.style,define:B}}),d=this._columnCount=Math.max(f.columnCount,m.columnCount),C=0;C<d;C++){var p=f.columnWidths[C]||m.columnWidths[C]||{};this._columnWidths[C]=p}}return Ie(i,[{key:"columnWidths",get:function(){return this._columnWidths}},{key:"headerRowCount",get:function(){return this._header.rowCount}},{key:"bodyRowCount",get:function(){return this._body.rowCount}},{key:"colCount",get:function(){return this._columnCount}},{key:"headerObjects",get:function(){return this._header.objects}},{key:"columnObjects",get:function(){return this._body.objects}},{key:"getCellId",value:function(u,f){var m,d,C,p;if(this.headerRowCount<=f){var B=f-this.headerRowCount,j=B%this.bodyRowCount;return(d=(m=this._body.objectGrid[j])===null||m===void 0?void 0:m[u])===null||d===void 0?void 0:d.id}return(p=(C=this._header.objectGrid[f])===null||C===void 0?void 0:C[u])===null||p===void 0?void 0:p.id}},{key:"getHeader",value:function(u,f){var m=this.getCellId(u,f);return this._header.objectMap[m]||this._emptyDataCache.getHeader(u,f)}},{key:"getBody",value:function(u,f){var m=this.getCellId(u,f);return this._body.objectMap[m]||this._emptyDataCache.getBody(u,f)}},{key:"getBodyLayoutRangeById",value:function(u){for(var f,m=0;m<this.bodyRowCount;m++){var d=this._body.objectGrid[m];if(!!d){for(var C=0;C<this.colCount;C++)if(u===((f=d[C])===null||f===void 0?void 0:f.id))return this._getCellRange(this._body,C,m,0)}}throw new Error("can not found body layout @id=".concat(u))}},{key:"getCellRange",value:function(u,f){if(this.headerRowCount<=f){var m=this.getRecordIndexByRow(f),d=this.getRecordStartRowByRecordIndex(m),C=f-this.headerRowCount,p=C%this.bodyRowCount;return this._getCellRange(this._body,u,p,d)}return this._getCellRange(this._header,u,f,0)}},{key:"getRecordIndexByRow",value:function(u){if(u<this.headerRowCount)return-1;var f=u-this.headerRowCount;return Math.floor(f/this.bodyRowCount)}},{key:"getRecordStartRowByRecordIndex",value:function(u){return this.headerRowCount+u*this.bodyRowCount}},{key:"_getCellRange",value:function(u,f,m,d){var C,p,B,j,g,L,G,M,K,J,ae={start:{col:f,row:m+d},end:{col:f,row:m+d}},ce=u.objectGrid,re=(p=(C=ce[m])===null||C===void 0?void 0:C[f])===null||p===void 0?void 0:p.id;if(re==null)return ae;for(var Ee=f-1;Ee>=0&&re===((j=(B=ce[m])===null||B===void 0?void 0:B[Ee])===null||j===void 0?void 0:j.id);Ee--)ae.start.col=Ee;for(var $e=f+1;$e<u.columnCount&&re===((L=(g=ce[m])===null||g===void 0?void 0:g[$e])===null||L===void 0?void 0:L.id);$e++)ae.end.col=$e;for(var Ae=m-1;Ae>=0&&re===((M=(G=ce[Ae])===null||G===void 0?void 0:G[f])===null||M===void 0?void 0:M.id);Ae--)ae.start.row=Ae+d;for(var Je=m+1;Je<u.rowCount&&re===((J=(K=ce[Je])===null||K===void 0?void 0:K[f])===null||J===void 0?void 0:J.id);Je++)ae.end.row=Je+d;return ae}}]),i}();r.MultiLayoutMap=a},"./list-grid/layout-map/internal/simple-header-layout.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(o,a,i,l){l===void 0&&(l=i),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[i]}})}:function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]}),_=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&I(a,o,i);return _(a,o),a};Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleHeaderLayoutMap=void 0;var E=y(s("./columns.js")),w=y(s("./header/action.js")),v=y(s("./header/type.js")),t=s("./list-grid/layout-map/internal/utils.js"),n=0,e=function(){function o(a){fe(this,o),this.bodyRowCount=1,this._emptyDataCache=new t.EmptyDataCache,this._columns=[],this._headerCellIds=[],this._headerObjects=this._addHeaders(0,a,[]),this._headerObjectMap=this._headerObjects.reduce(function(i,l){return i[l.id]=l,i},{})}return Ie(o,[{key:"columnWidths",get:function(){return this._columns}},{key:"headerRowCount",get:function(){return this._headerCellIds.length}},{key:"colCount",get:function(){return this._columns.length}},{key:"headerObjects",get:function(){return this._headerObjects}},{key:"columnObjects",get:function(){return this._columns}},{key:"getCellId",value:function(i,l){return this.headerRowCount<=l?this._columns[i].id:this._headerCellIds[l][i]}},{key:"getHeader",value:function(i,l){var u=this.getCellId(i,l);return this._headerObjectMap[u]||this._emptyDataCache.getHeader(i,l)}},{key:"getBody",value:function(i,l){return this._columns[i]||this._emptyDataCache.getBody(i,0)}},{key:"getBodyLayoutRangeById",value:function(i){for(var l=0;l<this.colCount;l++)if(i===this._columns[l].id)return{start:{col:l,row:0},end:{col:l,row:0}};throw new Error("can not found body layout @id=".concat(i))}},{key:"getCellRange",value:function(i,l){var u={start:{col:i,row:l},end:{col:i,row:l}};if(this.headerRowCount<=l)return u;for(var f=this.getCellId(i,l),m=i-1;m>=0&&f===this.getCellId(m,l);m--)u.start.col=m;for(var d=i+1;d<this.colCount&&f===this.getCellId(d,l);d++)u.end.col=d;for(var C=l-1;C>=0&&f===this.getCellId(i,C);C--)u.start.row=C;for(var p=l+1;p<this.headerRowCount&&f===this.getCellId(i,p);p++)u.end.row=p;return u}},{key:"getRecordIndexByRow",value:function(i){return i<this.headerRowCount?-1:i-this.headerRowCount}},{key:"getRecordStartRowByRecordIndex",value:function(i){return this.headerRowCount+i}},{key:"_addHeaders",value:function(i,l,u){var f=this,m=[],d=this._headerCellIds[i]||this._newRow(i);return l.forEach(function(C){var p=f._columns.length,B=n++,j={id:B,caption:C.caption,field:C.headerField||C.field,headerIcon:C.headerIcon,style:C.headerStyle,headerType:v.ofCell(C),action:w.ofCell(C),define:C};m[B]=j,d[p]=B;for(var g=i-1;g>=0;g--)f._headerCellIds[g][p]=u[g];if(C.columns)f._addHeaders(i+1,C.columns,[].concat(ze(u),[B])).forEach(function(M){return m.push(M)});else{var L=C;f._columns.push({id:n++,field:L.field,width:L.width,minWidth:L.minWidth,maxWidth:L.maxWidth,icon:L.icon,message:L.message,columnType:E.type.of(L.columnType),action:E.action.of(L.action),style:L.style,define:L});for(var G=i+1;G<f._headerCellIds.length;G++)f._headerCellIds[G][p]=B}}),m}},{key:"_newRow",value:function(i){var l=this._headerCellIds[i]=[];if(!this._columns.length)return l;for(var u=this._headerCellIds[i-1],f=0;f<u.length;f++)l[f]=u[f];return l}}]),o}();r.SimpleHeaderLayoutMap=e},"./list-grid/layout-map/internal/utils.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(o,a,i,l){l===void 0&&(l=i),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[i]}})}:function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]}),_=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&I(a,o,i);return _(a,o),a};Object.defineProperty(r,"__esModule",{value:!0}),r.EmptyDataCache=r.newEmptyColumnData=r.newEmptyHeaderData=void 0;var E=y(s("./columns.js")),w=y(s("./header/type.js")),v=-1;function t(){return{id:v--,define:{},headerType:w.of(null)}}r.newEmptyHeaderData=t;function n(){return{id:v--,define:{},columnType:E.type.of(null),style:null}}r.newEmptyColumnData=n;var e=function(){function o(){fe(this,o),this.headers=[],this.columns=[]}return Ie(o,[{key:"getHeader",value:function(i,l){var u=this.headers[l]||(this.headers[l]=[]);return u[i]||(u[i]=t())}},{key:"getBody",value:function(i,l){var u=this.columns[l]||(this.columns[l]=[]);return u[i]||(u[i]=n())}}]),o}();r.EmptyDataCache=e},"./main.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(m,d,C,p){p===void 0&&(p=C),Object.defineProperty(m,p,{enumerable:!0,get:function(){return d[C]}})}:function(m,d,C,p){p===void 0&&(p=C),m[p]=d[C]}),_=this&&this.__setModuleDefault||(Object.create?function(m,d){Object.defineProperty(m,"default",{enumerable:!0,value:d})}:function(m,d){m.default=d}),y=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var d={};if(m!=null)for(var C in m)C!=="default"&&Object.prototype.hasOwnProperty.call(m,C)&&I(d,m,C);return _(d,m),d};Object.defineProperty(r,"__esModule",{value:!0}),r.register=r.getIcons=r.GridCanvasHelper=r.data=r.themes=r.headers=r.columns=r.ListGrid=r.tools=r.core=r._getInternal=void 0;var E=y(s("./columns.js"));r.columns=E;var w=y(s("./core.js"));r.core=w;var v=y(s("./data.js"));r.data=v;var t=y(s("./headers.js"));r.headers=t;var n=y(s("./icons.js")),e=y(s("./register.js"));r.register=e;var o=y(s("./themes.js"));r.themes=o;var a=y(s("./tools.js"));r.tools=a;var i=s("./ListGrid.js");Object.defineProperty(r,"ListGrid",{enumerable:!0,get:function(){return i.ListGrid}});var l=s("./GridCanvasHelper.js");Object.defineProperty(r,"GridCanvasHelper",{enumerable:!0,get:function(){return l.GridCanvasHelper}});var u=s("./get-internal.js");Object.defineProperty(r,"_getInternal",{enumerable:!0,get:function(){return u.getInternal}});function f(){return n.get()}r.getIcons=f,r.default={core:w,tools:a,ListGrid:i.ListGrid,columns:E,headers:t,themes:o,data:v,GridCanvasHelper:l.GridCanvasHelper,register:e,get icons(){return f()}},Object.defineProperty(o,"default",{enumerable:!1,configurable:!0,get:function(){return o.getDefault()},set:function(d){o.setDefault(d)}}),Object.defineProperty(o,"choices",{enumerable:!1,configurable:!0,get:function(){return o.getChoices()}})},"./plugins/icons.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.icons=void 0,r.icons={}},"./plugins/themes.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.themes=void 0,r.themes={}},"./register.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.icons=r.icon=r.theme=void 0;var I=s("./plugins/icons.js"),_=s("./plugins/themes.js");function y(n,e,o){var a=n[e];return n[e]=o,a}function E(n,e){for(var o in e)n[o]=e[o]}function w(n,e){return e!=null?y(_.themes,n,e):_.themes[n]}r.theme=w;function v(n,e){return e!=null?y(I.icons,n,e):I.icons[n]}r.icon=v;function t(n){return E(I.icons,n)}r.icons=t},"./themes.js":function(ee,r,s){var I=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0}),r.getChoices=r.setDefault=r.getDefault=r.of=r.theme=r.MATERIAL_DESIGN=r.BASIC=void 0;var _=s("./internal/utils.js"),y=s("./themes/theme.js"),E=I(s("./themes/BASIC.js")),w=I(s("./themes/MATERIAL_DESIGN.js")),v=s("./plugins/themes.js");r.BASIC=new y.Theme(E.default),r.MATERIAL_DESIGN=new y.Theme(w.default);var t={BASIC:r.BASIC,MATERIAL_DESIGN:r.MATERIAL_DESIGN},n=r.MATERIAL_DESIGN;r.theme={Theme:y.Theme};function e(l){if(!l)return null;if(typeof l=="string"){var u=(0,_.getIgnoreCase)(i(),l);return u||null}return l instanceof y.Theme?l:new y.Theme(l)}r.of=e;function o(){return n}r.getDefault=o;function a(l){n=e(l)||n}r.setDefault=a;function i(){return(0,_.extend)(t,v.themes)}r.getChoices=i},"./themes/BASIC.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0});function I(w){var v=w.row,t=w.grid;if(v<t.frozenRowCount)return"#FFF";var n=t.getRecordIndexByRow(v);return n&1?"#F6F6F6":"#FFF"}var _={};function y(w,v,t,n,e,o){var a,i=[];for(a in o)i.push("".concat(a,"@").concat(o[a]));var l="".concat(v,"/").concat(t,"/").concat(n,"/").concat(e,"/").concat(i.join(",")),u=_[l];if(u)return u;var f=w.createLinearGradient(v,t,v,e);for(a in o)f.addColorStop(Number(a),o[a]);return _[l]=f}function E(w){var v=w.col,t=w.grid,n=w.grid.frozenRowCount,e=w.context,o=t.getCellRelativeRect(v,0),a=o.left,i=o.top,l=t.getCellRelativeRect(v,n-1),u=l.bottom;return y(e,a,i,a,u,{0:"#FFF",1:"#D3D3D3"})}r.default={color:"#000",defaultBgColor:I,frozenRowsBgColor:E,selectionBgColor:"#CCE0FF",borderColor:"#000",highlightBorderColor:"#5E9ED6",checkbox:{uncheckBgColor:"#FFF",checkBgColor:"rgb(76, 73, 72)",borderColor:"#000"},radioButton:{checkColor:"rgb(76, 73, 72)",checkBorderColor:"#000",uncheckBorderColor:"#000",uncheckBgColor:"#FFF",checkBgColor:"#FFF"},button:{color:"#FFF",bgColor:"#2196F3"},header:{sortArrowColor:"rgba(0, 0, 0, 0.38)"},underlayBackgroundColor:"#F6F6F6"}},"./themes/MATERIAL_DESIGN.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0});function I(y){var E=y.row,w=y.grid.frozenRowCount;return w-1===E?["#f2f2f2","#f2f2f2","#ccc7c7","#f2f2f2"]:["#f2f2f2"]}function _(y){var E=y.col,w=y.row,v=y.grid,t=v.colCount,n=v.frozenColCount,e=v.recordRowCount,o="#ccc7c7",a="#ccc7c7";if(e>1){var i=v.getRecordStartRowByRecordIndex(v.getRecordIndexByRow(w)),l=i+e-1;i!==w&&(o=null),l!==w&&(a=null)}return n-1===E?[o,"#f2f2f2",a,null]:t-1===E?[o,"#f2f2f2",a,null]:[o,null,a,null]}r.default={color:"rgba(0, 0, 0, 0.87)",frozenRowsColor:"rgba(0, 0, 0, 0.54)",defaultBgColor:"#FFF",selectionBgColor:"#CCE0FF",borderColor:_,frozenRowsBorderColor:I,highlightBorderColor:"#5E9ED6",checkbox:{checkBgColor:"rgb(76, 73, 72)",borderColor:"rgba(0, 0, 0, 0.26)"},radioButton:{checkColor:"rgb(76, 73, 72)",checkBorderColor:"rgb(76, 73, 72)",uncheckBorderColor:"rgb(189, 189, 189)"},button:{color:"#FFF",bgColor:"#2196F3"},header:{sortArrowColor:"rgba(0, 0, 0, 0.38)"},underlayBackgroundColor:"#FFF"}},"./themes/theme.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Theme=void 0;var I=s("./internal/utils.js"),_=s("./internal/symbolManager.js"),y=(0,_.get)();function E(t,n,e,o){return I.getChainSafe.apply(void 0,[t].concat(ze(e)))||I.getChainSafe.apply(void 0,[n].concat(ze(e)))||o&&I.getChainSafe.apply(void 0,[t].concat(ze(o)))||o&&I.getChainSafe.apply(void 0,[n].concat(ze(o)))}var w=function(){function t(n,e){fe(this,t),this._checkbox=null,this._radioButton=null,this._button=null,this._header=null,this._messages=null,this[y]={obj:n,superTheme:e}}return Ie(t,[{key:"font",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["font"])}},{key:"underlayBackgroundColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["underlayBackgroundColor"])}},{key:"color",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["color"])}},{key:"frozenRowsColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["frozenRowsColor"],["color"])}},{key:"defaultBgColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["defaultBgColor"])}},{key:"frozenRowsBgColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["frozenRowsBgColor"],["defaultBgColor"])}},{key:"selectionBgColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["selectionBgColor"],["defaultBgColor"])}},{key:"highlightBgColor",get:function(){var e=this;if(this.hasProperty(["highlightBgColor"])){var o=this[y],a=o.obj,i=o.superTheme;return E(a,i,["highlightBgColor"])}return function(l){var u=l.row<l.grid.frozenRowCount?e.frozenRowsBgColor:e.defaultBgColor;return typeof u=="function"?u(l):u}}},{key:"borderColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["borderColor"])}},{key:"frozenRowsBorderColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["frozenRowsBorderColor"],["borderColor"])}},{key:"highlightBorderColor",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return E(o,a,["highlightBorderColor"],["borderColor"])}},{key:"checkbox",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return this._checkbox||(this._checkbox={get uncheckBgColor(){return E(o,a,["checkbox","uncheckBgColor"],["defaultBgColor"])},get checkBgColor(){return E(o,a,["checkbox","checkBgColor"],["borderColor"])},get borderColor(){return E(o,a,["checkbox","borderColor"],["borderColor"])}})}},{key:"radioButton",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return this._radioButton||(this._radioButton={get checkColor(){return E(o,a,["radioButton","checkColor"],["color"])},get uncheckBorderColor(){return E(o,a,["radioButton","uncheckBorderColor"],["borderColor"])},get checkBorderColor(){return E(o,a,["radioButton","checkBorderColor"],["borderColor"])},get uncheckBgColor(){return E(o,a,["radioButton","uncheckBgColor"],["defaultBgColor"])},get checkBgColor(){return E(o,a,["radioButton","checkBgColor"],["defaultBgColor"])}})}},{key:"button",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return this._button||(this._button={get color(){return E(o,a,["button","color"],["color"])},get bgColor(){return E(o,a,["button","bgColor"],["defaultBgColor"])}})}},{key:"header",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return this._header||(this._header={get sortArrowColor(){return E(o,a,["header","sortArrowColor"],["color"])}})}},{key:"messages",get:function(){var e=this[y],o=e.obj,a=e.superTheme;return this._messages||(this._messages={get infoBgColor(){return E(o,a,["messages","infoBgColor"])},get errorBgColor(){return E(o,a,["messages","errorBgColor"])},get warnBgColor(){return E(o,a,["messages","warnBgColor"])},get boxWidth(){return E(o,a,["messages","boxWidth"])},get markHeight(){return E(o,a,["messages","markHeight"])}})}},{key:"hasProperty",value:function(e){var o=this[y],a=o.obj,i=o.superTheme;return v(a,e)||v(i,e)}},{key:"extends",value:function(e){return new t(e,this)}}]),t}();r.Theme=w;function v(t,n){if(t instanceof w)return t.hasProperty(n);var e=t;if(!e)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(e=e[a],!e)return!1}return!!e}},"./tools.js":function(ee,r,s){var I=this&&this.__createBinding||(Object.create?function(w,v,t,n){n===void 0&&(n=t),Object.defineProperty(w,n,{enumerable:!0,get:function(){return v[t]}})}:function(w,v,t,n){n===void 0&&(n=t),w[n]=v[t]}),_=this&&this.__setModuleDefault||(Object.create?function(w,v){Object.defineProperty(w,"default",{enumerable:!0,value:v})}:function(w,v){w.default=v}),y=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var t in w)t!=="default"&&Object.prototype.hasOwnProperty.call(w,t)&&I(v,w,t);return _(v,w),v};Object.defineProperty(r,"__esModule",{value:!0}),r.canvashelper=void 0;var E=y(s("./tools/canvashelper.js"));r.canvashelper=E},"./tools/canvashelper.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.drawButton=r.drawRadioButton=r.drawCheckbox=r.measureRadioButton=r.measureCheckbox=r.drawInlineImageRect=r.fillTextRect=r.strokeCircle=r.fillCircle=r.strokeRoundRect=r.fillRoundRect=r.roundRect=r.strokeColorsRect=void 0;var I=s("./internal/canvases.js"),_=Math.ceil,y=Math.PI;function E(d,C,p,B,j,g){function L(G){for(var M=0;M<C.length;M++){var K=C[M],J=C[M-1];if(K){if(J!==K){J&&(d.strokeStyle=J,d.stroke());var ae=G[M];d.beginPath(),d.moveTo(ae.x,ae.y)}var ce=G[M+1];d.lineTo(ce.x,ce.y)}else J&&(d.strokeStyle=J,d.stroke())}var re=C[C.length-1];re&&(d.strokeStyle=re,d.stroke())}C[0]===C[1]&&C[0]===C[2]&&C[0]===C[3]?C[0]&&(d.strokeStyle=C[0],d.strokeRect(p,B,j,g)):L([{x:p,y:B},{x:p+j,y:B},{x:p+j,y:B+g},{x:p,y:B+g},{x:p,y:B}])}r.strokeColorsRect=E;function w(d,C,p,B,j,g){d.beginPath(),d.arc(C+g,p+g,g,-y,-.5*y,!1),d.arc(C+B-g,p+g,g,-.5*y,0,!1),d.arc(C+B-g,p+j-g,g,0,.5*y,!1),d.arc(C+g,p+j-g,g,.5*y,y,!1),d.closePath()}r.roundRect=w;function v(d,C,p,B,j,g){w(d,C,p,B,j,g),d.fill()}r.fillRoundRect=v;function t(d,C,p,B,j,g){w(d,C,p,B,j,g),d.stroke()}r.strokeRoundRect=t;function n(d,C,p,B,j){var g=Math.min(B,j)/2;d.beginPath(),d.arc(C+g,p+g,g,0,2*Math.PI),d.closePath(),d.fill()}r.fillCircle=n;function e(d,C,p,B,j){var g=Math.min(B,j)/2;d.beginPath(),d.arc(C+g,p+g,g,0,2*Math.PI),d.closePath(),d.stroke()}r.strokeCircle=e;function o(d,C,p,B,j,g){var L=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},G=L.offset,M=G===void 0?2:G,K=L.padding,J={left:p,top:B,width:j,height:g,right:p+j,bottom:B+g};d.save();try{d.beginPath(),d.rect(J.left,J.top,J.width,J.height),d.clip();var ae=(0,I.calcBasePosition)(d,J,{offset:M,padding:K});d.fillText(C,ae.x,ae.y)}finally{d.restore()}}r.fillTextRect=o;function a(d,C,p,B,j,g,L,G,M,K,J,ae){var ce=arguments.length>12&&arguments[12]!==void 0?arguments[12]:{},re=ce.offset,Ee=re===void 0?2:re,$e=ce.padding,Ae={left:M,top:K,width:J,height:ae,right:M+J,bottom:K+ae};d.save();try{d.beginPath(),d.rect(Ae.left,Ae.top,Ae.width,Ae.height),d.clip();var Je=(0,I.calcStartPosition)(d,Ae,L,G,{offset:Ee,padding:$e});d.drawImage(C,p,B,j,g,Je.x,Je.y,L,G)}finally{d.restore()}}r.drawInlineImageRect=a;function i(d){return{width:(0,I.getFontSize)(d,null).width}}r.measureCheckbox=i;function l(d){return{width:(0,I.getFontSize)(d,null).width}}r.measureRadioButton=l;function u(d,C,p,B){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=j.uncheckBgColor,L=g===void 0?"#FFF":g,G=j.checkBgColor,M=G===void 0?"rgb(76, 73, 72)":G,K=j.borderColor,J=K===void 0?"#000":K,ae=j.boxSize,ce=ae===void 0?i(d).width:ae,re=typeof B=="number"?B>1?1:B:1;d.save();try{d.fillStyle=B?M:L;var Ee=_(C),$e=_(p),Ae=_(ce);if(v(d,Ee-1,$e-1,Ae+1,Ae+1,ce/5),d.lineWidth=1,d.strokeStyle=J,t(d,Ee-.5,$e-.5,Ae,Ae,ce/5),B){d.lineWidth=_(ce/10),d.strokeStyle=L;var Je=ce/4,ye=ce/2*.9,Pe=C+ce*.2,ve=p+ce/2;re<.5&&(Je*=re*2),d.beginPath(),d.moveTo(Pe,ve),d.lineTo(Pe+Je,ve+Je),re>.5&&(re<1&&(ye*=(re-.5)*2),d.lineTo(Pe+Je+ye,ve+Je-ye)),d.stroke()}}finally{d.restore()}}r.drawCheckbox=u;function f(d,C,p,B){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=j.checkColor,L=g===void 0?"rgb(76, 73, 72)":g,G=j.borderColor,M=G===void 0?"#000":G,K=j.bgColor,J=K===void 0?"#FFF":K,ae=j.boxSize,ce=ae===void 0?l(d).width:ae,re=typeof B=="number"?B>1?1:B:1;d.save();try{d.fillStyle=J;var Ee=_(C),$e=_(p),Ae=_(ce);if(n(d,Ee-1,$e-1,Ae+1,Ae+1),d.lineWidth=1,d.strokeStyle=M,e(d,Ee-.5,$e-.5,Ae,Ae),B){var Je=Ae*re/2,ye=(Ae-Je)/2;d.fillStyle=L,n(d,_((Ee-.5+ye)*100)/100,_(($e-.5+ye)*100)/100,_(Je*100)/100,_(Je*100)/100)}}finally{d.restore()}}r.drawRadioButton=f;function m(d,C,p,B,j){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},L=g.backgroundColor,G=L===void 0?"#FFF":L,M=g.bgColor,K=M===void 0?G:M,J=g.radius,ae=J===void 0?4:J,ce=g.shadow,re=ce===void 0?{}:ce;d.save();try{if(d.fillStyle=K,re){var Ee=re.color,$e=Ee===void 0?"rgba(0, 0, 0, 0.24)":Ee,Ae=re.blur,Je=Ae===void 0?1:Ae,ye=re.offsetX,Pe=ye===void 0?0:ye,ve=re.offsetY,Me=ve===void 0?2:ve,xe=re.offset;xe=xe===void 0?{}:xe;var V=xe.x,S=V===void 0?Pe:V,H=xe.y,$=H===void 0?Me:H;d.shadowColor=$e,d.shadowBlur=Je,d.shadowOffsetX=S,d.shadowOffsetY=$}v(d,_(C),_(p),_(B),_(j),ae)}finally{d.restore()}}r.drawButton=m},"./tooltip/BaseTooltip.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseTooltip=void 0;var I=function(){function _(y){fe(this,_),this._grid=y}return Ie(_,[{key:"dispose",value:function(){this.detachTooltipElement(),this._tooltipElement&&this._tooltipElement.dispose(),this._tooltipElement=void 0}},{key:"_getTooltipElement",value:function(){return this._tooltipElement?this._tooltipElement:this._tooltipElement=this.createTooltipElementInternal()}},{key:"attachTooltipElement",value:function(E,w,v){var t=this._getTooltipElement();t.attach(this._grid,E,w,v)}},{key:"moveTooltipElement",value:function(E,w){var v=this._getTooltipElement();v.move(this._grid,E,w)}},{key:"detachTooltipElement",value:function(){var E=this._getTooltipElement();E._detach()}}]),_}();r.BaseTooltip=I},"./tooltip/Tooltip.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.Tooltip=void 0;var I=s("./tooltip/BaseTooltip.js"),_=s("./tooltip/internal/TooltipElement.js"),y=function(E){Ce(v,E);var w=Be(v);function v(){return fe(this,v),w.apply(this,arguments)}return Ie(v,[{key:"createTooltipElementInternal",value:function(){return new _.TooltipElement}}]),v}(I.BaseTooltip);r.Tooltip=y},"./tooltip/TooltipHandler.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.TooltipHandler=void 0;var I=s("./list-grid/LG_EVENT_TYPE.js"),_=s("./tooltip/Tooltip.js"),y=s("./internal/utils.js"),E={"overflow-text":function(n){return new _.Tooltip(n)}};function w(t,n,e){var o=t.getCellOverflowText(n,e);return o?{type:"overflow-text",content:o}:null}var v=function(){function t(n){fe(this,t),this._grid=n,this._tooltipInstances={},this._bindGridEvent(n)}return Ie(t,[{key:"dispose",value:function(){var e=this._tooltipInstances;for(var o in e)e[o].dispose();delete this._tooltipInstances,this._attachInfo=null}},{key:"_attach",value:function(e,o){var a=this._attachInfo,i=this._getTooltipInstanceInfo(e,o);if(a&&(!i||a.instance!==i.instance)&&(a.instance.detachTooltipElement(),this._attachInfo=null),!!i){var l=i.instance;l.attachTooltipElement(e,o,i.content);var u=this._grid.getCellRange(e,o);this._attachInfo={range:u,instance:l}}}},{key:"_move",value:function(e,o){var a=this._attachInfo;if(!(!a||!(0,y.cellInRange)(a.range,e,o))){var i=a.instance;i.moveTooltipElement(e,o)}}},{key:"_detach",value:function(){var e=this._attachInfo;if(!!e){var o=e.instance;o.detachTooltipElement(),this._attachInfo=null}}},{key:"_isAttachCell",value:function(e,o){var a=this._attachInfo;return a?(0,y.cellInRange)(a.range,e,o):!1}},{key:"_bindGridEvent",value:function(e){var o=this;e.listen(I.LG_EVENT_TYPE.MOUSEOVER_CELL,function(a){a.related&&o._isAttachCell(a.col,a.row)||o._attach(a.col,a.row)}),e.listen(I.LG_EVENT_TYPE.MOUSEOUT_CELL,function(a){a.related&&o._isAttachCell(a.related.col,a.related.row)||o._detach()}),e.listen(I.LG_EVENT_TYPE.SELECTED_CELL,function(a){o._isAttachCell(a.col,a.row)&&o._detach()}),e.listen(I.LG_EVENT_TYPE.SCROLL,function(){var a=o._attachInfo;!a||o._move(a.range.start.col,a.range.start.row)}),e.listen(I.LG_EVENT_TYPE.CHANGED_VALUE,function(a){o._isAttachCell(a.col,a.row)&&(o._detach(),o._attach(a.col,a.row))})}},{key:"_getTooltipInstanceInfo",value:function(e,o){var a=this._grid,i=this._tooltipInstances,l=w(a,e,o);if(!l)return null;var u=l.type,f=i[u]||(i[u]=E[u](a));return{instance:f,type:u,content:l.content}}}]),t}();r.TooltipHandler=v},"./tooltip/internal/TooltipElement.js":function(ee,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.TooltipElement=void 0;var I=s("./internal/EventHandler.js"),_=s("./internal/dom.js"),y="cheetah-grid__tooltip-element",E="".concat(y,"__content"),w="".concat(y,"--hidden"),v="".concat(y,"--shown");function t(){s("../src/js/tooltip/internal/TooltipElement.css");var e=(0,_.createElement)("div",{classList:[y,w]}),o=(0,_.createElement)("pre",{classList:[E]});return e.appendChild(o),e}var n=function(){function e(){fe(this,e),this._handler=new I.EventHandler;var o=this._rootElement=t();this._messageElement=o.querySelector(".".concat(E))}return Ie(e,[{key:"dispose",value:function(){this.detach();var a=this._rootElement;a.parentElement&&a.parentElement.removeChild(a),this._handler.dispose(),delete this._rootElement,delete this._messageElement}},{key:"attach",value:function(a,i,l,u){var f=this._rootElement,m=this._messageElement;f.classList.remove(v),f.classList.add(w),this._attachCell(a,i,l)?(f.classList.add(v),f.classList.remove(w),m.textContent=u):this._detach()}},{key:"move",value:function(a,i,l){var u=this._rootElement;this._attachCell(a,i,l)?(u.classList.add(v),u.classList.remove(w)):this._detach()}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var a=this._rootElement;a.parentElement&&(a.classList.remove(v),a.classList.add(w))}},{key:"_attachCell",value:function(a,i,l){var u=this._rootElement,f=a.getAttachCellsArea(a.getCellRange(i,l)),m=f.element,d=f.rect,C=d.bottom,p=d.left,B=d.width,j=a.frozenRowCount,g=a.frozenColCount;if(l>=j&&j>0){var L=a.getAttachCellsArea(a.getCellRange(i,j-1)),G=L.rect;if(C<G.bottom)return!1}else if(C<0)return!1;if(i>=g&&g>0){var M=a.getAttachCellsArea(a.getCellRange(g-1,l)),K=M.rect;if(p<K.right)return!1}else if(p<0)return!1;var J=m.offsetHeight,ae=m.offsetWidth;return J<C||ae<p?!1:(u.style.top="".concat(C.toFixed(),"px"),u.style.left="".concat((p+B/2).toFixed(),"px"),u.style.minWidth="".concat(B.toFixed(),"px"),u.parentElement!==m&&m.appendChild(u),!0)}}]),e}();r.TooltipElement=n}})})}).call(typeof hr!="undefined"?hr:window,typeof hr!="undefined"?hr:window)})()})(kr,kr.exports);const Xr=x=>{var X=x,{url:N}=X,c=to(X,["url"]);return Xt((ge,ie)=>{const O=new AbortController;return fetch(N,eo({signal:O.signal},c)).then(ie).catch(ge),()=>{O.abort()}})},Ka=N=>c=>N(c)?Nn(c):Er(c),Do=qt.chain(Ka(qt.prop("ok"))),Ja=N=>{let c;switch(N.constructor){case Response:c=`HTTP error! status: ${N.status}`;break;case Error:case TypeError:c=`HTTP error! message: ${N.message}`;break;default:c=`Unknown rejection: ${String(N)}`}return Er(c)},ko=Po(Ja),Fo=qt.pipe([Do,ko(Bo(N=>N.text())),qt.join]),xa=qt.pipe([Do,ko(qt.compose(Nn)(qt.prop("headers"))),qt.join,qt.map(Array.from),qt.map(qt.reduce(N=>c=>N+`${c[0]}: ${c[1]}
`)(""))]);qt.compose(Fo)(Xr);const Un=Object.freeze({UNKNOWN:0,TERMINAL:1,SEPERATOR:2,SPACE:4,PARENT:8,CHILD:16,NUMBER:32}),rr=N=>c=>({value:N,type:c}),Tr=N=>c=>N.test(c)&&c,Ya=Tr(/\w+:\n$/),Xa=Tr(/^\d+\n$/),Qa=Tr(/\s{2}-\s\w+/),qa=Tr(/^\p{L}+\n$/u),Fr=N=>(c,x=[])=>{if(!N)return x;let X;switch(N){case Qa(N):return Fr(N.slice(4))(c,x);case qa(N):X=rr(N.slice(0,-1))(Un.CHILD);break;case Xa(N):X=rr(Number(N.slice(0,-1)))(Un.CHILD);break;case Ya(N):X=rr(N.slice(0,-2))(Un.PARENT);break;default:X=rr(N)(Un.UNKNOWN)}return Fr(c[0])(c.slice(1),qt.append(X)(x))},Za=N=>N===""?[]:N.replace(/\r\n?/g,`
`).match(/^(?=[\s\S]).*\n?/gm),ei=qt.pipe([Za,qt.array([rr("")(Un.UNKNOWN)])(Fr)]),ti=N=>c=>{let x=qt.fst(N),X=qt.snd(N);switch(c.type){case Un.PARENT:X=x[c.value]=[];break;case Un.CHILD:X.push(c.value);break}return qt.Pair(x)(X)},ni=qt.pipe([qt.reduce(ti)(qt.Pair({})([])),qt.fst]);var ri=qt.compose(ni)(ei);const oi=N=>`https://raw.githubusercontent.com/OpenXcom/OpenXcom/master/bin/common/SoldierName/${N}.nam`,No=oi("Danish"),ai=qt.compose(Fo)(Xr),ii=ai({redirect:"follow",url:No,method:"GET"}),li=qt.compose(xa)(Xr)({redirect:"follow",url:No,method:"HEAD"}),sr=document.querySelector("#app"),ui=sr.querySelector("#fetch"),si=sr.querySelector("#head"),ci=sr.querySelector("#cancel-fetch"),$o=sr.querySelector("#result"),fi=sr.querySelector("#table"),di=Lo(N=>{$o.textContent=`Error: ${N}`}),Ho=N=>c=>ci.onclick=di(N)(c),hi=qt.pipe([ri,({maleLast:N})=>{new kr.exports.ListGrid({parentElement:fi,header:[{field:"name",caption:"Last Name",width:"auto"}],records:N.map(c=>({name:c}))})}]),vi=N=>{$o.textContent=N};ui.addEventListener("click",()=>{Ho(hi)(ii)});si.addEventListener("click",()=>{Ho(vi)(li)});
